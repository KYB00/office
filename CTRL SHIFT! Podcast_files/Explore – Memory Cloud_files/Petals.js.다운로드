/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"petals": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./Yoyo.Elevator.Ui/ts/petals.ts","vendors~index~petals","vendors~petals"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./Yoyo.Elevator.Ui/static/assets/gltf/daf_export.json":
/*!*************************************************************!*\
  !*** ./Yoyo.Elevator.Ui/static/assets/gltf/daf_export.json ***!
  \*************************************************************/
/*! exports provided: animations, object, materials, geometries, images, metadata, textures, default */
/***/ (function(module) {

module.exports = {"animations":[{"name":"default","fps":24,"tracks":[]}],"object":{"matrix":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"uuid":"B5337E90-6A7E-4175-B708-68BEF493870A","type":"Scene","children":[{"name":"petal_1","uuid":"FC87B08E-8A5E-4CEE-AF0F-CE177E94DABA","matrix":[-1,0,0,0,0,1,0,0,0,0,-1,0,0,0,0,1],"visible":true,"type":"Mesh","material":"6763B253-3734-48C3-81DC-F9034E913AA5","castShadow":true,"receiveShadow":true,"geometry":"2156BBDB-3ECF-4524-AD10-C593703B71E4"},{"name":"petal_2","uuid":"095476E2-2754-4F5F-A8D1-24F2765E06F2","matrix":[-1,0,0,0,0,1,0,0,0,0,-1,0,0,0,0,1],"visible":true,"type":"Mesh","material":"6763B253-3734-48C3-81DC-F9034E913AA5","castShadow":true,"receiveShadow":true,"geometry":"A7BEBF56-C41E-4464-B241-FF984D3B116A"},{"name":"petal_3","uuid":"ACB0DFEA-71AF-40CF-AEE2-BCB6D6354885","matrix":[-1,0,0,0,0,1,0,0,0,0,-1,0,0,0,0,1],"visible":true,"type":"Mesh","material":"6763B253-3734-48C3-81DC-F9034E913AA5","castShadow":true,"receiveShadow":true,"geometry":"158921D5-6E38-4335-AEE1-446E39582A13"}]},"materials":[{"vertexColors":0,"uuid":"6763B253-3734-48C3-81DC-F9034E913AA5","emissive":0,"shininess":17,"specular":2631720,"depthWrite":true,"depthTest":true,"name":"doff","color":16777215,"blending":"NormalBlending","type":"MeshPhongMaterial","map":"FC2801F8-36A8-432C-914D-84D9A7254872"},{"vertexColors":0,"name":"Material","uuid":"850EDD6D-1CEC-495F-B736-5F44A8F30E80","color":10724259,"depthWrite":true,"specular":8355711,"blending":"NormalBlending","type":"MeshPhongMaterial","emissive":0,"depthTest":true,"shininess":50}],"geometries":[{"name":"kielich_Circle.001Geometry.3","uuid":"2156BBDB-3ECF-4524-AD10-C593703B71E4","type":"BufferGeometry","data":{"attributes":{"position":{"array":[-0.827,-2.092,0.287,0.192,-1.772,0.158,-1.016,-1.916,0.292,-1.791,-2.082,0.552,-1.442,-2.223,0.505,-0.675,-2.253,0.307,0.345,-1.959,0.165,-1.22,-1.578,0.304,-0.139,-1.201,0.189,-1.361,-1.165,0.28,-2.259,-1.448,0.562,-2.027,-1.793,0.565,0.005,-1.502,0.19,-0.163,-0.801,0.068,-1.331,-0.318,0.083,-1.361,-0.76,0.171,-2.458,-0.671,0.417,-2.424,-1.067,0.521,-1.385,0.21,0.122,-0.158,0.633,0.085,-1.394,0.725,0.172,-2.794,0.79,0.469,-2.892,0.329,0.457,-2.725,-0.209,0.394,-0.175,0.135,0.016,-0.011,1.039,0.046,-1.1,1.336,0.087,-1.23,1.132,0.119,-2.097,1.499,0.297,-2.364,1.213,0.346,0.258,1.641,0.046,-0.831,1.853,0.244,-0.951,1.605,0.141,-1.623,1.97,0.463,-1.872,1.729,0.361,0.164,1.369,0.001,0.604,2.198,0.262,-0.505,2.329,0.449,-0.688,2.079,0.349,-0.895,2.348,0.577,-1.192,2.134,0.544,0.353,1.887,0.145,1.215,-1.703,0.286,1.842,-1.208,0.477,1.091,-1.498,0.261,0.453,-2.141,0.186,1.375,-1.956,0.332,1.923,-1.386,0.522,0.792,0.111,0.131,1.652,0.405,0.368,0.805,0.537,0.197,-0.148,-0.371,-0.033,0.816,-0.331,0.081,1.65,0.081,0.32,1.753,0.655,0.335,1.087,1.154,0.114,0.934,0.879,0.157,0.941,-1.348,0.288,1.681,-0.879,0.429,0.825,-1.066,0.278,1.76,-1.075,0.465,1.662,-0.602,0.34,0.801,-0.718,0.168,1.941,1.053,0.359,1.309,1.652,0.273,1.172,1.383,0.167,1.876,0.862,0.307,2.414,1.592,0.622,1.71,2.179,0.487,1.536,1.948,0.391,0.783,2.506,0.359,2.183,1.359,0.493,-0.999,2.597,0.718,-1.619,2.378,0.753,-1.143,2.828,0.898,-1.758,2.665,0.947,-2.065,2.139,0.687,-2.297,1.853,0.578,-2.376,2.405,0.899,-2.828,2.113,0.823,-2.601,1.688,0.498,-3.053,1.34,0.575,-3.224,1.741,0.783,-3.835,1.148,0.97,-3.665,0.71,0.829,-3.652,0.283,0.767,-4.093,0.482,1.084,-4.516,0.067,1.162,-3.997,-0.365,0.899,-3.473,-0.23,0.676,-3.086,-0.606,0.645,-3.714,-0.744,0.944,-3.195,-1.081,0.966,-2.917,-1.018,0.749,-2.712,-1.409,0.796,-2.961,-1.416,0.984,-2.604,-1.822,0.997,-2.456,-1.78,0.804,-2.181,-2.131,0.788,-2.296,-2.211,0.983,-1.745,-2.482,0.819,-1.669,-2.359,0.654,-0.383,2.54,0.553,0.858,2.793,0.404,-0.3,2.978,0.631,-0.607,-2.526,0.365,-0.64,-2.745,0.438,0.558,-2.486,0.2,1.938,2.412,0.548,2.61,1.777,0.72,2.832,1.954,0.793,2.289,2.813,0.598,0.943,3.111,0.426,3.061,-1.236,1.002,2.307,-1.924,0.701,3.14,-1.446,1.08,3.194,-2.047,1.067,3.387,-1.628,1.206,3.505,-1.285,1.23,1.589,-2.227,0.368,0.722,-2.88,0.433,1.9,-2.679,0.609,2.072,-1.651,0.607,3.109,0.923,0.945,3.693,0.539,1.133,3.247,1.06,1,3.677,0.983,1.013,3.476,1.558,0.969,2.916,0.848,0.821,3.732,0.343,1.158,2.765,0.746,0.711,3.754,0.005,1.179,3.765,0.119,1.178,2.721,0.638,0.655,2.69,0.512,0.632,3.735,-0.096,1.207,2.584,-0.539,0.632,3.728,-0.414,1.294,2.587,-0.257,0.598,1.677,-0.27,0.279,2.618,-0.654,0.677,3.709,-0.521,1.262,2.727,-0.762,0.747,3.705,-0.598,1.229,2.863,-0.9,0.839,3.697,-0.68,1.235,2.626,0.373,0.64,3.729,-0.15,1.244,2.573,0.205,0.645,3.716,-0.23,1.269,2.571,-0.007,0.618,3.705,-0.287,1.277,3.72,-0.353,1.295,2.966,-1.024,0.921,3.661,-0.817,1.242,3.56,-1.105,1.26,3.613,-0.895,1.249,3.061,2.132,0.849,2.737,-2.402,0.979],"itemSize":3,"type":"Float32Array"},"uv":{"array":[0.71,0.509,0.673,0.606,0.692,0.491,0.713,0.413,0.727,0.448,0.732,0.52,0.696,0.619,0.659,0.471,0.62,0.575,0.618,0.458,0.65,0.368,0.684,0.39,0.649,0.589,0.578,0.573,0.53,0.462,0.575,0.458,0.575,0.284,0.611,0.352,0.479,0.457,0.437,0.573,0.429,0.455,0.422,0.287,0.479,0.225,0.539,0.23,0.485,0.572,0.396,0.587,0.368,0.484,0.388,0.471,0.354,0.387,0.383,0.361,0.337,0.613,0.321,0.509,0.343,0.498,0.313,0.431,0.334,0.408,0.363,0.603,0.286,0.647,0.279,0.54,0.301,0.523,0.28,0.502,0.3,0.472,0.315,0.622,0.683,0.709,0.621,0.768,0.648,0.693,0.726,0.628,0.716,0.721,0.657,0.783,0.488,0.664,0.462,0.748,0.448,0.666,0.533,0.574,0.53,0.665,0.492,0.747,0.436,0.757,0.384,0.691,0.413,0.677,0.635,0.68,0.589,0.752,0.607,0.668,0.608,0.76,0.56,0.748,0.57,0.665,0.396,0.775,0.338,0.714,0.363,0.7,0.414,0.768,0.346,0.825,0.274,0.762,0.311,0.738,0.258,0.665,0.367,0.8,0.258,0.491,0.28,0.428,0.24,0.475,0.26,0.4,0.3,0.385,0.325,0.364,0.266,0.343,0.3,0.272,0.339,0.336,0.372,0.288,0.344,0.203,0.41,0.122,0.434,0.206,0.501,0.123,0.47,0.076,0.512,0.028,0.575,0.109,0.556,0.179,0.597,0.217,0.607,0.135,0.648,0.207,0.629,0.25,0.649,0.319,0.677,0.249,0.71,0.298,0.687,0.344,0.722,0.372,0.734,0.357,0.759,0.415,0.743,0.424,0.26,0.552,0.23,0.673,0.208,0.558,0.755,0.522,0.791,0.506,0.762,0.636,0.244,0.782,0.313,0.854,0.283,0.879,0.205,0.794,0.198,0.677,0.648,0.872,0.73,0.849,0.668,0.9,0.67,0.937,0.615,0.942,0.598,0.943,0.75,0.755,0.798,0.631,0.796,0.777,0.687,0.813,0.41,0.897,0.47,0.968,0.396,0.913,0.455,0.955,0.312,0.942,0.416,0.874,0.471,0.957,0.426,0.856,0.475,0.929,0.472,0.942,0.435,0.85,0.448,0.846,0.478,0.925,0.552,0.836,0.523,0.925,0.524,0.836,0.526,0.749,0.564,0.841,0.546,0.927,0.575,0.853,0.556,0.932,0.584,0.853,0.563,0.943,0.462,0.84,0.483,0.926,0.48,0.836,0.491,0.926,0.5,0.835,0.5,0.926,0.509,0.925,0.621,0.853,0.571,0.947,0.593,0.928,0.579,0.936,0.231,0.874,0.768,0.879],"itemSize":2,"type":"Float32Array"},"normal":{"array":[0.172,0.218,0.961,0.011,-0.031,0.999,0.189,0.131,0.973,0.348,0.336,0.875,0.276,0.379,0.883,0.152,0.243,0.958,-0.022,0.067,0.998,0.182,0.102,0.978,0,0.148,0.989,0.174,0.194,0.965,0.363,0.258,0.895,0.371,0.258,0.892,0.014,-0.042,0.999,-0.012,0.256,0.967,0.153,0.064,0.986,0.163,0.22,0.962,0.295,0.244,0.924,0.349,0.267,0.898,0.144,-0.077,0.987,-0.014,-0.014,1,0.145,-0.011,0.989,0.301,-0.041,0.953,0.308,-0.06,0.95,0.29,0.097,0.952,-0.016,-0.115,0.993,-0.01,0.122,0.992,0.129,-0.091,0.987,0.142,0.061,0.988,0.221,-0.26,0.94,0.256,-0.035,0.966,-0.045,-0.266,0.963,0.143,-0.48,0.866,0.125,-0.344,0.931,0.145,-0.553,0.821,0.192,-0.469,0.862,-0.023,-0.017,1,-0.046,-0.296,0.954,0.174,-0.487,0.856,0.176,-0.486,0.856,0.226,-0.459,0.859,0.165,-0.542,0.824,-0.037,-0.35,0.936,-0.224,0.015,0.974,-0.303,0.005,0.953,-0.146,-0.125,0.981,-0.03,0.07,0.997,-0.242,-0.012,0.97,-0.366,0.075,0.928,-0.166,-0.132,0.977,-0.231,0.035,0.972,-0.148,0.011,0.989,-0.013,0.069,0.998,-0.171,0.05,0.984,-0.264,-0.134,0.955,-0.196,0.224,0.955,-0.172,0.033,0.984,-0.118,0.188,0.975,-0.107,-0.13,0.986,-0.256,0.172,0.951,-0.153,0.131,0.98,-0.252,0,0.968,-0.266,0.232,0.936,-0.171,0.255,0.952,-0.346,-0.14,0.928,-0.246,-0.215,0.945,-0.24,-0.194,0.951,-0.283,0.057,0.957,-0.373,-0.118,0.92,-0.235,-0.124,0.964,-0.253,-0.194,0.948,-0.035,-0.212,0.977,-0.36,-0.138,0.922,0.248,-0.425,0.87,0.164,-0.512,0.843,0.264,-0.479,0.837,0.168,-0.495,0.853,0.187,-0.516,0.836,0.174,-0.531,0.829,0.161,-0.489,0.858,0.228,-0.486,0.844,0.241,-0.389,0.889,0.388,-0.15,0.909,0.412,-0.316,0.854,0.494,-0.116,0.862,0.472,-0.086,0.877,0.428,-0.095,0.899,0.499,-0.213,0.84,0.442,-0.152,0.884,0.379,0.096,0.92,0.364,0.129,0.923,0.355,0.339,0.871,0.312,0.372,0.874,0.429,0.435,0.792,0.46,0.363,0.81,0.505,0.383,0.773,0.529,0.418,0.739,0.623,0.477,0.62,0.565,0.409,0.716,0.521,0.499,0.692,0.592,0.56,0.58,0.427,0.634,0.645,0.373,0.541,0.754,0.184,-0.36,0.915,0.005,-0.111,0.994,0.204,-0.227,0.952,0.183,0.263,0.947,0.21,0.332,0.92,-0.051,0.268,0.962,-0.196,-0.008,0.981,-0.342,-0.038,0.939,-0.275,0.04,0.961,-0.193,0.038,0.98,-0.005,-0.063,0.998,-0.453,0.125,0.883,-0.407,0.058,0.912,-0.444,0.073,0.893,-0.401,0.024,0.916,-0.454,-0.001,0.891,-0.442,0.043,0.896,-0.298,0.118,0.947,-0.124,0.453,0.883,-0.366,0.219,0.905,-0.385,0.023,0.922,-0.432,-0.085,0.898,-0.216,0.099,0.971,-0.224,0.061,0.973,0.005,0.192,0.981,-0.145,0.108,0.983,-0.503,-0.123,0.855,-0.354,0.021,0.935,-0.522,-0.172,0.836,-0.322,0.197,0.926,-0.359,0.037,0.932,-0.479,-0.121,0.869,-0.398,0.079,0.914,-0.178,0.479,0.859,-0.399,0.176,0.9,-0.507,-0.106,0.855,-0.428,0.002,0.904,-0.274,0.023,0.962,-0.39,0.21,0.896,-0.457,-0.226,0.86,-0.411,0.168,0.896,-0.442,-0.145,0.885,-0.43,0.186,0.883,-0.456,0.137,0.88,-0.343,0.182,0.921,-0.269,0.403,0.875,-0.382,0.024,0.924,-0.381,0.247,0.891,-0.421,-0.105,0.901,-0.452,0.149,0.879,-0.512,-0.014,0.859,-0.443,0.174,0.879,-0.466,0.227,0.855,-0.47,0.1,0.877,-0.478,0.297,0.827,-0.26,0.033,0.965,-0.381,0.183,0.906],"itemSize":3,"type":"Float32Array"}},"index":{"array":[0,1,2,2,3,0,0,4,5,5,6,0,7,8,9,9,10,7,7,11,2,2,12,7,13,14,15,14,16,15,15,17,9,9,13,15,18,19,20,18,21,22,18,23,14,14,24,18,25,26,27,27,28,29,29,20,27,27,19,25,30,31,32,32,33,34,34,26,32,32,35,30,36,37,38,38,39,40,40,31,38,38,41,36,42,43,44,44,6,42,42,45,46,46,47,42,48,49,50,50,24,48,48,51,52,52,53,48,54,55,56,56,35,25,25,50,56,56,49,54,57,58,59,59,12,57,57,1,44,44,60,57,61,52,62,62,51,13,13,59,62,62,58,61,63,64,65,65,41,30,30,55,65,65,66,63,67,68,69,69,70,36,36,64,69,69,71,67,40,72,73,73,74,75,75,76,73,73,33,40,34,76,77,77,78,79,79,80,77,77,28,34,29,80,81,81,82,83,83,84,81,81,21,29,22,84,85,85,86,87,85,88,89,89,22,85,90,23,89,89,91,90,90,92,93,93,16,90,94,17,93,93,95,94,94,96,97,97,10,94,98,11,97,97,99,98,98,100,101,101,3,98,102,70,103,103,104,102,104,72,102,102,39,37,105,4,101,101,106,105,106,107,105,105,45,5,108,109,110,110,111,108,108,112,103,103,68,108,113,114,115,114,116,115,115,117,118,118,113,115,46,107,119,119,120,121,121,114,119,119,122,46,123,124,125,125,126,127,127,110,125,125,109,123,128,129,123,128,109,67,67,130,128,128,131,132,133,131,130,133,71,63,133,66,134,134,135,133,136,137,138,136,139,61,136,58,140,140,141,136,142,143,140,140,60,142,142,43,144,144,145,142,146,147,134,146,66,54,54,148,146,148,149,146,150,151,148,148,53,150,150,139,138,138,152,150,153,154,144,144,47,153,153,122,113,153,155,156,0,6,1,2,11,3,0,3,4,5,45,6,7,12,8,9,17,10,7,10,11,2,1,12,13,51,14,14,23,16,15,16,17,9,8,13,18,24,19,18,20,21,18,22,23,14,51,24,25,35,26,27,26,28,29,21,20,27,20,19,30,41,31,32,31,33,34,28,26,32,26,35,36,70,37,38,37,39,40,33,31,38,31,41,42,47,43,44,1,6,42,6,45,46,122,47,48,53,49,50,19,24,48,24,51,52,139,53,54,66,55,56,55,35,25,19,50,56,50,49,57,60,58,59,8,12,57,12,1,44,43,60,61,139,52,62,52,51,13,8,59,62,59,58,63,71,64,65,64,41,30,35,55,65,55,66,67,109,68,69,68,70,36,41,64,69,64,71,40,39,72,73,72,74,75,78,76,73,76,33,34,33,76,77,76,78,79,82,80,77,80,28,29,28,80,81,80,82,83,86,84,81,84,21,22,21,84,85,84,86,85,87,88,89,23,22,90,16,23,89,88,91,90,91,92,93,17,16,94,10,17,93,92,95,94,95,96,97,11,10,98,3,11,97,96,99,98,99,100,101,4,3,102,37,70,103,112,104,104,74,72,102,72,39,105,5,4,101,100,106,106,120,107,105,107,45,108,68,109,110,157,111,108,111,112,103,70,68,113,122,114,114,158,116,115,116,117,118,155,113,46,45,107,119,107,120,121,158,114,119,114,122,123,129,124,125,124,126,127,157,110,125,110,109,128,132,129,128,123,109,67,71,130,128,130,131,133,135,131,133,130,71,133,63,66,134,147,135,136,141,137,136,138,139,136,61,58,140,143,141,142,145,143,140,58,60,142,60,43,144,154,145,146,149,147,146,134,66,54,49,148,148,151,149,150,152,151,148,49,53,150,53,139,138,137,152,153,156,154,144,43,47,153,47,122,153,113,155],"itemSize":1,"type":"Uint16Array"}},"metadata":{"version":3,"position":159,"generator":"io_three","normal":159,"uv":159}},{"name":"kielich_Circle.004Geometry.3","uuid":"158921D5-6E38-4335-AEE1-446E39582A13","type":"BufferGeometry","data":{"attributes":{"position":{"array":[-1.015,-1.716,0.287,0.02,-1.431,-0.003,-1.194,-1.606,0.105,-2.031,-1.89,0.534,-1.67,-2.03,0.535,-0.887,-1.916,0.339,0.131,-1.485,0.278,-1.408,-1.264,0.216,-0.323,-0.922,0.288,-1.553,-0.955,0.295,-2.503,-1.253,0.462,-2.272,-1.601,0.511,-0.17,-1.129,0.161,-0.34,-0.576,0.139,-1.498,-0.257,0.148,-1.535,-0.553,0.166,-2.667,-0.503,0.246,-2.657,-0.872,0.378,-1.555,0.135,0.15,-0.349,0.532,0.349,-1.584,0.546,0.379,-3.043,0.546,0.277,-3.162,0.183,0.182,-2.952,-0.105,0.139,-0.352,0.118,0.121,-0.314,0.75,0.535,-1.508,0.955,0.571,-1.563,0.762,0.518,-2.764,0.994,0.281,-2.914,0.75,0.265,-0.14,1.197,0.574,-1.1,1.382,0.544,-1.255,1.246,0.525,-1.892,1.318,0.674,-2.351,1.233,0.456,-0.254,0.985,0.621,0.034,1.392,0.722,-0.886,1.704,0.927,-0.939,1.449,0.753,-1.405,1.775,0.943,-1.615,1.468,0.848,-0.086,1.345,0.549,1.03,-1.318,0.384,1.687,-0.892,0.283,0.917,-1.178,0.188,0.222,-1.8,0.331,1.189,-1.517,0.478,1.762,-1.004,0.509,0.601,0.074,0.254,1.465,0.294,0.479,0.614,0.429,0.371,-0.338,-0.278,0.283,0.608,-0.255,0.414,1.459,0.02,0.394,0.667,0.654,0.317,1.559,0.662,0.344,0.704,0.918,0.247,1.489,0.513,0.413,0.766,-0.99,0.262,1.507,-0.67,0.464,0.642,-0.823,0.388,1.599,-0.756,0.352,1.476,-0.407,0.373,0.614,-0.501,0.256,1.621,0.853,0.41,0.897,1.212,0.467,0.813,1.123,0.326,2.012,0.942,0.845,1.321,1.589,0.729,1.021,1.255,0.81,0.177,1.806,0.691,1.767,0.931,0.528,-1.813,1.902,0.872,-2.347,1.635,0.803,-2.129,1.964,0.82,-2.61,1.778,0.816,-2.77,1.477,0.72,-3.192,1.258,0.625,-3.101,1.558,0.86,-3.701,1.374,0.808,-3.5,1.112,0.408,-3.969,0.981,0.312,-4.01,1.274,0.569,-4.292,0.933,0.435,-4.171,0.702,0.281,-4.175,0.391,0.16,-4.605,0.423,0.318,-5.022,-0.001,0.112,-4.629,-0.21,0.079,-3.921,-0.071,0.126,-3.929,-0.464,0.26,-4.407,-0.587,0.175,-4.166,-1.029,0.343,-3.849,-0.987,0.465,-3.389,-1.367,0.616,-3.805,-1.446,0.503,-3.044,-1.892,0.583,-3.016,-1.665,0.7,-2.475,-1.955,0.666,-2.621,-2.049,0.585,-2.016,-2.313,0.534,-1.918,-2.177,0.537,-0.927,1.947,0.994,0.252,1.976,0.765,-0.869,2.112,0.958,-0.863,-2.158,0.433,-0.881,-2.337,0.377,0.33,-2.038,0.227,1.612,1.768,0.781,2.188,1.31,0.721,2.414,1.504,0.756,1.792,2.011,0.773,0.37,2.133,0.807,2.607,-0.885,0.579,2.107,-1.449,0.449,2.711,-1.066,0.433,2.384,-1.756,0.42,2.923,-1.328,0.395,3.51,-0.79,0.344,3.375,-0.62,0.428,1.362,-1.833,0.319,0.42,-2.299,0.211,1.617,-2.165,0.283,1.924,-1.216,0.594,3.178,1.035,0.587,3.665,0.447,0.275,3.777,0.462,0.302,3.631,0.59,0.388,3.421,1.243,0.596,2.724,1.715,0.773,3.016,0.897,0.563,3.492,0.284,0.441,2.767,0.687,0.702,2.595,0.709,0.427,3.37,0.381,0.22,3.328,0.348,0.25,2.536,0.624,0.368,2.467,0.442,0.344,3.334,0.306,0.292,2.397,-0.341,0.35,3.307,-0.173,0.554,2.374,-0.206,0.595,2.44,-0.446,0.375,3.346,-0.272,0.256,2.572,-0.444,0.278,3.406,-0.371,0.224,2.587,-0.537,0.18,3.522,-0.332,0.141,3.338,0.241,0.309,2.404,0.356,0.392,2.384,0.156,0.433,2.378,-0.041,0.388,3.338,0.032,0.311,1.466,-0.225,0.571,3.327,-0.088,0.309,3.432,-0.429,0.417,2.55,-0.682,0.493,3.505,-0.963,0.333,3.575,-0.42,0.094],"itemSize":3,"type":"Float32Array"},"uv":{"array":[0.71,0.509,0.673,0.606,0.692,0.491,0.713,0.413,0.727,0.448,0.732,0.52,0.696,0.619,0.659,0.471,0.62,0.575,0.618,0.458,0.65,0.368,0.684,0.39,0.649,0.589,0.578,0.573,0.53,0.462,0.575,0.458,0.575,0.284,0.611,0.352,0.479,0.457,0.437,0.573,0.429,0.455,0.422,0.287,0.479,0.225,0.539,0.23,0.485,0.572,0.396,0.587,0.368,0.484,0.388,0.471,0.354,0.387,0.383,0.361,0.337,0.613,0.321,0.509,0.343,0.498,0.313,0.431,0.334,0.408,0.363,0.603,0.286,0.647,0.279,0.54,0.301,0.523,0.28,0.502,0.3,0.472,0.315,0.622,0.683,0.709,0.621,0.768,0.648,0.693,0.726,0.628,0.716,0.721,0.657,0.783,0.488,0.664,0.462,0.748,0.448,0.666,0.533,0.574,0.53,0.665,0.492,0.747,0.413,0.677,0.414,0.768,0.384,0.691,0.436,0.757,0.635,0.68,0.589,0.752,0.607,0.668,0.608,0.76,0.56,0.748,0.57,0.665,0.396,0.775,0.338,0.714,0.363,0.7,0.346,0.825,0.274,0.762,0.311,0.738,0.258,0.665,0.367,0.8,0.258,0.491,0.28,0.428,0.24,0.475,0.26,0.4,0.3,0.385,0.325,0.364,0.266,0.343,0.3,0.272,0.339,0.336,0.372,0.288,0.344,0.203,0.41,0.122,0.434,0.206,0.501,0.123,0.47,0.076,0.512,0.028,0.575,0.109,0.556,0.179,0.597,0.217,0.607,0.135,0.648,0.207,0.629,0.25,0.649,0.319,0.677,0.249,0.71,0.298,0.687,0.344,0.722,0.372,0.734,0.357,0.759,0.415,0.743,0.424,0.26,0.552,0.23,0.673,0.208,0.558,0.755,0.522,0.791,0.506,0.762,0.636,0.244,0.782,0.313,0.854,0.283,0.879,0.205,0.794,0.198,0.677,0.648,0.872,0.73,0.849,0.668,0.9,0.768,0.879,0.67,0.937,0.598,0.943,0.593,0.928,0.75,0.755,0.798,0.631,0.796,0.777,0.687,0.813,0.396,0.913,0.471,0.957,0.47,0.968,0.455,0.955,0.312,0.942,0.231,0.874,0.41,0.897,0.472,0.942,0.416,0.874,0.426,0.856,0.475,0.929,0.478,0.925,0.435,0.85,0.448,0.846,0.483,0.926,0.552,0.836,0.523,0.925,0.524,0.836,0.564,0.841,0.546,0.927,0.575,0.853,0.556,0.932,0.584,0.853,0.563,0.943,0.491,0.926,0.462,0.84,0.48,0.836,0.5,0.835,0.5,0.926,0.526,0.749,0.509,0.925,0.579,0.936,0.621,0.853,0.615,0.942,0.571,0.947],"itemSize":2,"type":"Float32Array"},"normal":{"array":[0.014,0.626,0.779,-0.148,0.37,0.917,0.104,0.356,0.929,0.231,0.258,0.938,0.117,0.126,0.985,0.056,0.317,0.947,-0.198,0.631,0.75,0.174,-0.164,0.971,-0.009,-0.066,0.998,0.092,0.08,0.993,0.157,0.258,0.953,0.245,0.268,0.932,0.044,-0.473,0.88,-0.075,0.011,0.997,0.014,0.038,0.999,0.048,0.186,0.981,0.041,0.3,0.953,0.078,0.309,0.948,-0.003,-0.246,0.969,-0.038,-0.564,0.825,-0.048,-0.5,0.865,-0.005,-0.126,0.992,-0.015,-0.2,0.98,0.011,0.072,0.997,-0.071,-0.072,0.995,0.019,-0.473,0.881,-0.091,-0.045,0.995,-0.104,-0.381,0.919,-0.027,-0.352,0.936,-0.014,-0.036,0.999,0.16,0.088,0.983,0.014,-0.627,0.779,0.035,-0.081,0.996,-0.049,-0.783,0.62,-0.103,-0.592,0.8,0.107,-0.073,0.992,-0.009,-0.6,0.8,0.063,-0.382,0.922,-0.01,-0.789,0.614,-0.078,-0.154,0.985,-0.004,-0.563,0.827,0.045,-0.588,0.808,-0.27,0.479,0.835,-0.161,0.272,0.949,-0.188,0.228,0.955,0.005,-0.099,0.995,-0.115,-0.116,0.987,-0.287,0.543,0.789,-0.151,0.063,0.987,-0.047,-0.009,0.999,-0.04,-0.094,0.995,-0.112,-0.039,0.993,-0.124,-0.068,0.99,-0.082,0.157,0.984,0.119,0.208,0.971,-0.051,0.066,0.996,0.112,-0.076,0.991,0.008,0.349,0.937,-0.007,-0.505,0.863,0.046,-0.226,0.973,-0.072,-0.138,0.988,0.151,-0.561,0.814,-0.073,-0.259,0.963,-0.123,-0.088,0.988,-0.181,-0.484,0.856,-0.216,-0.878,0.426,-0.09,-0.575,0.813,-0.069,-0.493,0.867,-0.009,-0.004,1,-0.164,-0.487,0.858,0.065,-0.189,0.98,-0.239,-0.845,0.477,-0.133,0.05,0.99,-0.053,-0.243,0.969,-0.115,0.039,0.993,0.022,-0.248,0.968,0.115,-0.538,0.835,0.071,-0.73,0.68,0.175,-0.592,0.787,-0.019,-0.808,0.589,-0.025,-0.66,0.751,0.144,-0.417,0.897,0.073,-0.734,0.675,0.359,-0.449,0.818,0.186,-0.327,0.926,0.053,-0.289,0.956,0.267,-0.521,0.811,0.085,-0.301,0.95,-0.04,-0.022,0.999,-0.063,0.083,0.995,-0.134,0.315,0.939,-0.181,0.233,0.956,-0.332,0.195,0.923,-0.209,0.237,0.949,-0.107,0.115,0.988,-0.281,-0.015,0.96,-0.258,-0.385,0.886,-0.13,-0.044,0.991,0.045,-0.123,0.991,-0.172,-0.469,0.867,0.125,-0.175,0.977,0.127,-0.073,0.989,0.035,-0.002,0.999,0.044,-0.339,0.94,0.062,0.167,0.984,0.124,-0.018,0.992,0.142,-0.282,0.949,0.057,-0.215,0.975,-0.01,-0.093,0.996,0.093,0.016,0.995,0.029,-0.153,0.988,0.024,0.001,1,0.01,-0.248,0.969,0.129,-0.031,0.991,0.072,-0.282,0.957,0.222,-0.28,0.934,-0.003,-0.103,0.995,0.113,-0.054,0.992,0.175,-0.18,0.968,0.148,-0.112,0.983,-0.02,-0.287,0.958,0.013,-0.062,0.998,-0.069,-0.159,0.985,-0.012,-0.097,0.995,0.123,-0.265,0.956,0.149,-0.282,0.948,-0.185,-0.586,0.789,-0.732,-0.628,-0.264,0.146,-0.216,0.965,0.06,-0.156,0.986,0.248,-0.061,0.967,0.215,-0.37,0.904,0.006,-0.538,0.843,-0.206,-0.827,0.522,-0.329,-0.813,0.48,0.355,0.476,0.805,-0.017,-0.358,0.933,0.073,0.144,0.987,0.197,0.42,0.886,0.073,-0.4,0.913,0.205,-0.029,0.978,0.036,-0.074,0.997,0.212,-0.389,0.897,0.157,-0.562,0.812,0.203,-0.874,0.441,0.123,-0.991,0.045,0.032,0.159,0.987,0.139,-0.625,0.768,0.116,0.144,0.983,0.102,0.307,0.946,0.069,-0.027,0.997,0.024,0.339,0.94,0.105,-0.023,0.994,-0.076,-0.084,0.993,0.097,0.528,0.844,-0.092,0.881,0.465,-0.173,0.673,0.719,0.15,-0.07,0.986,0.015,0.509,0.86],"itemSize":3,"type":"Float32Array"}},"index":{"array":[0,1,2,2,3,0,0,4,5,5,6,0,7,8,9,9,10,7,7,11,2,2,12,7,13,14,15,14,16,15,15,17,9,15,8,13,18,19,20,18,21,22,18,23,14,14,24,18,25,26,27,27,28,29,29,20,27,27,19,25,30,31,32,32,33,34,34,26,32,32,35,30,36,37,38,38,39,40,40,31,38,38,41,36,42,43,44,44,6,42,42,45,46,46,47,42,48,49,50,50,24,48,48,51,52,52,53,48,54,55,56,54,35,25,25,50,54,50,57,54,58,59,60,60,12,58,58,1,44,44,61,58,62,52,63,63,51,13,63,8,60,63,59,62,64,65,66,66,41,30,30,56,66,66,55,64,67,68,69,69,70,36,36,65,69,69,71,67,40,72,73,73,74,75,75,76,73,73,33,40,34,76,77,77,78,79,79,80,77,77,28,34,29,80,81,81,82,83,83,84,81,81,21,29,22,84,85,85,86,87,85,88,89,89,22,85,90,23,89,89,91,90,90,92,93,93,16,90,94,17,93,93,95,94,94,96,97,97,10,94,98,11,97,97,99,98,98,100,101,101,3,98,102,70,103,103,104,102,104,72,102,102,39,37,105,4,101,101,106,105,106,107,105,105,45,5,108,109,110,110,111,108,108,112,103,103,68,108,113,114,115,115,116,117,117,118,115,115,119,113,46,107,120,120,121,122,122,114,120,120,123,46,124,125,126,124,127,128,124,129,110,110,130,124,131,130,132,132,109,67,67,133,132,132,134,131,135,133,136,136,71,64,64,137,136,136,138,135,139,140,141,141,62,139,139,59,142,142,143,139,144,145,142,142,61,144,144,43,146,146,147,144,148,137,149,149,55,57,149,49,150,150,148,149,151,152,150,150,53,151,151,153,141,151,140,154,155,146,156,156,43,47,156,123,113,156,119,155,0,6,1,2,11,3,0,3,4,5,45,6,7,12,8,9,17,10,7,10,11,2,1,12,13,51,14,14,23,16,15,16,17,15,9,8,18,24,19,18,20,21,18,22,23,14,51,24,25,35,26,27,26,28,29,21,20,27,20,19,30,41,31,32,31,33,34,28,26,32,26,35,36,70,37,38,37,39,40,33,31,38,31,41,42,47,43,44,1,6,42,6,45,46,123,47,48,53,49,50,19,24,48,24,51,52,153,53,54,57,55,54,56,35,25,19,50,50,49,57,58,61,59,60,8,12,58,12,1,44,43,61,62,153,52,63,52,51,63,13,8,63,60,59,64,71,65,66,65,41,30,35,56,66,56,55,67,109,68,69,68,70,36,41,65,69,65,71,40,39,72,73,72,74,75,78,76,73,76,33,34,33,76,77,76,78,79,82,80,77,80,28,29,28,80,81,80,82,83,86,84,81,84,21,22,21,84,85,84,86,85,87,88,89,23,22,90,16,23,89,88,91,90,91,92,93,17,16,94,10,17,93,92,95,94,95,96,97,11,10,98,3,11,97,96,99,98,99,100,101,4,3,102,37,70,103,112,104,104,74,72,102,72,39,105,5,4,101,100,106,106,121,107,105,107,45,108,68,109,110,129,111,108,111,112,103,70,68,113,123,114,115,114,116,117,157,118,115,118,119,46,45,107,120,107,121,122,116,114,120,114,123,124,130,125,124,126,127,124,128,129,110,109,130,131,125,130,132,130,109,67,71,133,132,133,134,135,134,133,136,133,71,64,55,137,136,137,138,139,143,140,141,153,62,139,62,59,142,145,143,144,147,145,142,59,61,144,61,43,146,158,147,148,138,137,149,137,55,149,57,49,150,152,148,151,154,152,150,49,53,151,53,153,151,141,140,155,158,146,156,146,43,156,47,123,156,113,119],"itemSize":1,"type":"Uint16Array"}},"metadata":{"version":3,"position":159,"generator":"io_three","normal":159,"uv":159}},{"name":"kielich_Circle.002Geometry.3","uuid":"A7BEBF56-C41E-4464-B241-FF984D3B116A","type":"BufferGeometry","data":{"attributes":{"position":{"array":[-0.81,-2.151,0.296,0.21,-1.8,0.16,-1.001,-1.975,0.294,-1.819,-2.157,0.524,-1.457,-2.297,0.517,-0.679,-2.268,0.326,0.341,-1.92,0.155,-1.207,-1.638,0.305,-0.116,-1.253,0.243,-1.345,-1.223,0.275,-2.292,-1.521,0.462,-2.06,-1.868,0.506,0.029,-1.553,0.225,-0.136,-0.844,0.094,-1.29,-0.361,0.052,-1.331,-0.81,0.145,-2.46,-0.73,0.249,-2.448,-1.134,0.38,-1.35,0.163,0.129,-0.136,0.586,0.204,-1.368,0.673,0.229,-2.836,0.731,0.287,-2.957,0.274,0.195,-2.748,-0.261,0.147,-0.149,0.095,0.076,0.01,0.995,0.172,-1.068,1.288,0.187,-1.2,1.083,0.203,-2.083,1.441,0.308,-2.354,1.156,0.289,0.274,1.597,0.2,-0.821,1.79,0.469,-0.929,1.552,0.296,-1.645,1.893,0.673,-1.875,1.664,0.465,0.183,1.329,0.123,0.619,2.137,0.516,-0.509,2.248,0.81,-0.687,2.007,0.641,-0.92,2.257,0.963,-1.221,2.047,0.868,0.367,1.835,0.35,1.242,-1.753,0.243,1.886,-1.261,0.347,1.116,-1.547,0.24,0.435,-2.053,0.17,1.406,-2.006,0.263,1.977,-1.439,0.353,0.807,0.066,0.189,1.676,0.352,0.396,0.822,0.487,0.306,-0.119,-0.406,-0.023,0.83,-0.37,0.089,1.668,0.032,0.312,1.771,0.606,0.334,1.095,1.113,0.189,0.947,0.832,0.255,0.967,-1.401,0.307,1.717,-0.934,0.381,0.85,-1.12,0.323,1.802,-1.13,0.38,1.685,-0.651,0.29,0.82,-0.764,0.191,1.959,1.005,0.331,1.324,1.599,0.407,1.181,1.337,0.265,1.887,0.817,0.265,2.473,1.533,0.559,1.746,2.113,0.659,1.561,1.888,0.549,0.802,2.438,0.654,2.22,1.305,0.451,-1.045,2.494,1.166,-1.692,2.276,1.106,-1.219,2.709,1.417,-1.873,2.548,1.366,-2.135,2.048,0.899,-2.343,1.774,0.668,-2.501,2.3,1.125,-2.936,2.022,0.858,-2.623,1.62,0.459,-3.118,1.275,0.372,-3.339,1.662,0.621,-4.158,1.075,0.467,-3.976,0.645,0.314,-3.97,0.226,0.194,-4.581,0.413,0.352,-5.045,0.009,0.152,-4.393,-0.421,0.124,-3.717,-0.286,0.154,-3.224,-0.671,0.312,-4.053,-0.815,0.364,-3.415,-1.169,0.687,-3.034,-1.095,0.521,-2.806,-1.494,0.651,-3.035,-1.513,0.856,-2.748,-1.924,0.94,-2.547,-1.869,0.722,-2.264,-2.222,0.757,-2.427,-2.316,0.993,-1.821,-2.58,0.885,-1.713,-2.444,0.676,-0.392,2.45,0.976,0.879,2.722,0.727,-0.311,2.88,1.114,-0.653,-2.425,0.398,-0.679,-2.604,0.491,0.536,-2.305,0.168,1.981,2.345,0.703,2.685,1.715,0.637,2.919,1.89,0.668,2.338,2.747,0.7,0.965,3.038,0.765,2.826,-1.374,0.342,2.397,-1.977,0.357,3.041,-1.621,0.331,2.72,-2.217,0.325,3.285,-1.776,0.291,3.712,-1.231,0.209,3.717,-1.057,0.22,3.558,-1.004,0.248,1.623,-2.274,0.241,0.626,-2.566,0.151,1.844,-2.546,0.198,2.143,-1.705,0.371,3.39,1.008,0.469,3.871,0.223,0.148,3.984,0.23,0.172,3.84,0.392,0.261,3.633,1.199,0.474,3.228,0.871,0.449,3.711,0.205,0.114,2.992,0.799,0.389,2.805,0.701,0.322,3.575,0.179,0.099,3.534,0.146,0.13,2.744,0.595,0.263,2.707,0.47,0.243,2.605,-0.583,0.248,3.531,-0.306,0.173,2.599,-0.3,0.234,1.691,-0.314,0.228,2.648,-0.699,0.273,3.552,-0.537,0.136,2.773,-0.808,0.286,3.611,-0.639,0.102,2.781,-0.903,0.291,3.719,-0.706,0.129,2.645,0.328,0.292,3.54,0.098,0.172,2.594,0.158,0.332,3.545,0.025,0.189,2.587,-0.052,0.287,3.544,-0.065,0.191,3.534,-0.162,0.189,3.645,-0.864,0.226,2.764,-1.117,0.32,3.157,2.069,0.675,3.767,-0.789,0.184],"itemSize":3,"type":"Float32Array"},"uv":{"array":[0.71,0.509,0.673,0.606,0.692,0.491,0.713,0.413,0.727,0.448,0.732,0.52,0.696,0.619,0.659,0.471,0.62,0.575,0.618,0.458,0.65,0.368,0.684,0.39,0.649,0.589,0.578,0.573,0.53,0.462,0.575,0.458,0.575,0.284,0.611,0.352,0.479,0.457,0.437,0.573,0.429,0.455,0.422,0.287,0.479,0.225,0.539,0.23,0.485,0.572,0.396,0.587,0.368,0.484,0.388,0.471,0.354,0.387,0.383,0.361,0.337,0.613,0.321,0.509,0.343,0.498,0.313,0.431,0.334,0.408,0.363,0.603,0.286,0.647,0.279,0.54,0.301,0.523,0.28,0.502,0.3,0.472,0.315,0.622,0.683,0.709,0.621,0.768,0.648,0.693,0.726,0.628,0.716,0.721,0.657,0.783,0.488,0.664,0.462,0.748,0.448,0.666,0.533,0.574,0.53,0.665,0.492,0.747,0.436,0.757,0.384,0.691,0.413,0.677,0.635,0.68,0.589,0.752,0.607,0.668,0.608,0.76,0.56,0.748,0.57,0.665,0.396,0.775,0.338,0.714,0.363,0.7,0.414,0.768,0.346,0.825,0.274,0.762,0.311,0.738,0.258,0.665,0.367,0.8,0.258,0.491,0.28,0.428,0.24,0.475,0.26,0.4,0.3,0.385,0.325,0.364,0.266,0.343,0.3,0.272,0.339,0.336,0.372,0.288,0.344,0.203,0.41,0.122,0.434,0.206,0.501,0.123,0.47,0.076,0.512,0.028,0.575,0.109,0.556,0.179,0.597,0.217,0.607,0.135,0.648,0.207,0.629,0.25,0.649,0.319,0.677,0.249,0.71,0.298,0.687,0.344,0.722,0.372,0.734,0.357,0.759,0.415,0.743,0.424,0.26,0.552,0.23,0.673,0.208,0.558,0.755,0.522,0.791,0.506,0.762,0.636,0.244,0.782,0.313,0.854,0.283,0.879,0.205,0.794,0.198,0.677,0.648,0.872,0.73,0.849,0.668,0.9,0.768,0.879,0.67,0.937,0.615,0.942,0.598,0.943,0.593,0.928,0.75,0.755,0.798,0.631,0.796,0.777,0.687,0.813,0.396,0.913,0.471,0.957,0.47,0.968,0.455,0.955,0.312,0.942,0.41,0.897,0.472,0.942,0.416,0.874,0.426,0.856,0.475,0.929,0.478,0.925,0.435,0.85,0.448,0.846,0.552,0.836,0.523,0.925,0.524,0.836,0.526,0.749,0.564,0.841,0.546,0.927,0.575,0.853,0.556,0.932,0.584,0.853,0.563,0.943,0.462,0.84,0.483,0.926,0.48,0.836,0.491,0.926,0.5,0.835,0.5,0.926,0.509,0.925,0.579,0.936,0.621,0.853,0.231,0.874,0.571,0.947],"itemSize":2,"type":"Float32Array"},"normal":{"array":[0.143,0.286,0.948,0.043,-0.11,0.993,0.152,0.121,0.981,0.276,0.398,0.875,0.203,0.494,0.846,0.11,0.388,0.915,0.007,0.045,0.999,0.12,0.084,0.989,-0.017,0.143,0.99,0.091,0.212,0.973,0.253,0.299,0.92,0.287,0.301,0.909,0.026,-0.129,0.991,-0.033,0.295,0.955,0.062,0.034,0.997,0.079,0.248,0.966,0.12,0.301,0.946,0.202,0.316,0.927,0.032,-0.167,0.985,-0.037,-0.079,0.996,0.036,-0.08,0.996,0.045,-0.153,0.987,0.024,-0.15,0.988,0.049,0.1,0.994,-0.04,-0.22,0.975,-0.015,0.12,0.993,0.073,-0.19,0.979,0.065,0.027,0.998,0.087,-0.409,0.908,0.085,-0.141,0.986,-0.032,-0.412,0.911,0.121,-0.658,0.743,0.088,-0.515,0.853,0.049,-0.732,0.679,0.083,-0.652,0.754,-0.011,-0.081,0.997,0.005,-0.45,0.893,0.197,-0.663,0.722,0.181,-0.662,0.727,0.208,-0.626,0.751,0.104,-0.713,0.694,-0.011,-0.51,0.86,-0.111,-0.02,0.994,0.002,-0.096,0.995,-0.035,-0.215,0.976,0.013,0.066,0.998,-0.096,-0.073,0.993,-0.063,0.016,0.998,-0.13,-0.242,0.961,-0.023,-0.016,1,-0.104,-0.046,0.994,-0.031,0.035,0.999,-0.134,0.009,0.991,-0.07,-0.245,0.967,0.052,0.245,0.968,-0.095,-0.015,0.995,-0.043,0.206,0.978,-0.015,-0.239,0.971,-0.029,0.146,0.989,-0.097,0.124,0.987,0.033,-0.111,0.993,-0.068,0.246,0.967,-0.131,0.293,0.947,-0.134,-0.287,0.948,-0.162,-0.358,0.92,-0.18,-0.328,0.927,-0.029,-0.003,1,-0.114,-0.3,0.947,-0.085,-0.248,0.965,-0.136,-0.341,0.93,0.045,-0.347,0.937,-0.125,-0.3,0.946,0.224,-0.586,0.778,0.063,-0.686,0.725,0.22,-0.645,0.732,0.049,-0.669,0.741,0.048,-0.692,0.72,0.014,-0.709,0.705,-0.016,-0.667,0.745,0.022,-0.672,0.74,0.041,-0.561,0.827,0.112,-0.309,0.944,0.159,-0.519,0.84,0.153,-0.309,0.939,0.109,-0.257,0.96,0.034,-0.207,0.978,0.107,-0.412,0.905,0.018,-0.274,0.961,-0.057,0.076,0.995,-0.024,0.147,0.989,0.05,0.443,0.895,-0.072,0.471,0.879,0.125,0.592,0.796,0.244,0.495,0.834,0.436,0.464,0.771,0.468,0.55,0.692,0.554,0.524,0.647,0.471,0.462,0.752,0.441,0.552,0.708,0.511,0.608,0.607,0.33,0.716,0.616,0.272,0.64,0.719,0.226,-0.517,0.826,0.113,-0.209,0.971,0.265,-0.358,0.895,0.15,0.426,0.892,0.193,0.434,0.88,0.069,-0.006,0.998,-0.001,-0.088,0.996,-0.045,-0.218,0.975,0.031,-0.127,0.991,0.03,-0.024,0.999,0.12,-0.138,0.983,0.053,0.054,0.997,-0.014,-0.108,0.994,0.108,-0.012,0.994,0.027,-0.108,0.994,0.149,-0.022,0.989,0.212,-0.058,0.976,0.192,-0.037,0.981,0.115,0.057,0.992,-0.062,-0.165,0.984,0.066,-0.053,0.996,-0.055,-0.201,0.978,-0.048,-0.03,0.998,0.097,-0.225,0.969,-0.129,-0.467,0.875,-0.245,-0.503,0.829,-0.778,-0.406,-0.479,0.126,-0.185,0.975,-0.012,-0.34,0.94,-0.087,-0.491,0.867,-0.106,-0.394,0.913,-0.113,-0.399,0.91,0.146,-0.215,0.966,0.379,0.421,0.824,-0.06,-0.307,0.95,0.097,0.053,0.994,0.055,0.147,0.988,0.089,-0.11,0.99,0.033,-0.078,0.996,-0.07,-0.038,0.997,0.081,0.205,0.975,0.156,-0.17,0.973,0.112,0.16,0.981,0.128,0.284,0.95,0.069,0.105,0.992,0.048,0.527,0.848,0.151,0.221,0.964,0.255,0.399,0.881,0.095,-0.015,0.995,0.169,0.116,0.979,0.044,-0.209,0.977,0.123,-0.021,0.992,0.082,-0.081,0.993,0.056,0.342,0.938,0.037,0.112,0.993,0.053,-0.106,0.993,0.031,0.527,0.849],"itemSize":3,"type":"Float32Array"}},"index":{"array":[0,1,2,2,3,0,0,4,5,5,6,0,7,8,9,9,10,7,7,11,2,2,12,7,13,14,15,14,16,15,15,17,9,9,13,15,18,19,20,18,21,22,18,23,14,14,24,18,25,26,27,27,28,29,29,20,27,27,19,25,30,31,32,32,33,34,34,26,32,32,35,30,36,37,38,38,39,40,40,31,38,38,41,36,42,43,44,44,6,42,42,45,46,46,47,42,48,49,50,50,24,48,48,51,52,52,53,48,54,55,56,56,35,25,25,50,56,56,49,54,57,58,59,59,12,57,57,1,44,44,60,57,61,52,62,62,51,13,13,59,62,62,58,61,63,64,65,65,41,30,30,55,65,65,66,63,67,68,69,69,70,36,36,64,69,69,71,67,40,72,73,73,74,75,75,76,73,73,33,40,34,76,77,77,78,79,79,80,77,77,28,34,29,80,81,81,82,83,83,84,81,81,21,29,22,84,85,85,86,87,85,88,89,89,22,85,90,23,89,89,91,90,90,92,93,93,16,90,94,17,93,93,95,94,94,96,97,97,10,94,98,11,97,97,99,98,98,100,101,101,3,98,102,70,103,103,104,102,104,72,102,102,39,37,105,4,101,101,106,105,106,107,105,105,45,5,108,109,110,110,111,108,108,112,103,103,68,108,113,114,115,115,116,117,115,118,119,115,120,113,46,107,121,121,122,123,123,114,121,121,124,46,125,126,127,125,128,129,129,110,125,125,109,130,131,130,132,132,109,67,132,71,133,132,134,131,135,133,136,133,63,136,136,66,137,137,135,136,138,139,140,138,141,61,138,58,142,142,143,138,144,145,142,142,60,144,144,43,146,146,147,144,148,149,137,148,66,54,54,150,148,150,151,148,152,153,150,150,53,152,152,141,140,140,154,152,155,146,156,156,43,47,47,113,156,156,120,155,0,6,1,2,11,3,0,3,4,5,45,6,7,12,8,9,17,10,7,10,11,2,1,12,13,51,14,14,23,16,15,16,17,9,8,13,18,24,19,18,20,21,18,22,23,14,51,24,25,35,26,27,26,28,29,21,20,27,20,19,30,41,31,32,31,33,34,28,26,32,26,35,36,70,37,38,37,39,40,33,31,38,31,41,42,47,43,44,1,6,42,6,45,46,124,47,48,53,49,50,19,24,48,24,51,52,141,53,54,66,55,56,55,35,25,19,50,56,50,49,57,60,58,59,8,12,57,12,1,44,43,60,61,141,52,62,52,51,13,8,59,62,59,58,63,71,64,65,64,41,30,35,55,65,55,66,67,109,68,69,68,70,36,41,64,69,64,71,40,39,72,73,72,74,75,78,76,73,76,33,34,33,76,77,76,78,79,82,80,77,80,28,29,28,80,81,80,82,83,86,84,81,84,21,22,21,84,85,84,86,85,87,88,89,23,22,90,16,23,89,88,91,90,91,92,93,17,16,94,10,17,93,92,95,94,95,96,97,11,10,98,3,11,97,96,99,98,99,100,101,4,3,102,37,70,103,112,104,104,74,72,102,72,39,105,5,4,101,100,106,106,122,107,105,107,45,108,68,109,110,157,111,108,111,112,103,70,68,113,124,114,115,114,116,115,117,118,115,119,120,46,45,107,121,107,122,123,116,114,121,114,124,125,130,126,125,127,128,129,157,110,125,110,109,131,126,130,132,130,109,132,67,71,132,133,134,135,134,133,133,71,63,136,63,66,137,149,135,138,143,139,138,140,141,138,61,58,142,145,143,144,147,145,142,58,60,144,60,43,146,158,147,148,151,149,148,137,66,54,49,150,150,153,151,152,154,153,150,49,53,152,53,141,140,139,154,155,158,146,156,146,43,47,124,113,156,113,120],"itemSize":1,"type":"Uint16Array"}},"metadata":{"version":3,"position":159,"generator":"io_three","normal":159,"uv":159}}],"images":[{"name":"texture_n.png","uuid":"570A98D5-C895-4624-B48D-36FABECAB5A9","url":"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABTAAD/4QN/aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0MiA3OS4xNjA5MjQsIDIwMTcvMDcvMTMtMDE6MDY6MzkgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9IjA5NEExQjg4MjdBMUIwMjdBMkU1RjAwREQyM0QxQTg0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI5NTRDQkVBQjI4QjExRTk4NzBDQTMyNTI3NzBENjk4IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI5NTRDQkU5QjI4QjExRTk4NzBDQTMyNTI3NzBENjk4IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYWRkN2U4Zi0zYTE2LTZjNDAtOWQ2MC00NjE3NmEzY2JiNjUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo1MDU0NDZjNS1hOWUzLWQ5NDctOWVmYS04YzRjNjExNjdkZDIiLz4gPC9yZGY6RGVzY3JpcHRpb24+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"}],"metadata":{"version":4.4,"type":"Object","sourceFile":"daf_export.blend","generator":"io_three"},"textures":[{"name":"texture_n.png","uuid":"FC2801F8-36A8-432C-914D-84D9A7254872","mapping":300,"wrap":[1000,1000],"anisotropy":1,"magFilter":1006,"minFilter":1008,"image":"570A98D5-C895-4624-B48D-36FABECAB5A9","repeat":[1,1]}]};

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/ExploreControl.js":
/*!**************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/ExploreControl.js ***!
  \**************************************************/
/*! exports provided: ExploreControl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExploreControl", function() { return ExploreControl; });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ "./Yoyo.Elevator.Ui/ts/3d/utils.js");
/**
 * @author qiao / https://github.com/qiao
 * @author mrdoob / http://mrdoob.com
 * @author alteredq / http://alteredqualia.com/
 * @author WestLangley / http://github.com/WestLangley
 * @author erich666 / http://erichaines.com
 */



var ExploreControl = function ExploreControl(object, domElement) {
  this.object = object;
  this.domElement = domElement !== undefined ? domElement : document; // Set to true to enable damping (inertia)
  // If damping is enabled, you must call controls.update() in your animation loop

  this.enableDamping = true;
  this.dampingFactor = 0.045;
  this.mouseButtons = {
    LEFT: three__WEBPACK_IMPORTED_MODULE_0__["MOUSE"].LEFT,
    MIDDLE: three__WEBPACK_IMPORTED_MODULE_0__["MOUSE"].MIDDLE,
    RIGHT: three__WEBPACK_IMPORTED_MODULE_0__["MOUSE"].RIGHT
  };
  this.rotateSpeed = 0.06;
  this.phi = 0;
  this.delta = 0;
  this.fps = 16.66;
  this.startX = 0;
  this.endX = 0; // this method is exposed, but perhaps it would be better if we can make it private...

  this.update = function () {
    var offset = new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"]();
    return function update() {
      //phi += delta;
      this.delta = delta; //console.log(phi)
      //scope.rotateSpeed += (scope.sRotateSpeed - scope.rotateSpeed)*0.07;

      if (scope.enableDamping === true) {
        delta *= 1 - scope.dampingFactor * (this.fps / 16.66);
      }

      scope.object.phi += delta;
      return false;
    };
  }();

  this.dispose = function () {
    scope.domElement.removeEventListener('contextmenu', onContextMenu, false);
    scope.domElement.removeEventListener('mousedown', onMouseDown, false);
    scope.domElement.removeEventListener('wheel', onMouseWheel, false);
    scope.domElement.removeEventListener('touchstart', onTouchStart, false);
    scope.domElement.removeEventListener('touchend', onTouchEnd, false);
    scope.domElement.removeEventListener('touchmove', onTouchMove, false);
    document.removeEventListener('mousemove', onMouseMove, false);
    document.removeEventListener('mouseup', onMouseUp, false);
    window.removeEventListener('keydown', onKeyDown, false); //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?
  };

  this.stopScroll = function () {
    setStateNone();
  }; //
  // internals
  //


  var scope = this;
  var changeEvent = {
    type: 'change'
  };
  var startEvent = {
    type: 'start'
  };
  var endEvent = {
    type: 'end'
  };
  var STATE = {
    NONE: -1,
    ROTATE: 0,
    DOLLY: 1,
    PAN: 2,
    TOUCH_ROTATE: 3,
    TOUCH_DOLLY_PAN: 4
  };
  var state = STATE.NONE;
  var EPS = 0.000001;
  var rotateStart = new three__WEBPACK_IMPORTED_MODULE_0__["Vector2"]();
  var rotateEnd = new three__WEBPACK_IMPORTED_MODULE_0__["Vector2"]();
  var rotateDelta = new three__WEBPACK_IMPORTED_MODULE_0__["Vector2"]();
  var startX = 0;
  var phi = 0;
  var delta = 0;
  var dollyStart = new three__WEBPACK_IMPORTED_MODULE_0__["Vector2"]();
  var dollyEnd = new three__WEBPACK_IMPORTED_MODULE_0__["Vector2"]();
  var dollyDelta = new three__WEBPACK_IMPORTED_MODULE_0__["Vector2"]();

  function rotateLeft(angle) {
    //scope.object.phi -= angle;
    delta -= angle;
  }

  function handleMouseDownRotate(event) {
    rotateStart.set(event.clientX, event.clientY);
    startX = rotateStart.x;
  }

  function handleMouseMoveRotate(event) {
    rotateEnd.set(event.clientX, event.clientY);
    rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);
    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;
    scope.rotateSpeed = Object(_utils_js__WEBPACK_IMPORTED_MODULE_1__["trueAlpha"])(Math.abs(rotateEnd.x - startX) / (element.clientWidth * 0.25)) * 0.04;
    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight);
    rotateStart.copy(rotateEnd);
    scope.update();
  }

  function onMouseWheel(event) {
    if (scope.enabled === false) return;
    event.preventDefault();
    event.stopPropagation();
    scope.dispatchEvent(startEvent);
    handleMouseWheel(event);
    scope.dispatchEvent(endEvent);
  }

  function handleMouseWheel(event) {
    rotateLeft(event.deltaY * 0.0001);
    scope.update();
  }

  function handleTouchStartRotate(event) {
    rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);
    scope.startX = event.touches[0].pageX;
    scope.endX = event.touches[0].pageX;
  }

  function handleTouchMoveRotate(event) {
    rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);
    scope.endX = event.touches[0].pageX;
    rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);
    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;
    scope.rotateSpeed = Object(_utils_js__WEBPACK_IMPORTED_MODULE_1__["trueAlpha"])(Math.abs(rotateEnd.x - startX) / (element.clientWidth * 0.25)) * 0.04;
    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height

    rotateStart.copy(rotateEnd);
    scope.update();
  }

  function onMouseDown(event) {
    if (scope.enabled === false) return; // Prevent the browser from scrolling.

    event.preventDefault(); // Manually set the focus since calling preventDefault above
    // prevents the browser from setting it automatically.

    scope.domElement.focus ? scope.domElement.focus() : window.focus();

    switch (event.button) {
      case scope.mouseButtons.LEFT:
        handleMouseDownRotate(event);
        state = STATE.ROTATE;
        break;
    }

    if (state !== STATE.NONE) {
      document.addEventListener('mousemove', onMouseMove, false);
      document.addEventListener('mouseup', onMouseUp, false);
      scope.dispatchEvent(startEvent);
    }
  }

  function onMouseMove(event) {
    if (scope.enabled === false) return;
    event.preventDefault();

    switch (state) {
      case STATE.ROTATE:
        if (scope.enableRotate === false) return;
        handleMouseMoveRotate(event);
        break;

      case STATE.DOLLY:
        if (scope.enableZoom === false) return;
        handleMouseMoveDolly(event);
        break;

      case STATE.PAN:
        if (scope.enablePan === false) return;
        handleMouseMovePan(event);
        break;
    }
  }

  function onMouseUp(event) {
    if (scope.enabled === false) return;
    document.removeEventListener('mousemove', onMouseMove, false);
    document.removeEventListener('mouseup', onMouseUp, false);
    setStateNone();
  }

  function onTouchStart(event) {
    if (scope.enabled === false) return;
    event.preventDefault();

    switch (event.touches.length) {
      case 1:
        // one-fingered touch: rotate
        if (scope.enableRotate === false) return;
        handleTouchStartRotate(event);
        state = STATE.TOUCH_ROTATE;
        break;

      default:
        setStateNone();
    }

    if (state !== STATE.NONE) {
      scope.dispatchEvent(startEvent);
    }
  }

  function onTouchMove(event) {
    if (scope.enabled === false) return;
    event.preventDefault();
    event.stopPropagation();

    switch (event.touches.length) {
      case 1:
        // one-fingered touch: rotate
        if (scope.enableRotate === false) return;
        if (state !== STATE.TOUCH_ROTATE) return; // is this needed?

        handleTouchMoveRotate(event);
        break;

      case 2:
        // two-fingered touch: dolly-pan
        if (scope.enableZoom === false && scope.enablePan === false) return;
        if (state !== STATE.TOUCH_DOLLY_PAN) return; // is this needed?

        handleTouchMoveDollyPan(event);
        break;

      default:
        setStateNone();
    }
  }

  function onTouchEnd() {
    if (scope.enabled === false) return;
    setStateNone();
  }

  function setStateNone() {
    scope.dispatchEvent(endEvent);
    state = STATE.NONE;
  }

  function onContextMenu(event) {
    if (scope.enabled === false) return;
    event.preventDefault();
  }

  scope.domElement.addEventListener('contextmenu', onContextMenu, false);
  scope.domElement.addEventListener('mousedown', onMouseDown, false);
  scope.domElement.addEventListener('wheel', onMouseWheel, false);
  scope.domElement.addEventListener('touchstart', onTouchStart, false);
  scope.domElement.addEventListener('touchend', onTouchEnd, false);
  scope.domElement.addEventListener('touchmove', onTouchMove, false); // force an update at start

  this.update();
};

ExploreControl.prototype = Object.create(three__WEBPACK_IMPORTED_MODULE_0__["EventDispatcher"].prototype);
ExploreControl.prototype.constructor = ExploreControl;


/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/FXAAShader.js":
/*!**********************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/FXAAShader.js ***!
  \**********************************************/
/*! exports provided: FXAAShader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FXAAShader", function() { return FXAAShader; });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/**
 * @author alteredq / http://alteredqualia.com/
 * @author davidedc / http://www.sketchpatch.net/
 *
 * NVIDIA FXAA by Timothy Lottes
 * http://timothylottes.blogspot.com/2011/06/fxaa3-source-released.html
 * - WebGL port by @supereggbert
 * http://www.glge.org/demos/fxaa/
 */

var FXAAShader = {
  uniforms: {
    "tScene": {
      value: null
    },
    "resolution": {
      value: new three__WEBPACK_IMPORTED_MODULE_0__["Vector2"](1 / 1024, 1 / 512)
    }
  },
  vertexShader: ["varying vec2 vUv;", "void main() {", "vUv = uv;", "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
  fragmentShader: ["precision highp float;", "", "uniform sampler2D tScene;", "", "uniform vec2 resolution;", "", "varying vec2 vUv;", "", "// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)", "", "//----------------------------------------------------------------------------------", "// File:		es3-kepler\FXAA\assets\shaders/FXAA_DefaultES.frag", "// SDK Version: v3.00", "// Email:	   gameworks@nvidia.com", "// Site:		http://developer.nvidia.com/", "//", "// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.", "//", "// Redistribution and use in source and binary forms, with or without", "// modification, are permitted provided that the following conditions", "// are met:", "//  * Redistributions of source code must retain the above copyright", "//	notice, this list of conditions and the following disclaimer.", "//  * Redistributions in binary form must reproduce the above copyright", "//	notice, this list of conditions and the following disclaimer in the", "//	documentation and/or other materials provided with the distribution.", "//  * Neither the name of NVIDIA CORPORATION nor the names of its", "//	contributors may be used to endorse or promote products derived", "//	from this software without specific prior written permission.", "//", "// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY", "// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE", "// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR", "// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR", "// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,", "// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,", "// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR", "// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY", "// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT", "// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE", "// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.", "//", "//----------------------------------------------------------------------------------", "", "#define FXAA_PC 1", "#define FXAA_GLSL_100 1", "#define FXAA_QUALITY_PRESET 12", "", "#define FXAA_GREEN_AS_LUMA 1", "", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_PC_CONSOLE", "	//", "	// The console algorithm for PC is included", "	// for developers targeting really low spec machines.", "	// Likely better to just run FXAA_PC, and use a really low preset.", "	//", "	#define FXAA_PC_CONSOLE 0", "#endif", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_GLSL_120", "	#define FXAA_GLSL_120 0", "#endif", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_GLSL_130", "	#define FXAA_GLSL_130 0", "#endif", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_HLSL_3", "	#define FXAA_HLSL_3 0", "#endif", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_HLSL_4", "	#define FXAA_HLSL_4 0", "#endif", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_HLSL_5", "	#define FXAA_HLSL_5 0", "#endif", "/*==========================================================================*/", "#ifndef FXAA_GREEN_AS_LUMA", "	//", "	// For those using non-linear color,", "	// and either not able to get luma in alpha, or not wanting to,", "	// this enables FXAA to run using green as a proxy for luma.", "	// So with this enabled, no need to pack luma in alpha.", "	//", "	// This will turn off AA on anything which lacks some amount of green.", "	// Pure red and blue or combination of only R and B, will get no AA.", "	//", "	// Might want to lower the settings for both,", "	//	fxaaConsoleEdgeThresholdMin", "	//	fxaaQualityEdgeThresholdMin", "	// In order to insure AA does not get turned off on colors", "	// which contain a minor amount of green.", "	//", "	// 1 = On.", "	// 0 = Off.", "	//", "	#define FXAA_GREEN_AS_LUMA 0", "#endif", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_EARLY_EXIT", "	//", "	// Controls algorithm's early exit path.", "	// On PS3 turning this ON adds 2 cycles to the shader.", "	// On 360 turning this OFF adds 10ths of a millisecond to the shader.", "	// Turning this off on console will result in a more blurry image.", "	// So this defaults to on.", "	//", "	// 1 = On.", "	// 0 = Off.", "	//", "	#define FXAA_EARLY_EXIT 1", "#endif", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_DISCARD", "	//", "	// Only valid for PC OpenGL currently.", "	// Probably will not work when FXAA_GREEN_AS_LUMA = 1.", "	//", "	// 1 = Use discard on pixels which don't need AA.", "	//	 For APIs which enable concurrent TEX+ROP from same surface.", "	// 0 = Return unchanged color on pixels which don't need AA.", "	//", "	#define FXAA_DISCARD 0", "#endif", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_FAST_PIXEL_OFFSET", "	//", "	// Used for GLSL 120 only.", "	//", "	// 1 = GL API supports fast pixel offsets", "	// 0 = do not use fast pixel offsets", "	//", "	#ifdef GL_EXT_gpu_shader4", "		#define FXAA_FAST_PIXEL_OFFSET 1", "	#endif", "	#ifdef GL_NV_gpu_shader5", "		#define FXAA_FAST_PIXEL_OFFSET 1", "	#endif", "	#ifdef GL_ARB_gpu_shader5", "		#define FXAA_FAST_PIXEL_OFFSET 1", "	#endif", "	#ifndef FXAA_FAST_PIXEL_OFFSET", "		#define FXAA_FAST_PIXEL_OFFSET 0", "	#endif", "#endif", "/*--------------------------------------------------------------------------*/", "#ifndef FXAA_GATHER4_ALPHA", "	//", "	// 1 = API supports gather4 on alpha channel.", "	// 0 = API does not support gather4 on alpha channel.", "	//", "	#if (FXAA_HLSL_5 == 1)", "		#define FXAA_GATHER4_ALPHA 1", "	#endif", "	#ifdef GL_ARB_gpu_shader5", "		#define FXAA_GATHER4_ALPHA 1", "	#endif", "	#ifdef GL_NV_gpu_shader5", "		#define FXAA_GATHER4_ALPHA 1", "	#endif", "	#ifndef FXAA_GATHER4_ALPHA", "		#define FXAA_GATHER4_ALPHA 0", "	#endif", "#endif", "", "", "/*============================================================================", "						FXAA QUALITY - TUNING KNOBS", "------------------------------------------------------------------------------", "NOTE the other tuning knobs are now in the shader function inputs!", "============================================================================*/", "#ifndef FXAA_QUALITY_PRESET", "	//", "	// Choose the quality preset.", "	// This needs to be compiled into the shader as it effects code.", "	// Best option to include multiple presets is to", "	// in each shader define the preset, then include this file.", "	//", "	// OPTIONS", "	// -----------------------------------------------------------------------", "	// 10 to 15 - default medium dither (10=fastest, 15=highest quality)", "	// 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)", "	// 39	   - no dither, very expensive", "	//", "	// NOTES", "	// -----------------------------------------------------------------------", "	// 12 = slightly faster then FXAA 3.9 and higher edge quality (default)", "	// 13 = about same speed as FXAA 3.9 and better than 12", "	// 23 = closest to FXAA 3.9 visually and performance wise", "	//  _ = the lowest digit is directly related to performance", "	// _  = the highest digit is directly related to style", "	//", "	#define FXAA_QUALITY_PRESET 12", "#endif", "", "", "/*============================================================================", "", "						   FXAA QUALITY - PRESETS", "", "============================================================================*/", "", "/*============================================================================", "					 FXAA QUALITY - MEDIUM DITHER PRESETS", "============================================================================*/", "#if (FXAA_QUALITY_PRESET == 10)", "	#define FXAA_QUALITY_PS 3", "	#define FXAA_QUALITY_P0 1.5", "	#define FXAA_QUALITY_P1 3.0", "	#define FXAA_QUALITY_P2 12.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 11)", "	#define FXAA_QUALITY_PS 4", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 3.0", "	#define FXAA_QUALITY_P3 12.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 12)", "	#define FXAA_QUALITY_PS 5", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 4.0", "	#define FXAA_QUALITY_P4 12.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 13)", "	#define FXAA_QUALITY_PS 6", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 4.0", "	#define FXAA_QUALITY_P5 12.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 14)", "	#define FXAA_QUALITY_PS 7", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 2.0", "	#define FXAA_QUALITY_P5 4.0", "	#define FXAA_QUALITY_P6 12.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 15)", "	#define FXAA_QUALITY_PS 8", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 2.0", "	#define FXAA_QUALITY_P5 2.0", "	#define FXAA_QUALITY_P6 4.0", "	#define FXAA_QUALITY_P7 12.0", "#endif", "", "/*============================================================================", "					 FXAA QUALITY - LOW DITHER PRESETS", "============================================================================*/", "#if (FXAA_QUALITY_PRESET == 20)", "	#define FXAA_QUALITY_PS 3", "	#define FXAA_QUALITY_P0 1.5", "	#define FXAA_QUALITY_P1 2.0", "	#define FXAA_QUALITY_P2 8.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 21)", "	#define FXAA_QUALITY_PS 4", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 8.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 22)", "	#define FXAA_QUALITY_PS 5", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 8.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 23)", "	#define FXAA_QUALITY_PS 6", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 2.0", "	#define FXAA_QUALITY_P5 8.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 24)", "	#define FXAA_QUALITY_PS 7", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 2.0", "	#define FXAA_QUALITY_P5 3.0", "	#define FXAA_QUALITY_P6 8.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 25)", "	#define FXAA_QUALITY_PS 8", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 2.0", "	#define FXAA_QUALITY_P5 2.0", "	#define FXAA_QUALITY_P6 4.0", "	#define FXAA_QUALITY_P7 8.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 26)", "	#define FXAA_QUALITY_PS 9", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 2.0", "	#define FXAA_QUALITY_P5 2.0", "	#define FXAA_QUALITY_P6 2.0", "	#define FXAA_QUALITY_P7 4.0", "	#define FXAA_QUALITY_P8 8.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 27)", "	#define FXAA_QUALITY_PS 10", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 2.0", "	#define FXAA_QUALITY_P5 2.0", "	#define FXAA_QUALITY_P6 2.0", "	#define FXAA_QUALITY_P7 2.0", "	#define FXAA_QUALITY_P8 4.0", "	#define FXAA_QUALITY_P9 8.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 28)", "	#define FXAA_QUALITY_PS 11", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 2.0", "	#define FXAA_QUALITY_P5 2.0", "	#define FXAA_QUALITY_P6 2.0", "	#define FXAA_QUALITY_P7 2.0", "	#define FXAA_QUALITY_P8 2.0", "	#define FXAA_QUALITY_P9 4.0", "	#define FXAA_QUALITY_P10 8.0", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_QUALITY_PRESET == 29)", "	#define FXAA_QUALITY_PS 12", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.5", "	#define FXAA_QUALITY_P2 2.0", "	#define FXAA_QUALITY_P3 2.0", "	#define FXAA_QUALITY_P4 2.0", "	#define FXAA_QUALITY_P5 2.0", "	#define FXAA_QUALITY_P6 2.0", "	#define FXAA_QUALITY_P7 2.0", "	#define FXAA_QUALITY_P8 2.0", "	#define FXAA_QUALITY_P9 2.0", "	#define FXAA_QUALITY_P10 4.0", "	#define FXAA_QUALITY_P11 8.0", "#endif", "", "/*============================================================================", "					 FXAA QUALITY - EXTREME QUALITY", "============================================================================*/", "#if (FXAA_QUALITY_PRESET == 39)", "	#define FXAA_QUALITY_PS 12", "	#define FXAA_QUALITY_P0 1.0", "	#define FXAA_QUALITY_P1 1.0", "	#define FXAA_QUALITY_P2 1.0", "	#define FXAA_QUALITY_P3 1.0", "	#define FXAA_QUALITY_P4 1.0", "	#define FXAA_QUALITY_P5 1.5", "	#define FXAA_QUALITY_P6 2.0", "	#define FXAA_QUALITY_P7 2.0", "	#define FXAA_QUALITY_P8 2.0", "	#define FXAA_QUALITY_P9 2.0", "	#define FXAA_QUALITY_P10 4.0", "	#define FXAA_QUALITY_P11 8.0", "#endif", "", "", "", "/*============================================================================", "", "								API PORTING", "", "============================================================================*/", "#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)", "	#define FxaaBool bool", "	#define FxaaDiscard discard", "	#define FxaaFloat float", "	#define FxaaFloat2 vec2", "	#define FxaaFloat3 vec3", "	#define FxaaFloat4 vec4", "	#define FxaaHalf float", "	#define FxaaHalf2 vec2", "	#define FxaaHalf3 vec3", "	#define FxaaHalf4 vec4", "	#define FxaaInt2 ivec2", "	#define FxaaSat(x) clamp(x, 0.0, 1.0)", "	#define FxaaTex sampler2D", "#else", "	#define FxaaBool bool", "	#define FxaaDiscard clip(-1)", "	#define FxaaFloat float", "	#define FxaaFloat2 float2", "	#define FxaaFloat3 float3", "	#define FxaaFloat4 float4", "	#define FxaaHalf half", "	#define FxaaHalf2 half2", "	#define FxaaHalf3 half3", "	#define FxaaHalf4 half4", "	#define FxaaSat(x) saturate(x)", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_GLSL_100 == 1)", "  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)", "  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_GLSL_120 == 1)", "	// Requires,", "	//  #version 120", "	// And at least,", "	//  #extension GL_EXT_gpu_shader4 : enable", "	//  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)", "	#define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)", "	#if (FXAA_FAST_PIXEL_OFFSET == 1)", "		#define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)", "	#else", "		#define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)", "	#endif", "	#if (FXAA_GATHER4_ALPHA == 1)", "		// use #extension GL_ARB_gpu_shader5 : enable", "		#define FxaaTexAlpha4(t, p) textureGather(t, p, 3)", "		#define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)", "		#define FxaaTexGreen4(t, p) textureGather(t, p, 1)", "		#define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)", "	#endif", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_GLSL_130 == 1)", "	// Requires \"#version 130\" or better", "	#define FxaaTexTop(t, p) textureLod(t, p, 0.0)", "	#define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)", "	#if (FXAA_GATHER4_ALPHA == 1)", "		// use #extension GL_ARB_gpu_shader5 : enable", "		#define FxaaTexAlpha4(t, p) textureGather(t, p, 3)", "		#define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)", "		#define FxaaTexGreen4(t, p) textureGather(t, p, 1)", "		#define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)", "	#endif", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_HLSL_3 == 1)", "	#define FxaaInt2 float2", "	#define FxaaTex sampler2D", "	#define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))", "	#define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_HLSL_4 == 1)", "	#define FxaaInt2 int2", "	struct FxaaTex { SamplerState smpl; Texture2D tex; };", "	#define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)", "	#define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)", "#endif", "/*--------------------------------------------------------------------------*/", "#if (FXAA_HLSL_5 == 1)", "	#define FxaaInt2 int2", "	struct FxaaTex { SamplerState smpl; Texture2D tex; };", "	#define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)", "	#define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)", "	#define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)", "	#define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)", "	#define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)", "	#define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)", "#endif", "", "", "/*============================================================================", "				   GREEN AS LUMA OPTION SUPPORT FUNCTION", "============================================================================*/", "#if (FXAA_GREEN_AS_LUMA == 0)", "	FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }", "#else", "	FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }", "#endif", "", "", "", "", "/*============================================================================", "", "							 FXAA3 QUALITY - PC", "", "============================================================================*/", "#if (FXAA_PC == 1)", "/*--------------------------------------------------------------------------*/", "FxaaFloat4 FxaaPixelShader(", "	//", "	// Use noperspective interpolation here (turn off perspective interpolation).", "	// {xy} = center of pixel", "	FxaaFloat2 pos,", "	//", "	// Used only for FXAA Console, and not used on the 360 version.", "	// Use noperspective interpolation here (turn off perspective interpolation).", "	// {xy_} = upper left of pixel", "	// {_zw} = lower right of pixel", "	FxaaFloat4 fxaaConsolePosPos,", "	//", "	// Input color texture.", "	// {rgb_} = color in linear or perceptual color space", "	// if (FXAA_GREEN_AS_LUMA == 0)", "	//	 {__a} = luma in perceptual color space (not linear)", "	FxaaTex tex,", "	//", "	// Only used on the optimized 360 version of FXAA Console.", "	// For everything but 360, just use the same input here as for \"tex\".", "	// For 360, same texture, just alias with a 2nd sampler.", "	// This sampler needs to have an exponent bias of -1.", "	FxaaTex fxaaConsole360TexExpBiasNegOne,", "	//", "	// Only used on the optimized 360 version of FXAA Console.", "	// For everything but 360, just use the same input here as for \"tex\".", "	// For 360, same texture, just alias with a 3nd sampler.", "	// This sampler needs to have an exponent bias of -2.", "	FxaaTex fxaaConsole360TexExpBiasNegTwo,", "	//", "	// Only used on FXAA Quality.", "	// This must be from a constant/uniform.", "	// {x_} = 1.0/screenWidthInPixels", "	// {_y} = 1.0/screenHeightInPixels", "	FxaaFloat2 fxaaQualityRcpFrame,", "	//", "	// Only used on FXAA Console.", "	// This must be from a constant/uniform.", "	// This effects sub-pixel AA quality and inversely sharpness.", "	//   Where N ranges between,", "	//	 N = 0.50 (default)", "	//	 N = 0.33 (sharper)", "	// {x__} = -N/screenWidthInPixels", "	// {_y_} = -N/screenHeightInPixels", "	// {_z_} =  N/screenWidthInPixels", "	// {__w} =  N/screenHeightInPixels", "	FxaaFloat4 fxaaConsoleRcpFrameOpt,", "	//", "	// Only used on FXAA Console.", "	// Not used on 360, but used on PS3 and PC.", "	// This must be from a constant/uniform.", "	// {x__} = -2.0/screenWidthInPixels", "	// {_y_} = -2.0/screenHeightInPixels", "	// {_z_} =  2.0/screenWidthInPixels", "	// {__w} =  2.0/screenHeightInPixels", "	FxaaFloat4 fxaaConsoleRcpFrameOpt2,", "	//", "	// Only used on FXAA Console.", "	// Only used on 360 in place of fxaaConsoleRcpFrameOpt2.", "	// This must be from a constant/uniform.", "	// {x__} =  8.0/screenWidthInPixels", "	// {_y_} =  8.0/screenHeightInPixels", "	// {_z_} = -4.0/screenWidthInPixels", "	// {__w} = -4.0/screenHeightInPixels", "	FxaaFloat4 fxaaConsole360RcpFrameOpt2,", "	//", "	// Only used on FXAA Quality.", "	// This used to be the FXAA_QUALITY_SUBPIX define.", "	// It is here now to allow easier tuning.", "	// Choose the amount of sub-pixel aliasing removal.", "	// This can effect sharpness.", "	//   1.00 - upper limit (softer)", "	//   0.75 - default amount of filtering", "	//   0.50 - lower limit (sharper, less sub-pixel aliasing removal)", "	//   0.25 - almost off", "	//   0.00 - completely off", "	FxaaFloat fxaaQualitySubpix,", "	//", "	// Only used on FXAA Quality.", "	// This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.", "	// It is here now to allow easier tuning.", "	// The minimum amount of local contrast required to apply algorithm.", "	//   0.333 - too little (faster)", "	//   0.250 - low quality", "	//   0.166 - default", "	//   0.125 - high quality", "	//   0.063 - overkill (slower)", "	FxaaFloat fxaaQualityEdgeThreshold,", "	//", "	// Only used on FXAA Quality.", "	// This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.", "	// It is here now to allow easier tuning.", "	// Trims the algorithm from processing darks.", "	//   0.0833 - upper limit (default, the start of visible unfiltered edges)", "	//   0.0625 - high quality (faster)", "	//   0.0312 - visible limit (slower)", "	// Special notes when using FXAA_GREEN_AS_LUMA,", "	//   Likely want to set this to zero.", "	//   As colors that are mostly not-green", "	//   will appear very dark in the green channel!", "	//   Tune by looking at mostly non-green content,", "	//   then start at zero and increase until aliasing is a problem.", "	FxaaFloat fxaaQualityEdgeThresholdMin,", "	//", "	// Only used on FXAA Console.", "	// This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.", "	// It is here now to allow easier tuning.", "	// This does not effect PS3, as this needs to be compiled in.", "	//   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.", "	//   Due to the PS3 being ALU bound,", "	//   there are only three safe values here: 2 and 4 and 8.", "	//   These options use the shaders ability to a free *|/ by 2|4|8.", "	// For all other platforms can be a non-power of two.", "	//   8.0 is sharper (default!!!)", "	//   4.0 is softer", "	//   2.0 is really soft (good only for vector graphics inputs)", "	FxaaFloat fxaaConsoleEdgeSharpness,", "	//", "	// Only used on FXAA Console.", "	// This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.", "	// It is here now to allow easier tuning.", "	// This does not effect PS3, as this needs to be compiled in.", "	//   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.", "	//   Due to the PS3 being ALU bound,", "	//   there are only two safe values here: 1/4 and 1/8.", "	//   These options use the shaders ability to a free *|/ by 2|4|8.", "	// The console setting has a different mapping than the quality setting.", "	// Other platforms can use other values.", "	//   0.125 leaves less aliasing, but is softer (default!!!)", "	//   0.25 leaves more aliasing, and is sharper", "	FxaaFloat fxaaConsoleEdgeThreshold,", "	//", "	// Only used on FXAA Console.", "	// This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.", "	// It is here now to allow easier tuning.", "	// Trims the algorithm from processing darks.", "	// The console setting has a different mapping than the quality setting.", "	// This only applies when FXAA_EARLY_EXIT is 1.", "	// This does not apply to PS3,", "	// PS3 was simplified to avoid more shader instructions.", "	//   0.06 - faster but more aliasing in darks", "	//   0.05 - default", "	//   0.04 - slower and less aliasing in darks", "	// Special notes when using FXAA_GREEN_AS_LUMA,", "	//   Likely want to set this to zero.", "	//   As colors that are mostly not-green", "	//   will appear very dark in the green channel!", "	//   Tune by looking at mostly non-green content,", "	//   then start at zero and increase until aliasing is a problem.", "	FxaaFloat fxaaConsoleEdgeThresholdMin,", "	//", "	// Extra constants for 360 FXAA Console only.", "	// Use zeros or anything else for other platforms.", "	// These must be in physical constant registers and NOT immediates.", "	// Immediates will result in compiler un-optimizing.", "	// {xyzw} = float4(1.0, -1.0, 0.25, -0.25)", "	FxaaFloat4 fxaaConsole360ConstDir", ") {", "/*--------------------------------------------------------------------------*/", "	FxaaFloat2 posM;", "	posM.x = pos.x;", "	posM.y = pos.y;", "	#if (FXAA_GATHER4_ALPHA == 1)", "		#if (FXAA_DISCARD == 0)", "			FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);", "			#if (FXAA_GREEN_AS_LUMA == 0)", "				#define lumaM rgbyM.w", "			#else", "				#define lumaM rgbyM.y", "			#endif", "		#endif", "		#if (FXAA_GREEN_AS_LUMA == 0)", "			FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);", "			FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));", "		#else", "			FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);", "			FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));", "		#endif", "		#if (FXAA_DISCARD == 1)", "			#define lumaM luma4A.w", "		#endif", "		#define lumaE luma4A.z", "		#define lumaS luma4A.x", "		#define lumaSE luma4A.y", "		#define lumaNW luma4B.w", "		#define lumaN luma4B.z", "		#define lumaW luma4B.x", "	#else", "		FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);", "		#if (FXAA_GREEN_AS_LUMA == 0)", "			#define lumaM rgbyM.w", "		#else", "			#define lumaM rgbyM.y", "		#endif", "		#if (FXAA_GLSL_100 == 1)", "		  FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));", "		#else", "		  FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));", "		#endif", "	#endif", "/*--------------------------------------------------------------------------*/", "	FxaaFloat maxSM = max(lumaS, lumaM);", "	FxaaFloat minSM = min(lumaS, lumaM);", "	FxaaFloat maxESM = max(lumaE, maxSM);", "	FxaaFloat minESM = min(lumaE, minSM);", "	FxaaFloat maxWN = max(lumaN, lumaW);", "	FxaaFloat minWN = min(lumaN, lumaW);", "	FxaaFloat rangeMax = max(maxWN, maxESM);", "	FxaaFloat rangeMin = min(minWN, minESM);", "	FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;", "	FxaaFloat range = rangeMax - rangeMin;", "	FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);", "	FxaaBool earlyExit = range < rangeMaxClamped;", "/*--------------------------------------------------------------------------*/", "	if(earlyExit)", "		#if (FXAA_DISCARD == 1)", "			FxaaDiscard;", "		#else", "			return rgbyM;", "		#endif", "/*--------------------------------------------------------------------------*/", "	#if (FXAA_GATHER4_ALPHA == 0)", "		#if (FXAA_GLSL_100 == 1)", "		  FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));", "		#else", "		  FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));", "		  FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));", "		#endif", "	#else", "		FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));", "		FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));", "	#endif", "/*--------------------------------------------------------------------------*/", "	FxaaFloat lumaNS = lumaN + lumaS;", "	FxaaFloat lumaWE = lumaW + lumaE;", "	FxaaFloat subpixRcpRange = 1.0/range;", "	FxaaFloat subpixNSWE = lumaNS + lumaWE;", "	FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;", "	FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;", "/*--------------------------------------------------------------------------*/", "	FxaaFloat lumaNESE = lumaNE + lumaSE;", "	FxaaFloat lumaNWNE = lumaNW + lumaNE;", "	FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;", "	FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;", "/*--------------------------------------------------------------------------*/", "	FxaaFloat lumaNWSW = lumaNW + lumaSW;", "	FxaaFloat lumaSWSE = lumaSW + lumaSE;", "	FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);", "	FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);", "	FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;", "	FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;", "	FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;", "	FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;", "/*--------------------------------------------------------------------------*/", "	FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;", "	FxaaFloat lengthSign = fxaaQualityRcpFrame.x;", "	FxaaBool horzSpan = edgeHorz >= edgeVert;", "	FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;", "/*--------------------------------------------------------------------------*/", "	if(!horzSpan) lumaN = lumaW;", "	if(!horzSpan) lumaS = lumaE;", "	if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;", "	FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;", "/*--------------------------------------------------------------------------*/", "	FxaaFloat gradientN = lumaN - lumaM;", "	FxaaFloat gradientS = lumaS - lumaM;", "	FxaaFloat lumaNN = lumaN + lumaM;", "	FxaaFloat lumaSS = lumaS + lumaM;", "	FxaaBool pairN = abs(gradientN) >= abs(gradientS);", "	FxaaFloat gradient = max(abs(gradientN), abs(gradientS));", "	if(pairN) lengthSign = -lengthSign;", "	FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);", "/*--------------------------------------------------------------------------*/", "	FxaaFloat2 posB;", "	posB.x = posM.x;", "	posB.y = posM.y;", "	FxaaFloat2 offNP;", "	offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;", "	offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;", "	if(!horzSpan) posB.x += lengthSign * 0.5;", "	if( horzSpan) posB.y += lengthSign * 0.5;", "/*--------------------------------------------------------------------------*/", "	FxaaFloat2 posN;", "	posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;", "	posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;", "	FxaaFloat2 posP;", "	posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;", "	posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;", "	FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;", "	FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));", "	FxaaFloat subpixE = subpixC * subpixC;", "	FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));", "/*--------------------------------------------------------------------------*/", "	if(!pairN) lumaNN = lumaSS;", "	FxaaFloat gradientScaled = gradient * 1.0/4.0;", "	FxaaFloat lumaMM = lumaM - lumaNN * 0.5;", "	FxaaFloat subpixF = subpixD * subpixE;", "	FxaaBool lumaMLTZero = lumaMM < 0.0;", "/*--------------------------------------------------------------------------*/", "	lumaEndN -= lumaNN * 0.5;", "	lumaEndP -= lumaNN * 0.5;", "	FxaaBool doneN = abs(lumaEndN) >= gradientScaled;", "	FxaaBool doneP = abs(lumaEndP) >= gradientScaled;", "	if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;", "	if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;", "	FxaaBool doneNP = (!doneN) || (!doneP);", "	if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;", "	if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;", "/*--------------------------------------------------------------------------*/", "	if(doneNP) {", "		if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "		if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "		if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "		if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "		doneN = abs(lumaEndN) >= gradientScaled;", "		doneP = abs(lumaEndP) >= gradientScaled;", "		if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;", "		if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;", "		doneNP = (!doneN) || (!doneP);", "		if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;", "		if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;", "/*--------------------------------------------------------------------------*/", "		#if (FXAA_QUALITY_PS > 3)", "		if(doneNP) {", "			if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "			if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "			if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "			if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "			doneN = abs(lumaEndN) >= gradientScaled;", "			doneP = abs(lumaEndP) >= gradientScaled;", "			if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;", "			if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;", "			doneNP = (!doneN) || (!doneP);", "			if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;", "			if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;", "/*--------------------------------------------------------------------------*/", "			#if (FXAA_QUALITY_PS > 4)", "			if(doneNP) {", "				if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "				if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "				if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "				if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "				doneN = abs(lumaEndN) >= gradientScaled;", "				doneP = abs(lumaEndP) >= gradientScaled;", "				if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;", "				if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;", "				doneNP = (!doneN) || (!doneP);", "				if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;", "				if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;", "/*--------------------------------------------------------------------------*/", "				#if (FXAA_QUALITY_PS > 5)", "				if(doneNP) {", "					if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "					if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "					if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "					if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "					doneN = abs(lumaEndN) >= gradientScaled;", "					doneP = abs(lumaEndP) >= gradientScaled;", "					if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;", "					if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;", "					doneNP = (!doneN) || (!doneP);", "					if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;", "					if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;", "/*--------------------------------------------------------------------------*/", "					#if (FXAA_QUALITY_PS > 6)", "					if(doneNP) {", "						if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "						if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "						if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "						if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "						doneN = abs(lumaEndN) >= gradientScaled;", "						doneP = abs(lumaEndP) >= gradientScaled;", "						if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;", "						if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;", "						doneNP = (!doneN) || (!doneP);", "						if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;", "						if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;", "/*--------------------------------------------------------------------------*/", "						#if (FXAA_QUALITY_PS > 7)", "						if(doneNP) {", "							if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "							if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "							if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "							if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "							doneN = abs(lumaEndN) >= gradientScaled;", "							doneP = abs(lumaEndP) >= gradientScaled;", "							if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;", "							if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;", "							doneNP = (!doneN) || (!doneP);", "							if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;", "							if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;", "/*--------------------------------------------------------------------------*/", "	#if (FXAA_QUALITY_PS > 8)", "	if(doneNP) {", "		if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "		if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "		if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "		if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "		doneN = abs(lumaEndN) >= gradientScaled;", "		doneP = abs(lumaEndP) >= gradientScaled;", "		if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;", "		if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;", "		doneNP = (!doneN) || (!doneP);", "		if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;", "		if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;", "/*--------------------------------------------------------------------------*/", "		#if (FXAA_QUALITY_PS > 9)", "		if(doneNP) {", "			if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "			if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "			if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "			if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "			doneN = abs(lumaEndN) >= gradientScaled;", "			doneP = abs(lumaEndP) >= gradientScaled;", "			if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;", "			if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;", "			doneNP = (!doneN) || (!doneP);", "			if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;", "			if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;", "/*--------------------------------------------------------------------------*/", "			#if (FXAA_QUALITY_PS > 10)", "			if(doneNP) {", "				if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "				if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "				if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "				if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "				doneN = abs(lumaEndN) >= gradientScaled;", "				doneP = abs(lumaEndP) >= gradientScaled;", "				if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;", "				if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;", "				doneNP = (!doneN) || (!doneP);", "				if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;", "				if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;", "/*--------------------------------------------------------------------------*/", "				#if (FXAA_QUALITY_PS > 11)", "				if(doneNP) {", "					if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "					if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "					if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "					if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "					doneN = abs(lumaEndN) >= gradientScaled;", "					doneP = abs(lumaEndP) >= gradientScaled;", "					if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;", "					if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;", "					doneNP = (!doneN) || (!doneP);", "					if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;", "					if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;", "/*--------------------------------------------------------------------------*/", "					#if (FXAA_QUALITY_PS > 12)", "					if(doneNP) {", "						if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));", "						if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));", "						if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;", "						if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;", "						doneN = abs(lumaEndN) >= gradientScaled;", "						doneP = abs(lumaEndP) >= gradientScaled;", "						if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;", "						if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;", "						doneNP = (!doneN) || (!doneP);", "						if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;", "						if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;", "/*--------------------------------------------------------------------------*/", "					}", "					#endif", "/*--------------------------------------------------------------------------*/", "				}", "				#endif", "/*--------------------------------------------------------------------------*/", "			}", "			#endif", "/*--------------------------------------------------------------------------*/", "		}", "		#endif", "/*--------------------------------------------------------------------------*/", "	}", "	#endif", "/*--------------------------------------------------------------------------*/", "						}", "						#endif", "/*--------------------------------------------------------------------------*/", "					}", "					#endif", "/*--------------------------------------------------------------------------*/", "				}", "				#endif", "/*--------------------------------------------------------------------------*/", "			}", "			#endif", "/*--------------------------------------------------------------------------*/", "		}", "		#endif", "/*--------------------------------------------------------------------------*/", "	}", "/*--------------------------------------------------------------------------*/", "	FxaaFloat dstN = posM.x - posN.x;", "	FxaaFloat dstP = posP.x - posM.x;", "	if(!horzSpan) dstN = posM.y - posN.y;", "	if(!horzSpan) dstP = posP.y - posM.y;", "/*--------------------------------------------------------------------------*/", "	FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;", "	FxaaFloat spanLength = (dstP + dstN);", "	FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;", "	FxaaFloat spanLengthRcp = 1.0/spanLength;", "/*--------------------------------------------------------------------------*/", "	FxaaBool directionN = dstN < dstP;", "	FxaaFloat dst = min(dstN, dstP);", "	FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;", "	FxaaFloat subpixG = subpixF * subpixF;", "	FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;", "	FxaaFloat subpixH = subpixG * fxaaQualitySubpix;", "/*--------------------------------------------------------------------------*/", "	FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;", "	FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);", "	if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;", "	if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;", "	#if (FXAA_DISCARD == 1)", "		return FxaaTexTop(tex, posM);", "	#else", "		return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);", "	#endif", "}", "/*==========================================================================*/", "#endif", "", "void main() {", "  gl_FragColor = FxaaPixelShader(", "	vUv,", "	vec4(0.0),", "	tScene,", "	tScene,", "	tScene,", "	resolution,", "	vec4(0.0),", "	vec4(0.0),", "	vec4(0.0),", "	0.75,", "	0.166,", "	0.0833,", "	0.0,", "	0.0,", "	0.0,", "	vec4(0.0)", "  );", "", "  // TODO avoid querying texture twice for same texel", "  gl_FragColor.a = texture2D(tScene, vUv).a;", "}"].join("\n")
};


/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/GLTFLoader.js":
/*!**********************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/GLTFLoader.js ***!
  \**********************************************/
/*! exports provided: GLTFLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GLTFLoader", function() { return GLTFLoader; });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
 * @author Rich Tibbett / https://github.com/richtr
 * @author mrdoob / http://mrdoob.com/
 * @author Tony Parisi / http://www.tonyparisi.com/
 * @author Takahiro / https://github.com/takahirox
 * @author Don McCurdy / https://www.donmccurdy.com
 */


var GLTFLoader = function () {
  function GLTFLoader(manager) {
    this.manager = manager !== undefined ? manager : three__WEBPACK_IMPORTED_MODULE_0__["DefaultLoadingManager"];
    this.dracoLoader = null;
    this.ddsLoader = null;
  }

  GLTFLoader.prototype = {
    constructor: GLTFLoader,
    crossOrigin: 'anonymous',
    load: function load(url, onLoad, onProgress, onError) {
      var scope = this;
      var resourcePath;

      if (this.resourcePath !== undefined) {
        resourcePath = this.resourcePath;
      } else if (this.path !== undefined) {
        resourcePath = this.path;
      } else {
        resourcePath = three__WEBPACK_IMPORTED_MODULE_0__["LoaderUtils"].extractUrlBase(url);
      } // Tells the LoadingManager to track an extra item, which resolves after
      // the model is fully loaded. This means the count of items loaded will
      // be incorrect, but ensures manager.onLoad() does not fire early.


      scope.manager.itemStart(url);

      var _onError = function _onError(e) {
        if (onError) {
          onError(e);
        } else {
          console.error(e);
        }

        scope.manager.itemError(url);
        scope.manager.itemEnd(url);
      };

      var loader = new three__WEBPACK_IMPORTED_MODULE_0__["FileLoader"](scope.manager);
      loader.setPath(this.path);
      loader.setResponseType('arraybuffer');

      if (scope.crossOrigin === 'use-credentials') {
        loader.setWithCredentials(true);
      }

      loader.load(url, function (data) {
        try {
          scope.parse(data, resourcePath, function (gltf) {
            onLoad(gltf);
            scope.manager.itemEnd(url);
          }, _onError);
        } catch (e) {
          _onError(e);
        }
      }, onProgress, _onError);
    },
    setCrossOrigin: function setCrossOrigin(value) {
      this.crossOrigin = value;
      return this;
    },
    setPath: function setPath(value) {
      this.path = value;
      return this;
    },
    setResourcePath: function setResourcePath(value) {
      this.resourcePath = value;
      return this;
    },
    setDRACOLoader: function setDRACOLoader(dracoLoader) {
      this.dracoLoader = dracoLoader;
      return this;
    },
    setDDSLoader: function setDDSLoader(ddsLoader) {
      this.ddsLoader = ddsLoader;
      return this;
    },
    parse: function parse(data, path, onLoad, onError) {
      var content;
      var extensions = {};

      if (typeof data === 'string') {
        content = data;
      } else {
        var magic = three__WEBPACK_IMPORTED_MODULE_0__["LoaderUtils"].decodeText(new Uint8Array(data, 0, 4));

        if (magic === BINARY_EXTENSION_HEADER_MAGIC) {
          try {
            extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);
          } catch (error) {
            if (onError) onError(error);
            return;
          }

          content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;
        } else {
          content = three__WEBPACK_IMPORTED_MODULE_0__["LoaderUtils"].decodeText(new Uint8Array(data));
        }
      }

      var json = JSON.parse(content);

      if (json.asset === undefined || json.asset.version[0] < 2) {
        if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.'));
        return;
      }

      if (json.extensionsUsed) {
        for (var i = 0; i < json.extensionsUsed.length; ++i) {
          var extensionName = json.extensionsUsed[i];
          var extensionsRequired = json.extensionsRequired || [];

          switch (extensionName) {
            case EXTENSIONS.KHR_LIGHTS_PUNCTUAL:
              extensions[extensionName] = new GLTFLightsExtension(json);
              break;

            case EXTENSIONS.KHR_MATERIALS_UNLIT:
              extensions[extensionName] = new GLTFMaterialsUnlitExtension();
              break;

            case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:
              extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();
              break;

            case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:
              extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);
              break;

            case EXTENSIONS.MSFT_TEXTURE_DDS:
              extensions[EXTENSIONS.MSFT_TEXTURE_DDS] = new GLTFTextureDDSExtension(this.ddsLoader);
              break;

            case EXTENSIONS.KHR_TEXTURE_TRANSFORM:
              extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] = new GLTFTextureTransformExtension();
              break;

            default:
              if (extensionsRequired.indexOf(extensionName) >= 0) {
                console.warn('THREE.GLTFLoader: Unknown extension "' + extensionName + '".');
              }

          }
        }
      }

      var parser = new GLTFParser(json, extensions, {
        path: path || this.resourcePath || '',
        crossOrigin: this.crossOrigin,
        manager: this.manager
      });
      parser.parse(onLoad, onError);
    }
  };
  /* GLTFREGISTRY */

  function GLTFRegistry() {
    var objects = {};
    return {
      get: function get(key) {
        return objects[key];
      },
      add: function add(key, object) {
        objects[key] = object;
      },
      remove: function remove(key) {
        delete objects[key];
      },
      removeAll: function removeAll() {
        objects = {};
      }
    };
  }
  /*********************************/

  /********** EXTENSIONS ***********/

  /*********************************/


  var EXTENSIONS = {
    KHR_BINARY_GLTF: 'KHR_binary_glTF',
    KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',
    KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',
    KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',
    KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',
    KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',
    MSFT_TEXTURE_DDS: 'MSFT_texture_dds'
  };
  /**
   * DDS Texture Extension
   *
   * Specification:
   * https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds
   *
   */

  function GLTFTextureDDSExtension(ddsLoader) {
    if (!ddsLoader) {
      throw new Error('THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader');
    }

    this.name = EXTENSIONS.MSFT_TEXTURE_DDS;
    this.ddsLoader = ddsLoader;
  }
  /**
   * Lights Extension
   *
   * Specification: PENDING
   */


  function GLTFLightsExtension(json) {
    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;
    var extension = json.extensions && json.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL] || {};
    this.lightDefs = extension.lights || [];
  }

  GLTFLightsExtension.prototype.loadLight = function (lightIndex) {
    var lightDef = this.lightDefs[lightIndex];
    var lightNode;
    var color = new three__WEBPACK_IMPORTED_MODULE_0__["Color"](0xffffff);
    if (lightDef.color !== undefined) color.fromArray(lightDef.color);
    var range = lightDef.range !== undefined ? lightDef.range : 0;

    switch (lightDef.type) {
      case 'directional':
        lightNode = new three__WEBPACK_IMPORTED_MODULE_0__["DirectionalLight"](color);
        lightNode.target.position.set(0, 0, -1);
        lightNode.add(lightNode.target);
        break;

      case 'point':
        lightNode = new three__WEBPACK_IMPORTED_MODULE_0__["PointLight"](color);
        lightNode.distance = range;
        break;

      case 'spot':
        lightNode = new three__WEBPACK_IMPORTED_MODULE_0__["SpotLight"](color);
        lightNode.distance = range; // Handle spotlight properties.

        lightDef.spot = lightDef.spot || {};
        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;
        lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;
        lightNode.angle = lightDef.spot.outerConeAngle;
        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;
        lightNode.target.position.set(0, 0, -1);
        lightNode.add(lightNode.target);
        break;

      default:
        throw new Error('THREE.GLTFLoader: Unexpected light type, "' + lightDef.type + '".');
    } // Some lights (e.g. spot) default to a position other than the origin. Reset the position
    // here, because node-level parsing will only override position if explicitly specified.


    lightNode.position.set(0, 0, 0);
    lightNode.decay = 2;
    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;
    lightNode.name = lightDef.name || 'light_' + lightIndex;
    return Promise.resolve(lightNode);
  };
  /**
   * Unlit Materials Extension (pending)
   *
   * PR: https://github.com/KhronosGroup/glTF/pull/1163
   */


  function GLTFMaterialsUnlitExtension() {
    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;
  }

  GLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {
    return three__WEBPACK_IMPORTED_MODULE_0__["MeshBasicMaterial"];
  };

  GLTFMaterialsUnlitExtension.prototype.extendParams = function (materialParams, materialDef, parser) {
    var pending = [];
    materialParams.color = new three__WEBPACK_IMPORTED_MODULE_0__["Color"](1.0, 1.0, 1.0);
    materialParams.opacity = 1.0;
    var metallicRoughness = materialDef.pbrMetallicRoughness;

    if (metallicRoughness) {
      if (Array.isArray(metallicRoughness.baseColorFactor)) {
        var array = metallicRoughness.baseColorFactor;
        materialParams.color.fromArray(array);
        materialParams.opacity = array[3];
      }

      if (metallicRoughness.baseColorTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));
      }
    }

    return Promise.all(pending);
  };
  /* BINARY EXTENSION */


  var BINARY_EXTENSION_HEADER_MAGIC = 'glTF';
  var BINARY_EXTENSION_HEADER_LENGTH = 12;
  var BINARY_EXTENSION_CHUNK_TYPES = {
    JSON: 0x4E4F534A,
    BIN: 0x004E4942
  };

  function GLTFBinaryExtension(data) {
    this.name = EXTENSIONS.KHR_BINARY_GLTF;
    this.content = null;
    this.body = null;
    var headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);
    this.header = {
      magic: three__WEBPACK_IMPORTED_MODULE_0__["LoaderUtils"].decodeText(new Uint8Array(data.slice(0, 4))),
      version: headerView.getUint32(4, true),
      length: headerView.getUint32(8, true)
    };

    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {
      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');
    } else if (this.header.version < 2.0) {
      throw new Error('THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.');
    }

    var chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);
    var chunkIndex = 0;

    while (chunkIndex < chunkView.byteLength) {
      var chunkLength = chunkView.getUint32(chunkIndex, true);
      chunkIndex += 4;
      var chunkType = chunkView.getUint32(chunkIndex, true);
      chunkIndex += 4;

      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {
        var contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);
        this.content = three__WEBPACK_IMPORTED_MODULE_0__["LoaderUtils"].decodeText(contentArray);
      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {
        var byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;
        this.body = data.slice(byteOffset, byteOffset + chunkLength);
      } // Clients must ignore chunks with unknown types.


      chunkIndex += chunkLength;
    }

    if (this.content === null) {
      throw new Error('THREE.GLTFLoader: JSON content not found.');
    }
  }
  /**
   * DRACO Mesh Compression Extension
   *
   * Specification: https://github.com/KhronosGroup/glTF/pull/874
   */


  function GLTFDracoMeshCompressionExtension(json, dracoLoader) {
    if (!dracoLoader) {
      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');
    }

    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;
    this.json = json;
    this.dracoLoader = dracoLoader;
  }

  GLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function (primitive, parser) {
    var json = this.json;
    var dracoLoader = this.dracoLoader;
    var bufferViewIndex = primitive.extensions[this.name].bufferView;
    var gltfAttributeMap = primitive.extensions[this.name].attributes;
    var threeAttributeMap = {};
    var attributeNormalizedMap = {};
    var attributeTypeMap = {};

    for (var attributeName in gltfAttributeMap) {
      var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();
      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];
    }

    for (attributeName in primitive.attributes) {
      var threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();

      if (gltfAttributeMap[attributeName] !== undefined) {
        var accessorDef = json.accessors[primitive.attributes[attributeName]];
        var componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];
        attributeTypeMap[threeAttributeName] = componentType;
        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;
      }
    }

    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {
      return new Promise(function (resolve) {
        dracoLoader.decodeDracoFile(bufferView, function (geometry) {
          for (var attributeName in geometry.attributes) {
            var attribute = geometry.attributes[attributeName];
            var normalized = attributeNormalizedMap[attributeName];
            if (normalized !== undefined) attribute.normalized = normalized;
          }

          resolve(geometry);
        }, threeAttributeMap, attributeTypeMap);
      });
    });
  };
  /**
   * Texture Transform Extension
   *
   * Specification:
   */


  function GLTFTextureTransformExtension() {
    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;
  }

  GLTFTextureTransformExtension.prototype.extendTexture = function (texture, transform) {
    texture = texture.clone();

    if (transform.offset !== undefined) {
      texture.offset.fromArray(transform.offset);
    }

    if (transform.rotation !== undefined) {
      texture.rotation = transform.rotation;
    }

    if (transform.scale !== undefined) {
      texture.repeat.fromArray(transform.scale);
    }

    if (transform.texCoord !== undefined) {
      console.warn('THREE.GLTFLoader: Custom UV sets in "' + this.name + '" extension not yet supported.');
    }

    texture.needsUpdate = true;
    return texture;
  };
  /**
   * Specular-Glossiness Extension
   *
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness
   */


  function GLTFMaterialsPbrSpecularGlossinessExtension() {
    return {
      name: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,
      specularGlossinessParams: ['color', 'map', 'lightMap', 'lightMapIntensity', 'aoMap', 'aoMapIntensity', 'emissive', 'emissiveIntensity', 'emissiveMap', 'bumpMap', 'bumpScale', 'normalMap', 'displacementMap', 'displacementScale', 'displacementBias', 'specularMap', 'specular', 'glossinessMap', 'glossiness', 'alphaMap', 'envMap', 'envMapIntensity', 'refractionRatio'],
      getMaterialType: function getMaterialType() {
        return three__WEBPACK_IMPORTED_MODULE_0__["ShaderMaterial"];
      },
      extendParams: function extendParams(materialParams, materialDef, parser) {
        var pbrSpecularGlossiness = materialDef.extensions[this.name];
        var shader = three__WEBPACK_IMPORTED_MODULE_0__["ShaderLib"]['standard'];
        var uniforms = three__WEBPACK_IMPORTED_MODULE_0__["UniformsUtils"].clone(shader.uniforms);
        var specularMapParsFragmentChunk = ['#ifdef USE_SPECULARMAP', '	uniform sampler2D specularMap;', '#endif'].join('\n');
        var glossinessMapParsFragmentChunk = ['#ifdef USE_GLOSSINESSMAP', '	uniform sampler2D glossinessMap;', '#endif'].join('\n');
        var specularMapFragmentChunk = ['vec3 specularFactor = specular;', '#ifdef USE_SPECULARMAP', '	vec4 texelSpecular = texture2D( specularMap, vUv );', '	texelSpecular = sRGBToLinear( texelSpecular );', '	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture', '	specularFactor *= texelSpecular.rgb;', '#endif'].join('\n');
        var glossinessMapFragmentChunk = ['float glossinessFactor = glossiness;', '#ifdef USE_GLOSSINESSMAP', '	vec4 texelGlossiness = texture2D( glossinessMap, vUv );', '	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture', '	glossinessFactor *= texelGlossiness.a;', '#endif'].join('\n');
        var lightPhysicalFragmentChunk = ['PhysicalMaterial material;', 'material.diffuseColor = diffuseColor.rgb;', 'material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );', 'material.specularColor = specularFactor.rgb;'].join('\n');
        var fragmentShader = shader.fragmentShader.replace('uniform float roughness;', 'uniform vec3 specular;').replace('uniform float metalness;', 'uniform float glossiness;').replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk).replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk).replace('#include <roughnessmap_fragment>', specularMapFragmentChunk).replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk).replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);
        delete uniforms.roughness;
        delete uniforms.metalness;
        delete uniforms.roughnessMap;
        delete uniforms.metalnessMap;
        uniforms.specular = {
          value: new three__WEBPACK_IMPORTED_MODULE_0__["Color"]().setHex(0x111111)
        };
        uniforms.glossiness = {
          value: 0.5
        };
        uniforms.specularMap = {
          value: null
        };
        uniforms.glossinessMap = {
          value: null
        };
        materialParams.vertexShader = shader.vertexShader;
        materialParams.fragmentShader = fragmentShader;
        materialParams.uniforms = uniforms;
        materialParams.defines = {
          'STANDARD': ''
        };
        materialParams.color = new three__WEBPACK_IMPORTED_MODULE_0__["Color"](1.0, 1.0, 1.0);
        materialParams.opacity = 1.0;
        var pending = [];

        if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {
          var array = pbrSpecularGlossiness.diffuseFactor;
          materialParams.color.fromArray(array);
          materialParams.opacity = array[3];
        }

        if (pbrSpecularGlossiness.diffuseTexture !== undefined) {
          pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));
        }

        materialParams.emissive = new three__WEBPACK_IMPORTED_MODULE_0__["Color"](0.0, 0.0, 0.0);
        materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;
        materialParams.specular = new three__WEBPACK_IMPORTED_MODULE_0__["Color"](1.0, 1.0, 1.0);

        if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {
          materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);
        }

        if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {
          var specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;
          pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));
          pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));
        }

        return Promise.all(pending);
      },
      createMaterial: function createMaterial(params) {
        // setup material properties based on MeshStandardMaterial for Specular-Glossiness
        var material = new three__WEBPACK_IMPORTED_MODULE_0__["ShaderMaterial"]({
          defines: params.defines,
          vertexShader: params.vertexShader,
          fragmentShader: params.fragmentShader,
          uniforms: params.uniforms,
          fog: true,
          lights: true,
          opacity: params.opacity,
          transparent: params.transparent
        });
        material.isGLTFSpecularGlossinessMaterial = true;
        material.color = params.color;
        material.map = params.map === undefined ? null : params.map;
        material.lightMap = null;
        material.lightMapIntensity = 1.0;
        material.aoMap = params.aoMap === undefined ? null : params.aoMap;
        material.aoMapIntensity = 1.0;
        material.emissive = params.emissive;
        material.emissiveIntensity = 1.0;
        material.emissiveMap = params.emissiveMap === undefined ? null : params.emissiveMap;
        material.bumpMap = params.bumpMap === undefined ? null : params.bumpMap;
        material.bumpScale = 1;
        material.normalMap = params.normalMap === undefined ? null : params.normalMap;
        if (params.normalScale) material.normalScale = params.normalScale;
        material.displacementMap = null;
        material.displacementScale = 1;
        material.displacementBias = 0;
        material.specularMap = params.specularMap === undefined ? null : params.specularMap;
        material.specular = params.specular;
        material.glossinessMap = params.glossinessMap === undefined ? null : params.glossinessMap;
        material.glossiness = params.glossiness;
        material.alphaMap = null;
        material.envMap = params.envMap === undefined ? null : params.envMap;
        material.envMapIntensity = 1.0;
        material.refractionRatio = 0.98;
        material.extensions.derivatives = true;
        return material;
      },

      /**
       * Clones a GLTFSpecularGlossinessMaterial instance. The ShaderMaterial.copy() method can
       * copy only properties it knows about or inherits, and misses many properties that would
       * normally be defined by MeshStandardMaterial.
       *
       * This method allows GLTFSpecularGlossinessMaterials to be cloned in the process of
       * loading a glTF model, but cloning later (e.g. by the user) would require these changes
       * AND also updating `.onBeforeRender` on the parent mesh.
       *
       * @param  {ShaderMaterial} source
       * @return {ShaderMaterial}
       */
      cloneMaterial: function cloneMaterial(source) {
        var target = source.clone();
        target.isGLTFSpecularGlossinessMaterial = true;
        var params = this.specularGlossinessParams;

        for (var i = 0, il = params.length; i < il; i++) {
          var value = source[params[i]];
          target[params[i]] = value && value.isColor ? value.clone() : value;
        }

        return target;
      },
      // Here's based on refreshUniformsCommon() and refreshUniformsStandard() in WebGLRenderer.
      refreshUniforms: function refreshUniforms(renderer, scene, camera, geometry, material) {
        if (material.isGLTFSpecularGlossinessMaterial !== true) {
          return;
        }

        var uniforms = material.uniforms;
        var defines = material.defines;
        uniforms.opacity.value = material.opacity;
        uniforms.diffuse.value.copy(material.color);
        uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);
        uniforms.map.value = material.map;
        uniforms.specularMap.value = material.specularMap;
        uniforms.alphaMap.value = material.alphaMap;
        uniforms.lightMap.value = material.lightMap;
        uniforms.lightMapIntensity.value = material.lightMapIntensity;
        uniforms.aoMap.value = material.aoMap;
        uniforms.aoMapIntensity.value = material.aoMapIntensity; // uv repeat and offset setting priorities
        // 1. color map
        // 2. specular map
        // 3. normal map
        // 4. bump map
        // 5. alpha map
        // 6. emissive map

        var uvScaleMap;

        if (material.map) {
          uvScaleMap = material.map;
        } else if (material.specularMap) {
          uvScaleMap = material.specularMap;
        } else if (material.displacementMap) {
          uvScaleMap = material.displacementMap;
        } else if (material.normalMap) {
          uvScaleMap = material.normalMap;
        } else if (material.bumpMap) {
          uvScaleMap = material.bumpMap;
        } else if (material.glossinessMap) {
          uvScaleMap = material.glossinessMap;
        } else if (material.alphaMap) {
          uvScaleMap = material.alphaMap;
        } else if (material.emissiveMap) {
          uvScaleMap = material.emissiveMap;
        }

        if (uvScaleMap !== undefined) {
          // backwards compatibility
          if (uvScaleMap.isWebGLRenderTarget) {
            uvScaleMap = uvScaleMap.texture;
          }

          if (uvScaleMap.matrixAutoUpdate === true) {
            uvScaleMap.updateMatrix();
          }

          uniforms.uvTransform.value.copy(uvScaleMap.matrix);
        }

        if (material.envMap) {
          uniforms.envMap.value = material.envMap;
          uniforms.envMapIntensity.value = material.envMapIntensity; // don't flip CubeTexture envMaps, flip everything else:
          //  WebGLRenderTargetCube will be flipped for backwards compatibility
          //  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture
          // this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future

          uniforms.flipEnvMap.value = material.envMap.isCubeTexture ? -1 : 1;
          uniforms.reflectivity.value = material.reflectivity;
          uniforms.refractionRatio.value = material.refractionRatio;
          uniforms.maxMipLevel.value = renderer.properties.get(material.envMap).__maxMipLevel;
        }

        uniforms.specular.value.copy(material.specular);
        uniforms.glossiness.value = material.glossiness;
        uniforms.glossinessMap.value = material.glossinessMap;
        uniforms.emissiveMap.value = material.emissiveMap;
        uniforms.bumpMap.value = material.bumpMap;
        uniforms.normalMap.value = material.normalMap;
        uniforms.displacementMap.value = material.displacementMap;
        uniforms.displacementScale.value = material.displacementScale;
        uniforms.displacementBias.value = material.displacementBias;

        if (uniforms.glossinessMap.value !== null && defines.USE_GLOSSINESSMAP === undefined) {
          defines.USE_GLOSSINESSMAP = ''; // set USE_ROUGHNESSMAP to enable vUv

          defines.USE_ROUGHNESSMAP = '';
        }

        if (uniforms.glossinessMap.value === null && defines.USE_GLOSSINESSMAP !== undefined) {
          delete defines.USE_GLOSSINESSMAP;
          delete defines.USE_ROUGHNESSMAP;
        }
      }
    };
  }
  /*********************************/

  /********** INTERPOLATION ********/

  /*********************************/
  // Spline Interpolation
  // Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation


  function GLTFCubicSplineInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {
    three__WEBPACK_IMPORTED_MODULE_0__["Interpolant"].call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);
  }

  GLTFCubicSplineInterpolant.prototype = Object.create(three__WEBPACK_IMPORTED_MODULE_0__["Interpolant"].prototype);
  GLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;

  GLTFCubicSplineInterpolant.prototype.copySampleValue_ = function (index) {
    // Copies a sample value to the result buffer. See description of glTF
    // CUBICSPLINE values layout in interpolate_() function below.
    var result = this.resultBuffer,
        values = this.sampleValues,
        valueSize = this.valueSize,
        offset = index * valueSize * 3 + valueSize;

    for (var i = 0; i !== valueSize; i++) {
      result[i] = values[offset + i];
    }

    return result;
  };

  GLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;
  GLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;

  GLTFCubicSplineInterpolant.prototype.interpolate_ = function (i1, t0, t, t1) {
    var result = this.resultBuffer;
    var values = this.sampleValues;
    var stride = this.valueSize;
    var stride2 = stride * 2;
    var stride3 = stride * 3;
    var td = t1 - t0;
    var p = (t - t0) / td;
    var pp = p * p;
    var ppp = pp * p;
    var offset1 = i1 * stride3;
    var offset0 = offset1 - stride3;
    var s2 = -2 * ppp + 3 * pp;
    var s3 = ppp - pp;
    var s0 = 1 - s2;
    var s1 = s3 - pp + p; // Layout of keyframe output values for CUBICSPLINE animations:
    //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]

    for (var i = 0; i !== stride; i++) {
      var p0 = values[offset0 + i + stride]; // splineVertex_k

      var m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)

      var p1 = values[offset1 + i + stride]; // splineVertex_k+1

      var m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)

      result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;
    }

    return result;
  };
  /*********************************/

  /********** INTERNALS ************/

  /*********************************/

  /* CONSTANTS */


  var WEBGL_CONSTANTS = {
    FLOAT: 5126,
    //FLOAT_MAT2: 35674,
    FLOAT_MAT3: 35675,
    FLOAT_MAT4: 35676,
    FLOAT_VEC2: 35664,
    FLOAT_VEC3: 35665,
    FLOAT_VEC4: 35666,
    LINEAR: 9729,
    REPEAT: 10497,
    SAMPLER_2D: 35678,
    POINTS: 0,
    LINES: 1,
    LINE_LOOP: 2,
    LINE_STRIP: 3,
    TRIANGLES: 4,
    TRIANGLE_STRIP: 5,
    TRIANGLE_FAN: 6,
    UNSIGNED_BYTE: 5121,
    UNSIGNED_SHORT: 5123
  };
  var WEBGL_COMPONENT_TYPES = {
    5120: Int8Array,
    5121: Uint8Array,
    5122: Int16Array,
    5123: Uint16Array,
    5125: Uint32Array,
    5126: Float32Array
  };
  var WEBGL_FILTERS = {
    9728: three__WEBPACK_IMPORTED_MODULE_0__["NearestFilter"],
    9729: three__WEBPACK_IMPORTED_MODULE_0__["LinearFilter"],
    9984: three__WEBPACK_IMPORTED_MODULE_0__["NearestMipMapNearestFilter"],
    9985: three__WEBPACK_IMPORTED_MODULE_0__["LinearMipMapNearestFilter"],
    9986: three__WEBPACK_IMPORTED_MODULE_0__["NearestMipMapLinearFilter"],
    9987: three__WEBPACK_IMPORTED_MODULE_0__["LinearMipMapLinearFilter"]
  };
  var WEBGL_WRAPPINGS = {
    33071: three__WEBPACK_IMPORTED_MODULE_0__["ClampToEdgeWrapping"],
    33648: three__WEBPACK_IMPORTED_MODULE_0__["MirroredRepeatWrapping"],
    10497: three__WEBPACK_IMPORTED_MODULE_0__["RepeatWrapping"]
  };
  var WEBGL_TYPE_SIZES = {
    'SCALAR': 1,
    'VEC2': 2,
    'VEC3': 3,
    'VEC4': 4,
    'MAT2': 4,
    'MAT3': 9,
    'MAT4': 16
  };
  var ATTRIBUTES = {
    POSITION: 'position',
    NORMAL: 'normal',
    TANGENT: 'tangent',
    TEXCOORD_0: 'uv',
    TEXCOORD_1: 'uv2',
    COLOR_0: 'color',
    WEIGHTS_0: 'skinWeight',
    JOINTS_0: 'skinIndex'
  };
  var PATH_PROPERTIES = {
    scale: 'scale',
    translation: 'position',
    rotation: 'quaternion',
    weights: 'morphTargetInfluences'
  };
  var INTERPOLATION = {
    CUBICSPLINE: undefined,
    // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each
    // keyframe track will be initialized with a default interpolation type, then modified.
    LINEAR: three__WEBPACK_IMPORTED_MODULE_0__["InterpolateLinear"],
    STEP: three__WEBPACK_IMPORTED_MODULE_0__["InterpolateDiscrete"]
  };
  var ALPHA_MODES = {
    OPAQUE: 'OPAQUE',
    MASK: 'MASK',
    BLEND: 'BLEND'
  };
  var MIME_TYPE_FORMATS = {
    'image/png': three__WEBPACK_IMPORTED_MODULE_0__["RGBAFormat"],
    'image/jpeg': three__WEBPACK_IMPORTED_MODULE_0__["RGBFormat"]
  };
  /* UTILITY FUNCTIONS */

  function resolveURL(url, path) {
    // Invalid URL
    if (typeof url !== 'string' || url === '') return ''; // Absolute URL http://,https://,//

    if (/^(https?:)?\/\//i.test(url)) return url; // Data URI

    if (/^data:.*,.*$/i.test(url)) return url; // Blob URL

    if (/^blob:.*$/i.test(url)) return url; // Relative URL

    return path + url;
  }

  var defaultMaterial;
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material
   */

  function createDefaultMaterial() {
    defaultMaterial = defaultMaterial || new three__WEBPACK_IMPORTED_MODULE_0__["MeshStandardMaterial"]({
      color: 0xFFFFFF,
      emissive: 0x000000,
      metalness: 1,
      roughness: 1,
      transparent: false,
      depthTest: true,
      side: three__WEBPACK_IMPORTED_MODULE_0__["FrontSide"]
    });
    return defaultMaterial;
  }

  function addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {
    // Add unknown glTF extensions to an object's userData.
    for (var name in objectDef.extensions) {
      if (knownExtensions[name] === undefined) {
        object.userData.gltfExtensions = object.userData.gltfExtensions || {};
        object.userData.gltfExtensions[name] = objectDef.extensions[name];
      }
    }
  }
  /**
   * @param {Object3D|Material|BufferGeometry} object
   * @param {GLTF.definition} gltfDef
   */


  function assignExtrasToUserData(object, gltfDef) {
    if (gltfDef.extras !== undefined) {
      if (_typeof(gltfDef.extras) === 'object') {
        Object.assign(object.userData, gltfDef.extras);
      } else {
        console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);
      }
    }
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets
   *
   * @param {BufferGeometry} geometry
   * @param {Array<GLTF.Target>} targets
   * @param {GLTFParser} parser
   * @return {Promise<BufferGeometry>}
   */


  function addMorphTargets(geometry, targets, parser) {
    var hasMorphPosition = false;
    var hasMorphNormal = false;

    for (var i = 0, il = targets.length; i < il; i++) {
      var target = targets[i];
      if (target.POSITION !== undefined) hasMorphPosition = true;
      if (target.NORMAL !== undefined) hasMorphNormal = true;
      if (hasMorphPosition && hasMorphNormal) break;
    }

    if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);
    var pendingPositionAccessors = [];
    var pendingNormalAccessors = [];

    for (var i = 0, il = targets.length; i < il; i++) {
      var target = targets[i];

      if (hasMorphPosition) {
        var pendingAccessor = target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position;
        pendingPositionAccessors.push(pendingAccessor);
      }

      if (hasMorphNormal) {
        var pendingAccessor = target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal;
        pendingNormalAccessors.push(pendingAccessor);
      }
    }

    return Promise.all([Promise.all(pendingPositionAccessors), Promise.all(pendingNormalAccessors)]).then(function (accessors) {
      var morphPositions = accessors[0];
      var morphNormals = accessors[1]; // Clone morph target accessors before modifying them.

      for (var i = 0, il = morphPositions.length; i < il; i++) {
        if (geometry.attributes.position === morphPositions[i]) continue;
        morphPositions[i] = cloneBufferAttribute(morphPositions[i]);
      }

      for (var i = 0, il = morphNormals.length; i < il; i++) {
        if (geometry.attributes.normal === morphNormals[i]) continue;
        morphNormals[i] = cloneBufferAttribute(morphNormals[i]);
      }

      for (var i = 0, il = targets.length; i < il; i++) {
        var target = targets[i];
        var attributeName = 'morphTarget' + i;

        if (hasMorphPosition) {
          // Three.js morph position is absolute value. The formula is
          //   basePosition
          //	 + weight0 * ( morphPosition0 - basePosition )
          //	 + weight1 * ( morphPosition1 - basePosition )
          //	 ...
          // while the glTF one is relative
          //   basePosition
          //	 + weight0 * glTFmorphPosition0
          //	 + weight1 * glTFmorphPosition1
          //	 ...
          // then we need to convert from relative to absolute here.
          if (target.POSITION !== undefined) {
            var positionAttribute = morphPositions[i];
            positionAttribute.name = attributeName;
            var position = geometry.attributes.position;

            for (var j = 0, jl = positionAttribute.count; j < jl; j++) {
              positionAttribute.setXYZ(j, positionAttribute.getX(j) + position.getX(j), positionAttribute.getY(j) + position.getY(j), positionAttribute.getZ(j) + position.getZ(j));
            }
          }
        }

        if (hasMorphNormal) {
          // see target.POSITION's comment
          if (target.NORMAL !== undefined) {
            var normalAttribute = morphNormals[i];
            normalAttribute.name = attributeName;
            var normal = geometry.attributes.normal;

            for (var j = 0, jl = normalAttribute.count; j < jl; j++) {
              normalAttribute.setXYZ(j, normalAttribute.getX(j) + normal.getX(j), normalAttribute.getY(j) + normal.getY(j), normalAttribute.getZ(j) + normal.getZ(j));
            }
          }
        }
      }

      if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;
      if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;
      return geometry;
    });
  }
  /**
   * @param {Mesh} mesh
   * @param {GLTF.Mesh} meshDef
   */


  function updateMorphTargets(mesh, meshDef) {
    mesh.updateMorphTargets();

    if (meshDef.weights !== undefined) {
      for (var i = 0, il = meshDef.weights.length; i < il; i++) {
        mesh.morphTargetInfluences[i] = meshDef.weights[i];
      }
    } // .extras has user-defined data, so check that .extras.targetNames is an array.


    if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {
      var targetNames = meshDef.extras.targetNames;

      if (mesh.morphTargetInfluences.length === targetNames.length) {
        mesh.morphTargetDictionary = {};

        for (var i = 0, il = targetNames.length; i < il; i++) {
          mesh.morphTargetDictionary[targetNames[i]] = i;
        }
      } else {
        console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');
      }
    }
  }

  function createPrimitiveKey(primitiveDef) {
    var dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];
    var geometryKey;

    if (dracoExtension) {
      geometryKey = 'draco:' + dracoExtension.bufferView + ':' + dracoExtension.indices + ':' + createAttributesKey(dracoExtension.attributes);
    } else {
      geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;
    }

    return geometryKey;
  }

  function createAttributesKey(attributes) {
    var attributesKey = '';
    var keys = Object.keys(attributes).sort();

    for (var i = 0, il = keys.length; i < il; i++) {
      attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';
    }

    return attributesKey;
  }

  function cloneBufferAttribute(attribute) {
    if (attribute.isInterleavedBufferAttribute) {
      var count = attribute.count;
      var itemSize = attribute.itemSize;
      var array = attribute.array.slice(0, count * itemSize);

      for (var i = 0, j = 0; i < count; ++i) {
        array[j++] = attribute.getX(i);
        if (itemSize >= 2) array[j++] = attribute.getY(i);
        if (itemSize >= 3) array[j++] = attribute.getZ(i);
        if (itemSize >= 4) array[j++] = attribute.getW(i);
      }

      return new three__WEBPACK_IMPORTED_MODULE_0__["BufferAttribute"](array, itemSize, attribute.normalized);
    }

    return attribute.clone();
  }
  /* GLTF PARSER */


  function GLTFParser(json, extensions, options) {
    this.json = json || {};
    this.extensions = extensions || {};
    this.options = options || {}; // loader object cache

    this.cache = new GLTFRegistry(); // BufferGeometry caching

    this.primitiveCache = {};
    this.textureLoader = new three__WEBPACK_IMPORTED_MODULE_0__["TextureLoader"](this.options.manager);
    this.textureLoader.setCrossOrigin(this.options.crossOrigin);
    this.fileLoader = new three__WEBPACK_IMPORTED_MODULE_0__["FileLoader"](this.options.manager);
    this.fileLoader.setResponseType('arraybuffer');

    if (this.options.crossOrigin === 'use-credentials') {
      this.fileLoader.setWithCredentials(true);
    }
  }

  GLTFParser.prototype.parse = function (onLoad, onError) {
    var parser = this;
    var json = this.json;
    var extensions = this.extensions; // Clear the loader cache

    this.cache.removeAll(); // Mark the special nodes/meshes in json for efficient parse

    this.markDefs();
    Promise.all([this.getDependencies('scene'), this.getDependencies('animation'), this.getDependencies('camera')]).then(function (dependencies) {
      var result = {
        scene: dependencies[0][json.scene || 0],
        scenes: dependencies[0],
        animations: dependencies[1],
        cameras: dependencies[2],
        asset: json.asset,
        parser: parser,
        userData: {}
      };
      addUnknownExtensionsToUserData(extensions, result, json);
      assignExtrasToUserData(result, json);
      onLoad(result);
    }).catch(onError);
  };
  /**
   * Marks the special nodes/meshes in json for efficient parse.
   */


  GLTFParser.prototype.markDefs = function () {
    var nodeDefs = this.json.nodes || [];
    var skinDefs = this.json.skins || [];
    var meshDefs = this.json.meshes || [];
    var meshReferences = {};
    var meshUses = {}; // Nothing in the node definition indicates whether it is a Bone or an
    // Object3D. Use the skins' joint references to mark bones.

    for (var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {
      var joints = skinDefs[skinIndex].joints;

      for (var i = 0, il = joints.length; i < il; i++) {
        nodeDefs[joints[i]].isBone = true;
      }
    } // Meshes can (and should) be reused by multiple nodes in a glTF asset. To
    // avoid having more than one Mesh with the same name, count
    // references and rename instances below.
    //
    // Example: CesiumMilkTruck sample model reuses "Wheel" meshes.


    for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {
      var nodeDef = nodeDefs[nodeIndex];

      if (nodeDef.mesh !== undefined) {
        if (meshReferences[nodeDef.mesh] === undefined) {
          meshReferences[nodeDef.mesh] = meshUses[nodeDef.mesh] = 0;
        }

        meshReferences[nodeDef.mesh]++; // Nothing in the mesh definition indicates whether it is
        // a SkinnedMesh or Mesh. Use the node's mesh reference
        // to mark SkinnedMesh if node has skin.

        if (nodeDef.skin !== undefined) {
          meshDefs[nodeDef.mesh].isSkinnedMesh = true;
        }
      }
    }

    this.json.meshReferences = meshReferences;
    this.json.meshUses = meshUses;
  };
  /**
   * Requests the specified dependency asynchronously, with caching.
   * @param {string} type
   * @param {number} index
   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}
   */


  GLTFParser.prototype.getDependency = function (type, index) {
    var cacheKey = type + ':' + index;
    var dependency = this.cache.get(cacheKey);

    if (!dependency) {
      switch (type) {
        case 'scene':
          dependency = this.loadScene(index);
          break;

        case 'node':
          dependency = this.loadNode(index);
          break;

        case 'mesh':
          dependency = this.loadMesh(index);
          break;

        case 'accessor':
          dependency = this.loadAccessor(index);
          break;

        case 'bufferView':
          dependency = this.loadBufferView(index);
          break;

        case 'buffer':
          dependency = this.loadBuffer(index);
          break;

        case 'material':
          dependency = this.loadMaterial(index);
          break;

        case 'texture':
          dependency = this.loadTexture(index);
          break;

        case 'skin':
          dependency = this.loadSkin(index);
          break;

        case 'animation':
          dependency = this.loadAnimation(index);
          break;

        case 'camera':
          dependency = this.loadCamera(index);
          break;

        case 'light':
          dependency = this.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL].loadLight(index);
          break;

        default:
          throw new Error('Unknown type: ' + type);
      }

      this.cache.add(cacheKey, dependency);
    }

    return dependency;
  };
  /**
   * Requests all dependencies of the specified type asynchronously, with caching.
   * @param {string} type
   * @return {Promise<Array<Object>>}
   */


  GLTFParser.prototype.getDependencies = function (type) {
    var dependencies = this.cache.get(type);

    if (!dependencies) {
      var parser = this;
      var defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];
      dependencies = Promise.all(defs.map(function (def, index) {
        return parser.getDependency(type, index);
      }));
      this.cache.add(type, dependencies);
    }

    return dependencies;
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views
   * @param {number} bufferIndex
   * @return {Promise<ArrayBuffer>}
   */


  GLTFParser.prototype.loadBuffer = function (bufferIndex) {
    var bufferDef = this.json.buffers[bufferIndex];
    var loader = this.fileLoader;

    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {
      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');
    } // If present, GLB container is required to be the first buffer.


    if (bufferDef.uri === undefined && bufferIndex === 0) {
      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);
    }

    var options = this.options;
    return new Promise(function (resolve, reject) {
      loader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {
        reject(new Error('THREE.GLTFLoader: Failed to load buffer "' + bufferDef.uri + '".'));
      });
    });
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views
   * @param {number} bufferViewIndex
   * @return {Promise<ArrayBuffer>}
   */


  GLTFParser.prototype.loadBufferView = function (bufferViewIndex) {
    var bufferViewDef = this.json.bufferViews[bufferViewIndex];
    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {
      var byteLength = bufferViewDef.byteLength || 0;
      var byteOffset = bufferViewDef.byteOffset || 0;
      return buffer.slice(byteOffset, byteOffset + byteLength);
    });
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors
   * @param {number} accessorIndex
   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}
   */


  GLTFParser.prototype.loadAccessor = function (accessorIndex) {
    var parser = this;
    var json = this.json;
    var accessorDef = this.json.accessors[accessorIndex];

    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {
      // Ignore empty accessors, which may be used to declare runtime
      // information about attributes coming from another source (e.g. Draco
      // compression extension).
      return Promise.resolve(null);
    }

    var pendingBufferViews = [];

    if (accessorDef.bufferView !== undefined) {
      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));
    } else {
      pendingBufferViews.push(null);
    }

    if (accessorDef.sparse !== undefined) {
      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));
      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));
    }

    return Promise.all(pendingBufferViews).then(function (bufferViews) {
      var bufferView = bufferViews[0];
      var itemSize = WEBGL_TYPE_SIZES[accessorDef.type];
      var TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]; // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.

      var elementBytes = TypedArray.BYTES_PER_ELEMENT;
      var itemBytes = elementBytes * itemSize;
      var byteOffset = accessorDef.byteOffset || 0;
      var byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;
      var normalized = accessorDef.normalized === true;
      var array, bufferAttribute; // The buffer is not interleaved if the stride is the item size in bytes.

      if (byteStride && byteStride !== itemBytes) {
        //var ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType;
        var ibSlice = Math.floor(byteOffset / byteStride);
        var ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;
        var ib = parser.cache.get(ibCacheKey);

        if (!ib) {
          // Use the full buffer if it's interleaved.
          //array = new TypedArray( bufferView );
          array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes); // Integer parameters to IB/IBA are in array elements, not bytes.

          ib = new three__WEBPACK_IMPORTED_MODULE_0__["InterleavedBuffer"](array, byteStride / elementBytes);
          parser.cache.add(ibCacheKey, ib);
        } //bufferAttribute = new InterleavedBufferAttribute( ib, itemSize, byteOffset / elementBytes, normalized );


        bufferAttribute = new THREE.InterleavedBufferAttribute(ib, itemSize, byteOffset % byteStride / elementBytes, normalized);
      } else {
        if (bufferView === null) {
          array = new TypedArray(accessorDef.count * itemSize);
        } else {
          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);
        }

        bufferAttribute = new three__WEBPACK_IMPORTED_MODULE_0__["BufferAttribute"](array, itemSize, normalized);
      } // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors


      if (accessorDef.sparse !== undefined) {
        var itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;
        var TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];
        var byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;
        var byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;
        var sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);
        var sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);

        if (bufferView !== null) {
          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.
          bufferAttribute.setArray(bufferAttribute.array.slice());
        }

        for (var i = 0, il = sparseIndices.length; i < il; i++) {
          var index = sparseIndices[i];
          bufferAttribute.setX(index, sparseValues[i * itemSize]);
          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);
          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);
          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);
          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');
        }
      }

      return bufferAttribute;
    });
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures
   * @param {number} textureIndex
   * @return {Promise<THREE.Texture>}
   */


  GLTFParser.prototype.loadTexture = function (textureIndex) {
    var parser = this;
    var json = this.json;
    var options = this.options;
    var textureLoader = this.textureLoader;
    var URL = window.URL || window.webkitURL;
    var textureDef = json.textures[textureIndex];
    var textureExtensions = textureDef.extensions || {};
    var source;

    if (textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS]) {
      source = json.images[textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS].source];
    } else {
      source = json.images[textureDef.source];
    }

    var sourceURI = source.uri;
    var isObjectURL = false;

    if (source.bufferView !== undefined) {
      // Load binary image data from bufferView, if provided.
      sourceURI = parser.getDependency('bufferView', source.bufferView).then(function (bufferView) {
        isObjectURL = true;
        var blob = new Blob([bufferView], {
          type: source.mimeType
        });
        sourceURI = URL.createObjectURL(blob);
        return sourceURI;
      });
    }

    return Promise.resolve(sourceURI).then(function (sourceURI) {
      // Load Texture resource.
      var loader = three__WEBPACK_IMPORTED_MODULE_0__["Loader"].Handlers.get(sourceURI);

      if (!loader) {
        loader = textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS] ? parser.extensions[EXTENSIONS.MSFT_TEXTURE_DDS].ddsLoader : textureLoader;
      }

      return new Promise(function (resolve, reject) {
        loader.load(resolveURL(sourceURI, options.path), resolve, undefined, reject);
      });
    }).then(function (texture) {
      // Clean up resources and configure Texture.
      if (isObjectURL === true) {
        URL.revokeObjectURL(sourceURI);
      }

      texture.flipY = false;
      if (textureDef.name !== undefined) texture.name = textureDef.name; // Ignore unknown mime types, like DDS files.

      if (source.mimeType in MIME_TYPE_FORMATS) {
        texture.format = MIME_TYPE_FORMATS[source.mimeType];
      }

      var samplers = json.samplers || {};
      var sampler = samplers[textureDef.sampler] || {};
      texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || three__WEBPACK_IMPORTED_MODULE_0__["LinearFilter"];
      texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || three__WEBPACK_IMPORTED_MODULE_0__["LinearMipMapLinearFilter"];
      texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || three__WEBPACK_IMPORTED_MODULE_0__["RepeatWrapping"];
      texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || three__WEBPACK_IMPORTED_MODULE_0__["RepeatWrapping"];
      return texture;
    });
  };
  /**
   * Asynchronously assigns a texture to the given material parameters.
   * @param {Object} materialParams
   * @param {string} mapName
   * @param {Object} mapDef
   * @return {Promise}
   */


  GLTFParser.prototype.assignTexture = function (materialParams, mapName, mapDef) {
    var parser = this;
    return this.getDependency('texture', mapDef.index).then(function (texture) {
      if (!texture.isCompressedTexture) {
        switch (mapName) {
          case 'aoMap':
          case 'emissiveMap':
          case 'metalnessMap':
          case 'normalMap':
          case 'roughnessMap':
            texture.format = three__WEBPACK_IMPORTED_MODULE_0__["RGBFormat"];
            break;
        }
      }

      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {
        var transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;

        if (transform) {
          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);
        }
      }

      materialParams[mapName] = texture;
    });
  };
  /**
   * Assigns final material to a Mesh, Line, or Points instance. The instance
   * already has a material (generated from the glTF material options alone)
   * but reuse of the same glTF material may require multiple threejs materials
   * to accomodate different primitive types, defines, etc. New materials will
   * be created if necessary, and reused from a cache.
   * @param  {Object3D} mesh Mesh, Line, or Points instance.
   */


  GLTFParser.prototype.assignFinalMaterial = function (mesh) {
    var geometry = mesh.geometry;
    var material = mesh.material;
    var extensions = this.extensions;
    var useVertexTangents = geometry.attributes.tangent !== undefined;
    var useVertexColors = geometry.attributes.color !== undefined;
    var useFlatShading = geometry.attributes.normal === undefined;
    var useSkinning = mesh.isSkinnedMesh === true;
    var useMorphTargets = Object.keys(geometry.morphAttributes).length > 0;
    var useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;

    if (mesh.isPoints) {
      var cacheKey = 'PointsMaterial:' + material.uuid;
      var pointsMaterial = this.cache.get(cacheKey);

      if (!pointsMaterial) {
        pointsMaterial = new three__WEBPACK_IMPORTED_MODULE_0__["PointsMaterial"]();
        three__WEBPACK_IMPORTED_MODULE_0__["Material"].prototype.copy.call(pointsMaterial, material);
        pointsMaterial.color.copy(material.color);
        pointsMaterial.map = material.map;
        pointsMaterial.lights = false; // PointsMaterial doesn't support lights yet

        this.cache.add(cacheKey, pointsMaterial);
      }

      material = pointsMaterial;
    } else if (mesh.isLine) {
      var cacheKey = 'LineBasicMaterial:' + material.uuid;
      var lineMaterial = this.cache.get(cacheKey);

      if (!lineMaterial) {
        lineMaterial = new three__WEBPACK_IMPORTED_MODULE_0__["LineBasicMaterial"]();
        three__WEBPACK_IMPORTED_MODULE_0__["Material"].prototype.copy.call(lineMaterial, material);
        lineMaterial.color.copy(material.color);
        lineMaterial.lights = false; // LineBasicMaterial doesn't support lights yet

        this.cache.add(cacheKey, lineMaterial);
      }

      material = lineMaterial;
    } // Clone the material if it will be modified


    if (useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets) {
      var cacheKey = 'ClonedMaterial:' + material.uuid + ':';
      if (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';
      if (useSkinning) cacheKey += 'skinning:';
      if (useVertexTangents) cacheKey += 'vertex-tangents:';
      if (useVertexColors) cacheKey += 'vertex-colors:';
      if (useFlatShading) cacheKey += 'flat-shading:';
      if (useMorphTargets) cacheKey += 'morph-targets:';
      if (useMorphNormals) cacheKey += 'morph-normals:';
      var cachedMaterial = this.cache.get(cacheKey);

      if (!cachedMaterial) {
        cachedMaterial = material.isGLTFSpecularGlossinessMaterial ? extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(material) : material.clone();
        if (useSkinning) cachedMaterial.skinning = true;
        if (useVertexTangents) cachedMaterial.vertexTangents = true;
        if (useVertexColors) cachedMaterial.vertexColors = three__WEBPACK_IMPORTED_MODULE_0__["VertexColors"];
        if (useFlatShading) cachedMaterial.flatShading = true;
        if (useMorphTargets) cachedMaterial.morphTargets = true;
        if (useMorphNormals) cachedMaterial.morphNormals = true;
        this.cache.add(cacheKey, cachedMaterial);
      }

      material = cachedMaterial;
    } // workarounds for mesh and geometry


    if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {
      geometry.addAttribute('uv2', new three__WEBPACK_IMPORTED_MODULE_0__["BufferAttribute"](geometry.attributes.uv.array, 2));
    }

    if (material.isGLTFSpecularGlossinessMaterial) {
      // for GLTFSpecularGlossinessMaterial(ShaderMaterial) uniforms runtime update
      mesh.onBeforeRender = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms;
    }

    mesh.material = material;
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials
   * @param {number} materialIndex
   * @return {Promise<Material>}
   */


  GLTFParser.prototype.loadMaterial = function (materialIndex) {
    var parser = this;
    var json = this.json;
    var extensions = this.extensions;
    var materialDef = json.materials[materialIndex];
    var materialType;
    var materialParams = {};
    var materialExtensions = materialDef.extensions || {};
    var pending = [];

    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {
      var sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];
      materialType = sgExtension.getMaterialType();
      pending.push(sgExtension.extendParams(materialParams, materialDef, parser));
    } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {
      var kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];
      materialType = kmuExtension.getMaterialType();
      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));
    } else {
      // Specification:
      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material
      materialType = three__WEBPACK_IMPORTED_MODULE_0__["MeshStandardMaterial"];
      var metallicRoughness = materialDef.pbrMetallicRoughness || {};
      materialParams.color = new three__WEBPACK_IMPORTED_MODULE_0__["Color"](1.0, 1.0, 1.0);
      materialParams.opacity = 1.0;

      if (Array.isArray(metallicRoughness.baseColorFactor)) {
        var array = metallicRoughness.baseColorFactor;
        materialParams.color.fromArray(array);
        materialParams.opacity = array[3];
      }

      if (metallicRoughness.baseColorTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));
      }

      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;
      materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;

      if (metallicRoughness.metallicRoughnessTexture !== undefined) {
        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));
        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));
      }
    }

    if (materialDef.doubleSided === true) {
      materialParams.side = three__WEBPACK_IMPORTED_MODULE_0__["DoubleSide"];
    }

    var alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;

    if (alphaMode === ALPHA_MODES.BLEND) {
      materialParams.transparent = true;
    } else {
      materialParams.transparent = false;

      if (alphaMode === ALPHA_MODES.MASK) {
        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;
      }
    }

    if (materialDef.normalTexture !== undefined && materialType !== three__WEBPACK_IMPORTED_MODULE_0__["MeshBasicMaterial"]) {
      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture));
      materialParams.normalScale = new three__WEBPACK_IMPORTED_MODULE_0__["Vector2"](1, 1);

      if (materialDef.normalTexture.scale !== undefined) {
        materialParams.normalScale.set(materialDef.normalTexture.scale, materialDef.normalTexture.scale);
      }
    }

    if (materialDef.occlusionTexture !== undefined && materialType !== three__WEBPACK_IMPORTED_MODULE_0__["MeshBasicMaterial"]) {
      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));

      if (materialDef.occlusionTexture.strength !== undefined) {
        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;
      }
    }

    if (materialDef.emissiveFactor !== undefined && materialType !== three__WEBPACK_IMPORTED_MODULE_0__["MeshBasicMaterial"]) {
      materialParams.emissive = new three__WEBPACK_IMPORTED_MODULE_0__["Color"]().fromArray(materialDef.emissiveFactor);
    }

    if (materialDef.emissiveTexture !== undefined && materialType !== three__WEBPACK_IMPORTED_MODULE_0__["MeshBasicMaterial"]) {
      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));
    }

    return Promise.all(pending).then(function () {
      var material;

      if (materialType === three__WEBPACK_IMPORTED_MODULE_0__["ShaderMaterial"]) {
        material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);
      } else {
        material = new materialType(materialParams);
      }

      if (materialDef.name !== undefined) material.name = materialDef.name; // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.

      if (material.map) material.map.encoding = three__WEBPACK_IMPORTED_MODULE_0__["sRGBEncoding"];
      if (material.emissiveMap) material.emissiveMap.encoding = three__WEBPACK_IMPORTED_MODULE_0__["sRGBEncoding"];
      if (material.specularMap) material.specularMap.encoding = three__WEBPACK_IMPORTED_MODULE_0__["sRGBEncoding"];
      assignExtrasToUserData(material, materialDef);
      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);
      return material;
    });
  };
  /**
   * @param {BufferGeometry} geometry
   * @param {GLTF.Primitive} primitiveDef
   * @param {GLTFParser} parser
   * @return {Promise<BufferGeometry>}
   */


  function addPrimitiveAttributes(geometry, primitiveDef, parser) {
    var attributes = primitiveDef.attributes;
    var pending = [];

    function assignAttributeAccessor(accessorIndex, attributeName) {
      return parser.getDependency('accessor', accessorIndex).then(function (accessor) {
        geometry.addAttribute(attributeName, accessor);
      });
    }

    for (var gltfAttributeName in attributes) {
      var threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase(); // Skip attributes already provided by e.g. Draco extension.

      if (threeAttributeName in geometry.attributes) continue;
      pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));
    }

    if (primitiveDef.indices !== undefined && !geometry.index) {
      var accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {
        geometry.setIndex(accessor);
      });
      pending.push(accessor);
    }

    assignExtrasToUserData(geometry, primitiveDef);
    return Promise.all(pending).then(function () {
      return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry;
    });
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry
   *
   * Creates BufferGeometries from primitives.
   *
   * @param {Array<GLTF.Primitive>} primitives
   * @return {Promise<Array<BufferGeometry>>}
   */


  GLTFParser.prototype.loadGeometries = function (primitives) {
    var parser = this;
    var extensions = this.extensions;
    var cache = this.primitiveCache;

    function createDracoPrimitive(primitive) {
      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(primitive, parser).then(function (geometry) {
        return addPrimitiveAttributes(geometry, primitive, parser);
      });
    }

    var pending = [];

    for (var i = 0, il = primitives.length; i < il; i++) {
      var primitive = primitives[i];
      var cacheKey = createPrimitiveKey(primitive); // See if we've already created this geometry

      var cached = cache[cacheKey];

      if (cached) {
        // Use the cached geometry if it exists
        pending.push(cached.promise);
      } else {
        var geometryPromise;

        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {
          // Use DRACO geometry if available
          geometryPromise = createDracoPrimitive(primitive);
        } else {
          // Otherwise create a new geometry
          geometryPromise = addPrimitiveAttributes(new three__WEBPACK_IMPORTED_MODULE_0__["BufferGeometry"](), primitive, parser);
        } // Cache this geometry


        cache[cacheKey] = {
          primitive: primitive,
          promise: geometryPromise
        };
        pending.push(geometryPromise);
      }
    }

    return Promise.all(pending);
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes
   * @param {number} meshIndex
   * @return {Promise<Group|Mesh|SkinnedMesh>}
   */


  GLTFParser.prototype.loadMesh = function (meshIndex) {
    var parser = this;
    var json = this.json;
    var meshDef = json.meshes[meshIndex];
    var primitives = meshDef.primitives;
    var pending = [];

    for (var i = 0, il = primitives.length; i < il; i++) {
      var material = primitives[i].material === undefined ? createDefaultMaterial() : this.getDependency('material', primitives[i].material);
      pending.push(material);
    }

    return Promise.all(pending).then(function (originalMaterials) {
      return parser.loadGeometries(primitives).then(function (geometries) {
        var meshes = [];

        for (var i = 0, il = geometries.length; i < il; i++) {
          var geometry = geometries[i];
          var primitive = primitives[i]; // 1. create Mesh

          var mesh;
          var material = originalMaterials[i];

          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP || primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN || primitive.mode === undefined) {
            // .isSkinnedMesh isn't in glTF spec. See .markDefs()
            mesh = meshDef.isSkinnedMesh === true ? new three__WEBPACK_IMPORTED_MODULE_0__["SkinnedMesh"](geometry, material) : new three__WEBPACK_IMPORTED_MODULE_0__["Mesh"](geometry, material);

            if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {
              // we normalize floating point skin weight array to fix malformed assets (see #15319)
              // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs
              mesh.normalizeSkinWeights();
            }

            if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {
              mesh.drawMode = three__WEBPACK_IMPORTED_MODULE_0__["TriangleStripDrawMode"];
            } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {
              mesh.drawMode = three__WEBPACK_IMPORTED_MODULE_0__["TriangleFanDrawMode"];
            }
          } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {
            mesh = new three__WEBPACK_IMPORTED_MODULE_0__["LineSegments"](geometry, material);
          } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {
            mesh = new three__WEBPACK_IMPORTED_MODULE_0__["Line"](geometry, material);
          } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {
            mesh = new three__WEBPACK_IMPORTED_MODULE_0__["LineLoop"](geometry, material);
          } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {
            mesh = new three__WEBPACK_IMPORTED_MODULE_0__["Points"](geometry, material);
          } else {
            throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);
          }

          if (Object.keys(mesh.geometry.morphAttributes).length > 0) {
            updateMorphTargets(mesh, meshDef);
          }

          mesh.name = meshDef.name || 'mesh_' + meshIndex;
          if (geometries.length > 1) mesh.name += '_' + i;
          assignExtrasToUserData(mesh, meshDef);
          parser.assignFinalMaterial(mesh);
          meshes.push(mesh);
        }

        if (meshes.length === 1) {
          return meshes[0];
        }

        var group = new three__WEBPACK_IMPORTED_MODULE_0__["Group"]();

        for (var i = 0, il = meshes.length; i < il; i++) {
          group.add(meshes[i]);
        }

        return group;
      });
    });
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras
   * @param {number} cameraIndex
   * @return {Promise<THREE.Camera>}
   */


  GLTFParser.prototype.loadCamera = function (cameraIndex) {
    var camera;
    var cameraDef = this.json.cameras[cameraIndex];
    var params = cameraDef[cameraDef.type];

    if (!params) {
      console.warn('THREE.GLTFLoader: Missing camera parameters.');
      return;
    }

    if (cameraDef.type === 'perspective') {
      camera = new three__WEBPACK_IMPORTED_MODULE_0__["PerspectiveCamera"](three__WEBPACK_IMPORTED_MODULE_0__["Math"].radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);
    } else if (cameraDef.type === 'orthographic') {
      camera = new three__WEBPACK_IMPORTED_MODULE_0__["OrthographicCamera"](params.xmag / -2, params.xmag / 2, params.ymag / 2, params.ymag / -2, params.znear, params.zfar);
    }

    if (cameraDef.name !== undefined) camera.name = cameraDef.name;
    assignExtrasToUserData(camera, cameraDef);
    return Promise.resolve(camera);
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins
   * @param {number} skinIndex
   * @return {Promise<Object>}
   */


  GLTFParser.prototype.loadSkin = function (skinIndex) {
    var skinDef = this.json.skins[skinIndex];
    var skinEntry = {
      joints: skinDef.joints
    };

    if (skinDef.inverseBindMatrices === undefined) {
      return Promise.resolve(skinEntry);
    }

    return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function (accessor) {
      skinEntry.inverseBindMatrices = accessor;
      return skinEntry;
    });
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations
   * @param {number} animationIndex
   * @return {Promise<AnimationClip>}
   */


  GLTFParser.prototype.loadAnimation = function (animationIndex) {
    var json = this.json;
    var animationDef = json.animations[animationIndex];
    var pendingNodes = [];
    var pendingInputAccessors = [];
    var pendingOutputAccessors = [];
    var pendingSamplers = [];
    var pendingTargets = [];

    for (var i = 0, il = animationDef.channels.length; i < il; i++) {
      var channel = animationDef.channels[i];
      var sampler = animationDef.samplers[channel.sampler];
      var target = channel.target;
      var name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.

      var input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;
      var output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;
      pendingNodes.push(this.getDependency('node', name));
      pendingInputAccessors.push(this.getDependency('accessor', input));
      pendingOutputAccessors.push(this.getDependency('accessor', output));
      pendingSamplers.push(sampler);
      pendingTargets.push(target);
    }

    return Promise.all([Promise.all(pendingNodes), Promise.all(pendingInputAccessors), Promise.all(pendingOutputAccessors), Promise.all(pendingSamplers), Promise.all(pendingTargets)]).then(function (dependencies) {
      var nodes = dependencies[0];
      var inputAccessors = dependencies[1];
      var outputAccessors = dependencies[2];
      var samplers = dependencies[3];
      var targets = dependencies[4];
      var tracks = [];

      for (var i = 0, il = nodes.length; i < il; i++) {
        var node = nodes[i];
        var inputAccessor = inputAccessors[i];
        var outputAccessor = outputAccessors[i];
        var sampler = samplers[i];
        var target = targets[i];
        if (node === undefined) continue;
        node.updateMatrix();
        node.matrixAutoUpdate = true;
        var TypedKeyframeTrack;

        switch (PATH_PROPERTIES[target.path]) {
          case PATH_PROPERTIES.weights:
            TypedKeyframeTrack = three__WEBPACK_IMPORTED_MODULE_0__["NumberKeyframeTrack"];
            break;

          case PATH_PROPERTIES.rotation:
            TypedKeyframeTrack = three__WEBPACK_IMPORTED_MODULE_0__["QuaternionKeyframeTrack"];
            break;

          case PATH_PROPERTIES.position:
          case PATH_PROPERTIES.scale:
          default:
            TypedKeyframeTrack = three__WEBPACK_IMPORTED_MODULE_0__["VectorKeyframeTrack"];
            break;
        }

        var targetName = node.name ? node.name : node.uuid;
        var interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : three__WEBPACK_IMPORTED_MODULE_0__["InterpolateLinear"];
        var targetNames = [];

        if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {
          // Node may be a Group (glTF mesh with several primitives) or a Mesh.
          node.traverse(function (object) {
            if (object.isMesh === true && object.morphTargetInfluences) {
              targetNames.push(object.name ? object.name : object.uuid);
            }
          });
        } else {
          targetNames.push(targetName);
        }

        var outputArray = outputAccessor.array;

        if (outputAccessor.normalized) {
          var scale;

          if (outputArray.constructor === Int8Array) {
            scale = 1 / 127;
          } else if (outputArray.constructor === Uint8Array) {
            scale = 1 / 255;
          } else if (outputArray.constructor == Int16Array) {
            scale = 1 / 32767;
          } else if (outputArray.constructor === Uint16Array) {
            scale = 1 / 65535;
          } else {
            throw new Error('THREE.GLTFLoader: Unsupported output accessor component type.');
          }

          var scaled = new Float32Array(outputArray.length);

          for (var j = 0, jl = outputArray.length; j < jl; j++) {
            scaled[j] = outputArray[j] * scale;
          }

          outputArray = scaled;
        }

        for (var j = 0, jl = targetNames.length; j < jl; j++) {
          var track = new TypedKeyframeTrack(targetNames[j] + '.' + PATH_PROPERTIES[target.path], inputAccessor.array, outputArray, interpolation); // Override interpolation with custom factory method.

          if (sampler.interpolation === 'CUBICSPLINE') {
            track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {
              // A CUBICSPLINE keyframe in glTF has three output values for each input value,
              // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()
              // must be divided by three to get the interpolant's sampleSize argument.
              return new GLTFCubicSplineInterpolant(this.times, this.values, this.getValueSize() / 3, result);
            }; // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.


            track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;
          }

          tracks.push(track);
        }
      }

      var name = animationDef.name !== undefined ? animationDef.name : 'animation_' + animationIndex;
      return new three__WEBPACK_IMPORTED_MODULE_0__["AnimationClip"](name, undefined, tracks);
    });
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy
   * @param {number} nodeIndex
   * @return {Promise<Object3D>}
   */


  GLTFParser.prototype.loadNode = function (nodeIndex) {
    var json = this.json;
    var extensions = this.extensions;
    var parser = this;
    var meshReferences = json.meshReferences;
    var meshUses = json.meshUses;
    var nodeDef = json.nodes[nodeIndex];
    return function () {
      // .isBone isn't in glTF spec. See .markDefs
      if (nodeDef.isBone === true) {
        return Promise.resolve(new three__WEBPACK_IMPORTED_MODULE_0__["Bone"]());
      } else if (nodeDef.mesh !== undefined) {
        return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {
          var node;

          if (meshReferences[nodeDef.mesh] > 1) {
            var instanceNum = meshUses[nodeDef.mesh]++;
            node = mesh.clone();
            node.name += '_instance_' + instanceNum; // onBeforeRender copy for Specular-Glossiness

            node.onBeforeRender = mesh.onBeforeRender;

            for (var i = 0, il = node.children.length; i < il; i++) {
              node.children[i].name += '_instance_' + instanceNum;
              node.children[i].onBeforeRender = mesh.children[i].onBeforeRender;
            }
          } else {
            node = mesh;
          } // if weights are provided on the node, override weights on the mesh.


          if (nodeDef.weights !== undefined) {
            node.traverse(function (o) {
              if (!o.isMesh) return;

              for (var i = 0, il = nodeDef.weights.length; i < il; i++) {
                o.morphTargetInfluences[i] = nodeDef.weights[i];
              }
            });
          }

          return node;
        });
      } else if (nodeDef.camera !== undefined) {
        return parser.getDependency('camera', nodeDef.camera);
      } else if (nodeDef.extensions && nodeDef.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL] && nodeDef.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL].light !== undefined) {
        return parser.getDependency('light', nodeDef.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL].light);
      } else {
        return Promise.resolve(new three__WEBPACK_IMPORTED_MODULE_0__["Object3D"]());
      }
    }().then(function (node) {
      if (nodeDef.name !== undefined) {
        node.userData.name = nodeDef.name;
        node.name = three__WEBPACK_IMPORTED_MODULE_0__["PropertyBinding"].sanitizeNodeName(nodeDef.name);
      }

      assignExtrasToUserData(node, nodeDef);
      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);

      if (nodeDef.matrix !== undefined) {
        var matrix = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]();
        matrix.fromArray(nodeDef.matrix);
        node.applyMatrix(matrix);
      } else {
        if (nodeDef.translation !== undefined) {
          node.position.fromArray(nodeDef.translation);
        }

        if (nodeDef.rotation !== undefined) {
          node.quaternion.fromArray(nodeDef.rotation);
        }

        if (nodeDef.scale !== undefined) {
          node.scale.fromArray(nodeDef.scale);
        }
      }

      return node;
    });
  };
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes
   * @param {number} sceneIndex
   * @return {Promise<Scene>}
   */


  GLTFParser.prototype.loadScene = function () {
    // scene node hierachy builder
    function buildNodeHierachy(nodeId, parentObject, json, parser) {
      var nodeDef = json.nodes[nodeId];
      return parser.getDependency('node', nodeId).then(function (node) {
        if (nodeDef.skin === undefined) return node; // build skeleton here as well

        var skinEntry;
        return parser.getDependency('skin', nodeDef.skin).then(function (skin) {
          skinEntry = skin;
          var pendingJoints = [];

          for (var i = 0, il = skinEntry.joints.length; i < il; i++) {
            pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));
          }

          return Promise.all(pendingJoints);
        }).then(function (jointNodes) {
          var meshes = node.isGroup === true ? node.children : [node];

          for (var i = 0, il = meshes.length; i < il; i++) {
            var mesh = meshes[i];
            var bones = [];
            var boneInverses = [];

            for (var j = 0, jl = jointNodes.length; j < jl; j++) {
              var jointNode = jointNodes[j];

              if (jointNode) {
                bones.push(jointNode);
                var mat = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]();

                if (skinEntry.inverseBindMatrices !== undefined) {
                  mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);
                }

                boneInverses.push(mat);
              } else {
                console.warn('THREE.GLTFLoader: Joint "%s" could not be found.', skinEntry.joints[j]);
              }
            }

            mesh.bind(new three__WEBPACK_IMPORTED_MODULE_0__["Skeleton"](bones, boneInverses), mesh.matrixWorld);
          }

          return node;
        });
      }).then(function (node) {
        // build node hierachy
        parentObject.add(node);
        var pending = [];

        if (nodeDef.children) {
          var children = nodeDef.children;

          for (var i = 0, il = children.length; i < il; i++) {
            var child = children[i];
            pending.push(buildNodeHierachy(child, node, json, parser));
          }
        }

        return Promise.all(pending);
      });
    }

    return function loadScene(sceneIndex) {
      var json = this.json;
      var extensions = this.extensions;
      var sceneDef = this.json.scenes[sceneIndex];
      var parser = this;
      var scene = new three__WEBPACK_IMPORTED_MODULE_0__["Scene"]();
      if (sceneDef.name !== undefined) scene.name = sceneDef.name;
      assignExtrasToUserData(scene, sceneDef);
      if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);
      var nodeIds = sceneDef.nodes || [];
      var pending = [];

      for (var i = 0, il = nodeIds.length; i < il; i++) {
        pending.push(buildNodeHierachy(nodeIds[i], scene, json, parser));
      }

      return Promise.all(pending).then(function () {
        return scene;
      });
    };
  }();

  return GLTFLoader;
}();



/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/HorizontalBlurShader.js":
/*!********************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/HorizontalBlurShader.js ***!
  \********************************************************/
/*! exports provided: HorizontalBlurShader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HorizontalBlurShader", function() { return HorizontalBlurShader; });
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 *
 * Two pass Gaussian blur filter (horizontal and vertical blur shaders)
 * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/
 *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html
 *
 * - 9 samples per pass
 * - standard deviation 2.7
 * - "h" and "v" parameters should be set to "1 / width" and "1 / height"
 */
var HorizontalBlurShader = {
  uniforms: {
    "tDiffuse": {
      value: null
    },
    "h": {
      value: 1.0 / 512.0
    }
  },
  vertexShader: ["varying vec2 vUv;", "void main() {", "vUv = uv;", "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
  fragmentShader: ["uniform sampler2D tDiffuse;", "uniform float h;", "varying vec2 vUv;", "void main() {", "vec4 sum = vec4(0.0);", "sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;", "sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;", "sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;", "sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;", "sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;", "sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;", "sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;", "sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;", "gl_FragColor = sum;", "}"].join("\n")
};


/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/LogoAnim.js":
/*!********************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/LogoAnim.js ***!
  \********************************************/
/*! exports provided: LogoAnim */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LogoAnim", function() { return LogoAnim; });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "./Yoyo.Elevator.Ui/ts/3d/utils.js");
/* harmony import */ var _Title_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Title.js */ "./Yoyo.Elevator.Ui/ts/3d/Title.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }





var LogoAnim =
/*#__PURE__*/
function () {
  function LogoAnim(_ref) {
    var _ref$memAmount = _ref.memAmount,
        memAmount = _ref$memAmount === void 0 ? 982 : _ref$memAmount,
        _ref$text_memoryadded = _ref.text_memoryadded,
        text_memoryadded = _ref$text_memoryadded === void 0 ? 'Memories added' : _ref$text_memoryadded,
        _ref$text_storyto = _ref.text_storyto,
        text_storyto = _ref$text_storyto === void 0 ? 'Stories to' : _ref$text_storyto,
        _ref$heroEl = _ref.heroEl,
        heroEl = _ref$heroEl === void 0 ? null : _ref$heroEl,
        _ref$heroElAnimClass = _ref.heroElAnimClass,
        heroElAnimClass = _ref$heroElAnimClass === void 0 ? "petals-hero--anim" : _ref$heroElAnimClass;

    _classCallCheck(this, LogoAnim);

    this.width = 1024;
    this.height = 256;
    this.canvas = Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__["newCanvas"])(1024, 256);
    this.texture = new three__WEBPACK_IMPORTED_MODULE_0__["Texture"](this.canvas);
    this.texture.needsUpdate = true;
    this.material = new three__WEBPACK_IMPORTED_MODULE_0__["SpriteMaterial"]({
      map: this.texture,
      transparent: true,
      depthWrite: false
    }); // this.material.sizeAttenuation = false;

    this.sprite = new three__WEBPACK_IMPORTED_MODULE_0__["Sprite"](this.material);
    this.sprite.renderOrder = 50;
    this.sprite.sScale = 0.06144; // this.sprite.scale.set(10.24 * this.sprite.sScale, 2.56 * this.sprite.sScale, 1);
    // this.sprite.scale.set(1, 1 / 4, 1);

    this.sprite.scale.set(1024, 256, 1);
    this.sprite.position.set(0, 0, 1);
    this.fontOrpheus = "'orpheuspro', 'Times New Roman', Times, serif";
    this.fontBaskerville = "'baskerville-display-pt', 'Times New Roman', Times, serif";
    this.memAmount = memAmount;
    this.numbersImg = {};
    this.heroEl = heroEl;
    this.heroElAnimClass = heroElAnimClass;
    this.numTitle = new _Title_js__WEBPACK_IMPORTED_MODULE_3__["Title"]({
      text: text_memoryadded,
      space: 6,
      size: 28,
      font: this.fontBaskerville
    });
    this.numTitle.x = 0;
    this.numTitle.y = -115;
    this.logoTitle = new _Title_js__WEBPACK_IMPORTED_MODULE_3__["Title"]({
      text: text_storyto,
      size: 28,
      space: 6,
      font: this.fontBaskerville
    });
    this.logoTitle.x = 0;
    this.logoTitle.y = -115;
    this.mc = new lib.LogoMC();
    this.cam = {}; // this.cam.scale = 0.7;
    //     var str = "How are you doing today?";
    // var res = str.split(" ");

    this.numberAnim_bind = this.numberAnim.bind(this);
    this.showLogo_bind = this.showLogo.bind(this);
    this.startAnim();
  }

  _createClass(LogoAnim, [{
    key: "startAnim",
    value: function startAnim() {
      var _this = this;

      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(this.numberAnim_bind);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(this.showLogo_bind);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killTweensOf(this.numbersImg);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killTweensOf(this.mc);
      this.numTitle.reset();
      this.logoTitle.reset();
      this.heroEl = document.querySelector(".petals-hero");

      if (this.heroEl !== null) {
        this.heroEl.classList.remove(this.heroElAnimClass);
      }

      this.numbersImg.x = 0;
      this.numbersImg.y = 0;
      this.numbersImg.scale = 1;
      this.numbersImg.alpha = 0;
      this.numbersImg.num = this.memAmount * 0.6;
      this.numbersImg.size = 106;
      this.numbersImg.dx = -this.memAmount.toString().length * 37;
      this.mc.time = 0;
      this.mc.x = 0;
      this.mc.y = -16;
      this.mc.scale = 1;
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(1, this.numberAnim_bind);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(7.6, function () {
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(_this.numbersImg, 1, {
          delay: 0.27,
          alpha: 0,
          ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Power2"].easeInOut
        });

        _this.numTitle.hideAnim();
      });
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(8.4, this.showLogo_bind);
    }
  }, {
    key: "numberAnim",
    value: function numberAnim() {
      this.startNumbersAnim();
      this.numTitle.showAnim();
    }
  }, {
    key: "showLogo",
    value: function showLogo() {
      var _this2 = this;

      this.logoTitle.showAnim();
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(this.mc, 3.2, {
        delay: 1.2,
        time: this.mc.timeline.duration - 1,
        ease: Power0.easeOut,
        onComplete: function onComplete() {
          _this2.heroEl = document.querySelector(".petals-hero");

          if (_this2.heroEl !== null) {
            _this2.heroEl.classList.add(_this2.heroElAnimClass);
          }
        }
      });
    }
  }, {
    key: "update",
    value: function update() {
      var ctx = this.canvas.getContext('2d');
      var w = this.width;
      var h = this.height;
      ctx.clearRect(0, 0, w, h); //  ctx.fillRect(0, 0, 1024, 256);

      ctx.save();
      ctx.translate(w / 2, h / 2); //ctx.scale(this.cam.scale, this.cam.scale);

      this.numTitle.draw(ctx);
      this.logoTitle.draw(ctx);
      this.drawLogoMC(ctx);
      this.drawNumbers(ctx); // ctx.fillStyle = `rgba(40, 40, 40,1)`;
      // ctx.font = `${this.numbersImg.size*0.4}pt ${this.fontOrpheus}`;
      // ctx.fillText(this.w * window.devicePixelRatio+' ' +this.h* window.devicePixelRatio, -112, this.numbersImg.size*0.4 / 2);

      ctx.restore();
      this.texture.needsUpdate = true;
    }
  }, {
    key: "drawLogoMC",
    value: function drawLogoMC(ctx) {
      if (this.mc.time === 0) return;
      this.mc.timeline.position = this.mc.time;
      this.mc.gotoAndStop(this.mc.timeline.position);
      ctx.save();
      ctx.translate(this.mc.x, this.mc.y);
      ctx.scale(this.mc.scale, this.mc.scale);
      this.mc.draw(ctx);
      ctx.restore();
    }
  }, {
    key: "resize",
    value: function resize(w, h, aspect) {
      if (w < 500) {
        this.cam.scale = w / 500;
      } else {
        this.cam.scale = 1;
      }

      if (w < 800 / this.cam.scale) {
        this.mc.scale = w / 800 / this.cam.scale;
      } else {
        this.mc.scale = 1;
      }

      this.w = w;
      this.h = h;
      this.sprite.position.x = 0;
      this.sprite.position.y = 8;
      this.sprite.position.z = 0;

      if (w > h && w - 300 < 750) {
        this.cam.scale = w / 1000; //this.sprite.position.y = 8 - aspect;
      } // console.log(w, h, aspect);
      // this.sprite.position.y = 100 * this.cam.scale;


      this.sprite.scale.set(1024 * this.cam.scale, 256 * this.cam.scale, 1);
    }
  }, {
    key: "correctPos",
    value: function correctPos(w, h) {
      // this.sprite.position.x = Math.round(this.sprite.position.x/2)*2;
      //this.sprite.position.y = Math.round(this.sprite.position.y/2)*2;
      // this.sprite.position.z = Math.round(this.sprite.position.z/2)*2;
      if (w / 2 - Math.round(w / 2) !== 0) {
        this.sprite.position.x = 0.5;
      } else {
        this.sprite.position.x = 0;
      }
      /*
      if (h / 2 - Math.round(h / 2) !== 0) {
        //this.sprite.position.y += 0.5;
      } else {
        //this.sprite.position.y += 0;
      }*/
      // console.log(this.sprite.position.x,this.sprite.position.y);

    }
  }, {
    key: "drawNumbers",
    value: function drawNumbers(ctx) {
      //  ctx.fillRect(-200, 0, 400, 1);
      // ctx.fillRect(0, -200, 1, 400);
      ctx.textBaseline = 'alphabetic';
      ctx.textAlign = 'left';
      ctx.fillStyle = "rgba(40, 40, 40, ".concat(Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__["trueAlpha"])(this.numbersImg.alpha), ")");
      ctx.font = "".concat(this.numbersImg.size, "pt ").concat(this.fontOrpheus); //const dx = Math.round(ctx.measureText(Math.round(this.numbersImg.num)).width/110)*110;

      var dx = Math.round(ctx.measureText(this.memAmount).width);
      ctx.fillText(Math.round(this.numbersImg.num), -dx / 2, this.numbersImg.size / 2);
    }
  }, {
    key: "startNumbersAnim",
    value: function startNumbersAnim() {
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(this.numbersImg, 1.6, {
        alpha: 1,
        ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Power2"].easeInOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(this.numbersImg, 6.6, {
        num: this.memAmount,
        ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Power3"].easeOut
      });
    }
  }]);

  return LogoAnim;
}();

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/Main.js":
/*!****************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/Main.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Petals3D; });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls.js */ "./node_modules/three/examples/jsm/controls/OrbitControls.js");
/* harmony import */ var _ExploreControl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ExploreControl.js */ "./Yoyo.Elevator.Ui/ts/3d/ExploreControl.js");
/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer.js */ "./node_modules/three/examples/jsm/postprocessing/EffectComposer.js");
/* harmony import */ var three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/ShaderPass.js */ "./node_modules/three/examples/jsm/postprocessing/ShaderPass.js");
/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ "./node_modules/three/examples/jsm/postprocessing/RenderPass.js");
/* harmony import */ var _FXAAShader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FXAAShader.js */ "./Yoyo.Elevator.Ui/ts/3d/FXAAShader.js");
/* harmony import */ var _MixShader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MixShader.js */ "./Yoyo.Elevator.Ui/ts/3d/MixShader.js");
/* harmony import */ var _HorizontalBlurShader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./HorizontalBlurShader.js */ "./Yoyo.Elevator.Ui/ts/3d/HorizontalBlurShader.js");
/* harmony import */ var _VerticalBlurShader_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./VerticalBlurShader.js */ "./Yoyo.Elevator.Ui/ts/3d/VerticalBlurShader.js");
/* harmony import */ var _services_resizeService_ts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../services/resizeService.ts */ "./Yoyo.Elevator.Ui/ts/services/resizeService.ts");
/* harmony import */ var _services_resizeService_ts__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_services_resizeService_ts__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _GLTFLoader_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./GLTFLoader.js */ "./Yoyo.Elevator.Ui/ts/3d/GLTFLoader.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils.js */ "./Yoyo.Elevator.Ui/ts/3d/utils.js");
/* harmony import */ var _LogoAnim_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./LogoAnim.js */ "./Yoyo.Elevator.Ui/ts/3d/LogoAnim.js");
/* harmony import */ var _Popup_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Popup.js */ "./Yoyo.Elevator.Ui/ts/3d/Popup.js");
/* harmony import */ var _ShadowCanvas_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ShadowCanvas.js */ "./Yoyo.Elevator.Ui/ts/3d/ShadowCanvas.js");
/* harmony import */ var _shadow_vs_glsl__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./shadow-vs.glsl */ "./Yoyo.Elevator.Ui/ts/3d/shadow-vs.glsl");
/* harmony import */ var _shadow_vs_glsl__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_shadow_vs_glsl__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _shadow_fs_glsl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./shadow-fs.glsl */ "./Yoyo.Elevator.Ui/ts/3d/shadow-fs.glsl");
/* harmony import */ var _shadow_fs_glsl__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_shadow_fs_glsl__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _stats_min_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./stats.min.js */ "./Yoyo.Elevator.Ui/ts/3d/stats.min.js");
/* harmony import */ var _stats_min_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_stats_min_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var _static_assets_gltf_daf_export_json__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../static/assets/gltf/daf_export.json */ "./Yoyo.Elevator.Ui/static/assets/gltf/daf_export.json");
var _static_assets_gltf_daf_export_json__WEBPACK_IMPORTED_MODULE_20___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../static/assets/gltf/daf_export.json */ "./Yoyo.Elevator.Ui/static/assets/gltf/daf_export.json", 1);
/* harmony import */ var _ambientAudio__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ambientAudio */ "./Yoyo.Elevator.Ui/ts/3d/ambientAudio.ts");
/* harmony import */ var _ambientAudio__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_ambientAudio__WEBPACK_IMPORTED_MODULE_21__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }









 // import { MixShader } from 'three/examples/jsm/shaders/BasicShader.js';















var Petals3D =
/*#__PURE__*/
function () {
  function Petals3D(options) {
    _classCallCheck(this, Petals3D);

    this.options = options;
    this.groundPetals = [];
    this.falledPetals = [];
    this.introPetals = [];
    this.explorePetals = [];
    this.blurExplorePetals = [];
    this.canvas = document.querySelector('#canvas3d');
    this.canvasUI = document.querySelector('#canvasUI');
    this.heroEl = null;
    this.isStartExplore = false;
    this.isExplore = false;
    this.isBlur = true;
    this.shadows = true;
    this.sceneRotation = true;
    this.explore = {};
    this.explore.mousedownId = '';
    this.explore.currentId = '';

    this.stopScroll = function () {};

    this.playIntro = options.playIntro;
    this.disableAudio = options.disableAudio || false;
    this.autoPlayAudio = options.autoPlayAudio || false;
    this.isTouchDevice = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["isTouchDevice"])();
    this.selectedPetal = undefined;
    this.calltoaction_text_mobile = options.calltoaction_text_mobile;
    this.calltoaction_text_desktop = options.calltoaction_text_desktop;

    if (options.memories) {
      this.memories = options.memories;
    }

    if (this.canvas !== null) {
      // this.stats = new Stats();
      // this.stats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom
      //document.body.appendChild(this.stats.dom );
      this.bindEvents();
      this.initScene();
      this.initObjects();
      this.onWindowResize();
      window.addEventListener('resize', this.resize_event, false);
    }
  }

  _createClass(Petals3D, [{
    key: "bindEvents",
    value: function bindEvents() {
      this.animate_event = this.animate.bind(this);
      this.ontouchstart_event = this.ontouchstart.bind(this);
      this.ontouchend_event = this.ontouchend.bind(this);
      this.touchmove_event = this.touchmove.bind(this);
      this.mousemove_event = this.mousemove.bind(this);
      this.mousedown_event = this.mousedown.bind(this);
      this.mouseup_event = this.mouseup.bind(this);
      this.resize_event = this.onWindowResize.bind(this);
      this.removeIntroPetals_event = this.removeIntroPetals.bind(this);
      this.enableExploreControl_event = this.enableExporeControl.bind(this);
      this.showCallToAction__event = this.showCallToAction.bind(this);
    }
  }, {
    key: "onWindowResize",
    value: function onWindowResize() {
      this.width = window.innerWidth;
      this.height = window.innerHeight;
      this.threeCamera.aspect = this.width / this.height;
      this.threeCamera.updateProjectionMatrix(); //this.threeCamera2.aspect = this.width / this.height;
      //this.threeCamera2.updateProjectionMatrix();

      this.renderer.setSize(this.width, this.height);
      this.renderer.setPixelRatio(window.devicePixelRatio);

      if (this.isBlur) {
        // this.renderer.getCurrentViewport(	this.blurTarget.viewport);
        this.blurTarget.setSize(this.width * 0.3, this.height * 0.3);
        this.composer.renderTarget1.setSize(this.width * 0.3, this.height * 0.3);
        this.composer.renderTarget2.setSize(this.width * 0.3, this.height * 0.3);
        this.hblur.uniforms["h"].value = this.bluriness / this.width;
        this.vblur.uniforms["v"].value = this.bluriness / this.height;
        this.sceneTarget.setSize(this.width * window.devicePixelRatio, this.height * window.devicePixelRatio);
        this.mixTarget.setSize(this.width * window.devicePixelRatio, this.height * window.devicePixelRatio);
        this.mixComposer.renderTarget1.setSize(this.width, this.height);
        this.FXAAPass.uniforms["resolution"].value.x = 1 / this.width;
        this.FXAAPass.uniforms["resolution"].value.y = 1 / this.height;
      }

      this.logoCamera.left = -this.width / 2;
      this.logoCamera.right = this.width / 2;
      this.logoCamera.top = this.height / 2;
      this.logoCamera.bottom = -this.height / 2;
      this.logoCamera.updateProjectionMatrix();
      this.threeCamera.updateMatrixWorld(false);
      this.logoCamera.updateMatrixWorld(false);

      if (this.playIntro) {
        this.logoAnim.resize(this.width, this.height, this.threeCamera.aspect);
        this.logoAnim.sprite.position.project(this.threeCamera).unproject(this.logoCamera);
        this.logoAnim.correctPos(this.width, this.height);
      }

      this.popup.resize(this.width, this.height); //this.updatePopupPosition();

      this.animate();
    }
  }, {
    key: "updatePopupPosition",
    value: function updatePopupPosition() {
      this.popup.sprite.position.copy(this.popup.pos);
      this.popup.sprite.position.project(this.threeCamera).unproject(this.logoCamera);
      this.popup.correctPos(this.width, this.height); // console.log(this.popup.sprite.position)
    }
  }, {
    key: "stopRender",
    value: function stopRender() {
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].ticker.removeEventListener('tick', this.animate_event);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].pauseAll();
    }
  }, {
    key: "startRender",
    value: function startRender() {
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].resumeAll();
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].ticker.addEventListener('tick', this.animate_event);
      this.lastTimeMsec = gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].ticker.time;
    }
  }, {
    key: "animate",
    value: function animate() {
      // this.stats.begin();
      var deltaMsec = (gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].ticker.time - this.lastTimeMsec) * 1000;
      this.lastTimeMsec = gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].ticker.time;

      if (this.sceneRotation) {
        this.threeCamera.pos.x += (this.mousePos.x - this.threeCamera.pos.x) * 0.1;
        this.threeCamera.pos.y += (this.mousePos.y - this.threeCamera.pos.y) * 0.1;
        this.threeCamera.position.x = this.threeCamera.pos.x / this.width - 0.5;
        this.threeCamera.position.y = this.threeCamera.sy - (this.threeCamera.pos.y / this.height - 0.5) * 2;
        this.threeCamera.lookAt(this.controls.target);
      }

      this.groundPetalsUpdate(deltaMsec);
      this.introPetalsUpdate(deltaMsec);

      if (this.isExplore) {
        this.updateExplorePetals(deltaMsec); //	this.popup.updateUI();
      }

      this.renderer.setClearColor(0xffeea0, 0.0);
      this.scene.background = null;
      /*
      			  this.plane.visible = false;
      	  this.renderer.autoClear = true;
      	  this.renderer.setRenderTarget(this.shadowTarget);
      	  this.renderer.render(this.scene, this.orthCamera);
      			  //this.renderer.setRenderTarget(null);
      	  this.plane.visible = true;
      */

      this.renderer.setRenderTarget(this.sceneTarget);
      this.renderer.autoClear = false;
      this.scene.background = new three__WEBPACK_IMPORTED_MODULE_0__["Color"](0xffeea0); //this.renderer.autoClear = false;

      this.renderer.clear();
      this.renderer.render(this.scene, this.threeCamera);
      this.renderer.setRenderTarget(this.sceneTarget);

      if (this.playIntro && this.groundPetals.length !== 0) {
        this.logoAnim.update();
        this.renderer.render(this.logoScene, this.logoCamera);
      } // this.scene.background = null;


      this.renderer.setRenderTarget(null);
      this.renderer.autoClear = false;
      this.renderer.setClearColor(0xffeea0, 0.0); // this.mixPass.uniforms[ "tBlur" ].value = this.blurTarget.texture;
      // this.mixComposer.render(deltaMsec);

      this.renderer.clear();
      this.composer.render(deltaMsec); //this.FXAAPass.uniforms[ "tScene" ].value = this.sceneTarget.texture;
      //this.mixPass.uniforms[ "tScene" ].value = this.mixComposer.renderTarget1.texture;

      this.mixComposer.render();
      /* this.renderer.render(this.scene, this.threeCamera2);
       this.renderer.clearDepth();
       this.renderer.render(this.logoScene, this.logoCamera);
       this.renderer.render(this.scene, this.threeCamera);
      			//
      	// this.renderer.render(this.logoScene, this.logoCamera );
      
      	// window.requestAnimationFrame(this.animate.bind(this));*/
      // this.stats.end();
    }
  }, {
    key: "initScene",
    value: function initScene() {
      this.ambient = new three__WEBPACK_IMPORTED_MODULE_0__["AmbientLight"](0xf6cf32, 0.5);
      this.scene = new three__WEBPACK_IMPORTED_MODULE_0__["Scene"]();
      this.scene.add(this.ambient);
      this.scene.background = new three__WEBPACK_IMPORTED_MODULE_0__["Color"](0xffeea0);
      this.light = new three__WEBPACK_IMPORTED_MODULE_0__["DirectionalLight"](0xffffff, 0.52);
      this.light.position.set(-1, 20, 15);
      this.scene.add(this.light);
      this.threeCamera = new three__WEBPACK_IMPORTED_MODULE_0__["PerspectiveCamera"](37, 1, 0.1, 128.8);
      this.threeCamera2 = new three__WEBPACK_IMPORTED_MODULE_0__["PerspectiveCamera"](37, 1, 6, 100);
      this.threeCamera.sy = 9.6;
      this.threeCamera.pos = {
        x: 0.5,
        y: 0.5
      };
      this.threeCamera.position.set(0, 9.6, 28.6);
      this.scene.add(this.threeCamera); // render

      this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__["WebGLRenderer"]({
        antialias: false,
        alpha: false,
        powerPreference: 'high-performance',
        canvas: this.canvas,
        premultipliedAlpha: false //	precision : 'mediump',
        // logarithmicDepthBuffer: true,
        // depth: false,

      }); //this.renderer.context.getExtension('OES_standard_derivatives');

      this.renderer.setClearColor(0xffeea0, 0);
      this.renderer.gammaOutput = true;
      this.renderer.gammaInput = true;
      this.renderer.autoClear = false;
      this.renderer.gammaFactor = 1.9;
      this.renderer.toneMappingExposure = 1.16;
      this.renderer.toneMappingWhitePoint = 2.5; // this.renderer.gammaOutput = true;

      this.controls = new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_2__["OrbitControls"](this.threeCamera, this.canvas);
      this.controls.target.set(0, 7, 0); // this.controls.maxPolarAngle = 1.45;

      this.controls.update();
      this.controls.enabled = false; //this.canvas.addEventListener('mousemove', this.mousemove.bind(this), false);

      if (this.isTouchDevice) {
        this.canvas.addEventListener('touchstart', this.ontouchstart_event, false);
        this.canvas.addEventListener('touchend', this.ontouchend_event, false);
        this.canvas.addEventListener('touchmove', this.touchmove_event, false);
      } else {
        document.documentElement.addEventListener('mousemove', this.mousemove_event, false);
        this.canvas.addEventListener('mousedown', this.mousedown_event, false);
        this.canvas.addEventListener('mouseup', this.mouseup_event, false);
      }

      this.mousePos = {
        x: 0,
        y: 0
      };
      this.explore.controls = new _ExploreControl_js__WEBPACK_IMPORTED_MODULE_3__["ExploreControl"](this.explore, this.canvas);
      this.explore.controls.enabled = false;
      this.stopScroll = this.explore.controls.stopScroll;
      this.shadowTarget = new three__WEBPACK_IMPORTED_MODULE_0__["WebGLRenderTarget"](512, 512);
      this.shadowTarget.depthTexture = new three__WEBPACK_IMPORTED_MODULE_0__["DepthTexture"](); //	this.shadowTarget.depthTexture.type = UnsignedShortType;

      this.shadowTarget.depthTexture.minFilter = three__WEBPACK_IMPORTED_MODULE_0__["LinearFilter"];
      this.shadowTarget.depthTexture.magFilter = three__WEBPACK_IMPORTED_MODULE_0__["LinearFilter"];
      this.orthCamera = new three__WEBPACK_IMPORTED_MODULE_0__["OrthographicCamera"](20 / -2, 20 / 2, 20 / -2, 20 / 2, 1, 3);
      this.orthCamera.position.y = -1;
      this.orthCamera.lookAt(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 10, 0));
      this.scene.add(this.orthCamera);
      this.logoCamera = new three__WEBPACK_IMPORTED_MODULE_0__["OrthographicCamera"](20 / -2, 20 / 2, 20 / -2, 20 / 2, -1000, 1000);
      this.logoCamera.position.z = 10;
      this.logoCamera.lookAt(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 10, 0));
      this.logoScene = new three__WEBPACK_IMPORTED_MODULE_0__["Scene"]();
      this.logoScene.add(this.orthCamera);
      this.threeCamera.updateMatrixWorld(false);
      this.logoCamera.updateMatrixWorld(false);
      this.boundingBox = new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](6, 40, 4);

      if (this.isBlur) {
        this.setBlur();
      }

      try {
        if (this.disableAudio === false) {
          this.ambientAudio = new _ambientAudio__WEBPACK_IMPORTED_MODULE_21___default.a(this.threeCamera, this.autoPlayAudio);
        }
      } catch (ex) {
        console.warn("Audio not available in your browser");
      }

      this.raycaster = new three__WEBPACK_IMPORTED_MODULE_0__["Raycaster"]();
      this.mouse = new three__WEBPACK_IMPORTED_MODULE_0__["Vector2"]();
    }
  }, {
    key: "setBlur",
    value: function setBlur() {
      this.blurTarget = new three__WEBPACK_IMPORTED_MODULE_0__["WebGLRenderTarget"](512, 512, {
        format: three__WEBPACK_IMPORTED_MODULE_0__["RGBAFormat"],
        stencilBufer: true
      });
      this.blurScene = new three__WEBPACK_IMPORTED_MODULE_0__["Scene"]();
      this.blurScene.add(this.ambient.clone());
      this.blurScene.add(this.light.clone()); //this.blurScene.background = new Color( 0xffeea0 );

      this.hblur = new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_5__["ShaderPass"](_HorizontalBlurShader_js__WEBPACK_IMPORTED_MODULE_9__["HorizontalBlurShader"]);
      this.vblur = new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_5__["ShaderPass"](_VerticalBlurShader_js__WEBPACK_IMPORTED_MODULE_10__["VerticalBlurShader"]);
      this.bluriness = 2;
      this.hblur.uniforms["h"].value = this.bluriness / this.width;
      this.vblur.uniforms["v"].value = this.bluriness / this.height; //this.hblur.needsSwap = true;
      //this.vblur.needsSwap = true;

      this.hblur.renderToScreen = false;
      this.vblur.renderToScreen = false;
      this.renderBlur = new three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_6__["RenderPass"](this.blurScene, this.threeCamera);
      this.composer = new three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_4__["EffectComposer"](this.renderer, this.blurTarget); //	this.composer.addPass( this.bgPass );

      this.composer.addPass(this.renderBlur);
      this.composer.addPass(this.vblur);
      this.composer.addPass(this.hblur);
      this.composer.renderToScreen = false;
      this.sceneTarget = new three__WEBPACK_IMPORTED_MODULE_0__["WebGLRenderTarget"](512, 512, {
        format: three__WEBPACK_IMPORTED_MODULE_0__["RGBAFormat"],
        stencilBufer: true
      }); //MixShader.uniforms[ "tBlur" ].value = this.composer.renderTarget2;

      this.mixPass = new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_5__["ShaderPass"](_MixShader_js__WEBPACK_IMPORTED_MODULE_8__["MixShader"]); //this.mixShader.uniforms[ "h" ].value = this.bluriness / this.width;
      //this.renderModel =  new RenderPass( this.scene, this.threeCamera );
      //this.mixPass.needsSwap = true;

      this.mixPass.renderToScreen = true;
      this.mixTarget = new three__WEBPACK_IMPORTED_MODULE_0__["WebGLRenderTarget"](512, 512, {
        format: three__WEBPACK_IMPORTED_MODULE_0__["RGBAFormat"],
        stencilBufer: true
      });
      this.mixComposer = new three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_4__["EffectComposer"](this.renderer); //this.mixComposer.addPass( this.renderModel, this.mixTarget.texture  );

      this.FXAAPass = new three_examples_jsm_postprocessing_ShaderPass_js__WEBPACK_IMPORTED_MODULE_5__["ShaderPass"](_FXAAShader_js__WEBPACK_IMPORTED_MODULE_7__["FXAAShader"]);
      this.FXAAPass.uniforms["resolution"].value.x = 1 / this.width;
      this.FXAAPass.uniforms["resolution"].value.y = 1 / this.height; //this.mixComposer.addPass( this.FXAAPass );

      this.mixComposer.addPass(this.mixPass);
      this.FXAAPass.renderToScreen = true;
      this.mixComposer.renderToScreen = true;
      this.mixPass.uniforms["tScene"].value = this.sceneTarget.texture;
      this.mixPass.uniforms["tBlur"].value = this.composer.renderTarget2.texture;
      /*
      			this.mixPass = new ShaderPass( this.mixShader );
      
      // Prepare the composer's render target
      
      // Create the composer
      
      // Add all passes
      */
    }
  }, {
    key: "initObjects",
    value: function initObjects() {
      var _this = this;

      this.ShadowCanvas = new _ShadowCanvas_js__WEBPACK_IMPORTED_MODULE_16__["ShadowCanvas"]();
      this.plane = new three__WEBPACK_IMPORTED_MODULE_0__["Mesh"](new three__WEBPACK_IMPORTED_MODULE_0__["PlaneBufferGeometry"](20, 20), new three__WEBPACK_IMPORTED_MODULE_0__["MeshBasicMaterial"]({
        color: 0x392c12,
        map: this.ShadowCanvas.texture,
        transparent: true,
        opacity: 0.7
      }));
      this.plane.rotation.x = -Math.PI / 2;
      var postMaterial = new three__WEBPACK_IMPORTED_MODULE_0__["ShaderMaterial"]({
        transparent: true,
        vertexShader: _shadow_vs_glsl__WEBPACK_IMPORTED_MODULE_17___default.a.trim(),
        fragmentShader: _shadow_fs_glsl__WEBPACK_IMPORTED_MODULE_18___default.a.trim(),
        uniforms: {
          cameraNear: {
            value: this.orthCamera.near
          },
          cameraFar: {
            value: this.orthCamera.far
          },
          tDiffuse: {
            value: this.shadowTarget.texture
          },
          tDepth: {
            value: this.shadowTarget.depthTexture
          }
        }
      }); //	this.plane.material = postMaterial;
      //this.plane.material = canvasMaterial;

      this.plane.frustumCulled = false;
      this.scene.add(this.plane);
      var grid = new three__WEBPACK_IMPORTED_MODULE_0__["GridHelper"](20, 20, 0x000000, 0x333333);
      grid.material.opacity = 0.6;
      grid.material.transparent = true;
      this.petalModel = new three__WEBPACK_IMPORTED_MODULE_0__["ObjectLoader"]().parse(_static_assets_gltf_daf_export_json__WEBPACK_IMPORTED_MODULE_20__);
      this.petalInst = this.petalModel.children[0];
      this.petalInst2 = this.petalModel.children[1];
      this.petalInst3 = this.petalModel.children[2];
      this.setMat(this.petalInst, 2);
      this.setMat(this.petalInst2, 2);
      this.setMat(this.petalInst3, 2);
      this.lastTimeMsec = gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].ticker.time;
      this.popup = new _Popup_js__WEBPACK_IMPORTED_MODULE_15__["Popup"](this.isTouchDevice, this);
      this.heroEl = document.querySelector(".petals-hero");

      if (this.playIntro) {
        this.setGroundPetals();
        this.setIntroPetals();
        this.logoAnim = new _LogoAnim_js__WEBPACK_IMPORTED_MODULE_14__["LogoAnim"]({
          memAmount: this.options.memAmount,
          text_memoryadded: this.options.text_memoryadded,
          text_storyto: this.options.text_storyto,
          heroEl: this.heroEl,
          heroElAnimClass: "petals-hero--anim"
        });
        this.logoScene.add(this.logoAnim.sprite);
      } else {
        if (this.heroEl !== null) {
          this.heroEl.style.display = 'none';
        }

        this.startExplore();
      } //this.canvasUI = newCanvas(this.width, this.height);


      window.addEventListener('updateProjectScreen', function () {
        _this.updateProjectScreen();
      }, false); //	this.scene.overrideMaterial = new MeshBasicMaterial();

      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].ticker.addEventListener('tick', this.animate_event);
    }
  }, {
    key: "setMat",
    value: function setMat(obj, side) {
      obj.material.side = side; //	obj.material.color = new Color(0xffffff);
      //	const oldMat = this.petalInst.material;
      // this.petalInst.material = new MeshBasicMaterial({map:oldMat.map, color:new Color(0xffffff)});

      obj.material.side = three__WEBPACK_IMPORTED_MODULE_0__["DoubleSide"]; //obj.material.alphaTest = 0.1;
      // obj.material.transparent = true;
      // obj.material.metalness = 0.0;
      // obj.material.roughness = 0.9;

      obj.material.blending = three__WEBPACK_IMPORTED_MODULE_0__["NormalBlending"]; // obj.material = new MeshBasicMaterial();
    }
  }, {
    key: "setIntroPetals",
    value: function setIntroPetals() {
      this.tl = new TimelineMax();
      var petalsCount = 18;

      for (var i = 0; i < petalsCount; i += 1) {
        var petal = this.getRandomPetal();
        var ang = Math.random() * Math.PI * 2;
        var rad = Math.sqrt(Math.random() * 100); // const rad =Math.random()*6;
        // petal.position.set(
        //   Math.cos(ang) * rad,
        //   0.2 + 20.4 + i * 0.6,
        //   Math.sin(ang) * rad * 1.4
        // );
        //let randz = random(-11, 12);

        var minZ = -14;
        var maxZ = 32;
        var randz = minZ + maxZ * i / petalsCount;

        if (randz > -0.6 && randz < 1.6) {
          randz -= Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(10, 20);
        }

        if (randz > 10) {
          randz += 2;
        }

        var fy = 7 + Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-4, 11) * (1 - (randz - minZ) / maxZ); //random(2.4 , 16);

        var posx = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-6, 6); //randz = 16;

        if (randz > 1 && posx > -2 && posx < 3) {
          posx = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(2, 6) * Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["randomSign"])(); //randz = random(-14, 25);
        }

        petal.position.set(posx, fy + 16, randz);
        petal.rotation.set(Math.PI / 2 + Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-2.2, 2.2), Math.PI, Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0, Math.PI * 2) + Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-2.2, 2.2));
        petal.sx = petal.position.x;
        petal.sy = petal.position.y;
        petal.sz = petal.position.z;
        petal.ang = 0;
        petal.speed = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.003, 0.003);
        petal.addRotation = {
          x: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.016, 0.016),
          y: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.016, 0.016),
          z: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.016, 0.016)
        };
        petal.sScale = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.15, 0.19);
        var rs = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.9, 1);
        petal.scale.set(petal.sScale, petal.sScale * rs, petal.sScale * rs);
        petal.started = false;
        petal.xRadius = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.1, 0.5);
        petal.yRadius = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.1, 0.5);
        petal.zRadius = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.1, 0.5);

        if (petal.position.z > 10 && this.isBlur) {
          this.blurScene.add(petal);
        } else {
          this.scene.add(petal);
        }

        this.introPetals.push(petal);
        this.tl.to(petal, 1.2 + Math.random() * 0.1, {
          sy: fy,
          ease: Power1.easeOut
        }, 's'); //TweenMax.to(petal, 1.9, { sy:  fy, ease: Power4.easeOut });
      }

      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(this.tl, 0.7, {
        delay: 0.6,
        timeScale: 0.1,
        ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Power3"].easeOut
      });
    }
  }, {
    key: "introPetalsUpdate",
    value: function introPetalsUpdate(delta) {
      var _this2 = this;

      this.introPetals.forEach(function (petal) {
        petal.ang += petal.speed * delta / 16.66;
        var dx = Math.sin(petal.ang) * petal.xRadius;
        var dy = Math.sin(petal.ang * 1.1) * petal.yRadius;
        var dz = Math.sin(petal.ang * 0.7) * petal.zRadius;
        var px = petal.sx + dx;
        var py = petal.sy + dy;
        var pz = petal.sz + dz;
        petal.position.set(px, py, pz);
        petal.rotation.x += petal.addRotation.x * _this2.tl._timeScale * delta / 16.66;
        petal.rotation.y += petal.addRotation.y * _this2.tl._timeScale * delta / 16.66;
        petal.rotation.z += petal.addRotation.z * _this2.tl._timeScale * delta / 16.66;
      });
    }
  }, {
    key: "getRandomPetal",
    value: function getRandomPetal() {
      var random = Math.random();
      var model;

      if (random < 0.5) {
        model = this.petalInst.clone();
        model.material = this.petalInst.material.clone();
      } else if (random < 0.85) {
        model = this.petalInst2.clone();
        model.material = this.petalInst2.material.clone();
      } else {
        model = this.petalInst3.clone();
        model.material = this.petalInst3.material.clone();
      }

      var randColor = Math.random() * 0.4 + 1.2;
      model.material.color.r = randColor * 1.05;
      model.material.color.g = randColor;
      model.material.color.b = randColor; //model.material.opacity = 0.5;

      return model;
    }
  }, {
    key: "setGroundPetals",
    value: function setGroundPetals() {
      var _this3 = this;

      var _loop = function _loop(i) {
        var petal = _this3.getRandomPetal();

        var ang = Math.random() * Math.PI * 2;
        var rad = Math.sqrt(Math.random() * 40); // const rad =Math.random()*6;

        petal.position.set(Math.cos(ang) * rad, 0.2 + 20.4 + i * 0.6, Math.sin(ang) * rad * 0.6);
        petal.rotation.set(0, 0, 0);
        petal.gravity = 1;
        petal.value = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-1, 1);
        petal.targetValue = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["randomSign"])();
        petal.angle = new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])() * 4, Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])() * 4);
        petal.radius = new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(_this3.boundingBox.x * 0.1, _this3.boundingBox.x * 0.5), Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(), Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(_this3.boundingBox.x * 0.5));
        petal.pos = new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, _this3.boundingBox.y * 0.5 + Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0, _this3.boundingBox.y * 0.05), 0);
        petal.pos.x = (1 - Math.sin(Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0, Math.PI / 2 - 0.5))) * 6 * Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["randomSign"])();
        petal.hit = false;
        petal.speedAngX = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.014, 0.014);
        petal.mass = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.03, 0.1);
        petal.sScale = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.16, 0.18);
        var rs = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.9, 1);
        petal.scale.set(petal.sScale, petal.sScale * rs, petal.sScale * rs);
        petal.started = false;

        _this3.scene.add(petal);

        _this3.groundPetals.push(petal);

        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(Math.random() * 4, function () {
          _this3.fall(petal);
        });
      };

      for (var i = 0; i < 30; i += 1) {
        _loop(i);
      }
    }
  }, {
    key: "fall",
    value: function fall(petal) {
      petal.started = true;
      this.startTween(petal);
    }
  }, {
    key: "startTween",
    value: function startTween(petal) {
      var _this4 = this;

      var time = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(2.0, 3.0);
      var radiusX = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.6, 2);
      var radiusZ = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(1, 4) * time * 0.5;
      var ease = gsap__WEBPACK_IMPORTED_MODULE_1__["Sine"].easeInOut;
      petal.valueSpeed = 0.01;
      petal.valueAng = Math.random() * 6;
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal.radius, Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.7, 1.4), {
        x: radiusX,
        y: radiusX * 0.25,
        z: radiusZ,
        ease: ease
      });
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal, 0.3, {
        speedAngX: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.014, 0.014),
        ease: ease
      });
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal, time, {
        value: petal.targetValue,
        ease: ease,
        onComplete: function onComplete() {
          gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal, time, {
            value: -petal.targetValue,
            ease: ease,
            onComplete: function onComplete() {
              _this4.startTween(petal);
            }
          });
        }
      });
      this.test = 0;
      this.dir = false;
    }
  }, {
    key: "mousemove",
    value: function mousemove(e) {
      var rect = this.canvas.getBoundingClientRect();
      this.mousePos = {
        x: e.clientX - rect.left,
        y: e.clientY - rect.top
      };
      this.mouse.x = e.clientX / window.innerWidth * 2 - 1;
      this.mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
      this.mouse.needsUpdate = true; //	updateExplorePetals
      //this.controls.target.x = (this.mousePos.x-this.width)/this.width;
    }
  }, {
    key: "touchmove",
    value: function touchmove(e) {
      var rect = this.canvas.getBoundingClientRect();
      this.mousePos = {
        x: e.touches[0].clientX - rect.left,
        y: e.touches[0].clientY - rect.top
      };
      this.mouse.x = e.touches[0].clientX / window.innerWidth * 2 - 1;
      this.mouse.y = -(e.touches[0].clientY / window.innerHeight) * 2 + 1;
      this.mouse.needsUpdate = true; //console.log(this.mousePos);
      //	updateExplorePetals
      //this.controls.target.x = (this.mousePos.x-this.width)/this.width;
    }
  }, {
    key: "mousedown",
    value: function mousedown(e) {
      this.explore.mousedownId = this.explore.currentId;
    }
  }, {
    key: "mouseup",
    value: function mouseup(e) {
      this.explore.selected = false;
      this.explore.isOver = false;
      this.popup.hidePopup();

      if (this.explore.currentId !== '' && this.explore.currentId === this.explore.mousedownId) {
        this.showMemorie(this.explore.currentId);
      }
    }
  }, {
    key: "showMemorie",
    value: function showMemorie(id) {
      this.stopScroll();
      window.dispatchEvent(new CustomEvent('show-memory', {
        detail: {
          id: id
        }
      }));
    }
  }, {
    key: "ontouchstart",
    value: function ontouchstart(e) {
      if (this.isTouchDevice) {
        this.startRender();
      }

      var rect = this.canvas.getBoundingClientRect();
      this.mousePos = {
        x: e.touches[0].clientX - rect.left,
        y: e.touches[0].clientY - rect.top
      };
      this.mouse.x = e.touches[0].clientX / window.innerWidth * 2 - 1;
      this.mouse.y = -(e.touches[0].clientY / window.innerHeight) * 2 + 1;
      var mx = this.mousePos.x - rect.width / 2;
      var my = this.mousePos.y - rect.height / 2;
      var px = this.popup.popupImg.x;
      var py = this.popup.popupImg.y;
      this.explore.selected = false;
      this.popup.isMouseOver = false;
      this.mouse.isDown = true;

      if (this.popup.popupImg.alpha === 1 && mx > px && mx < px + this.popup.popupImg.width * this.popup.popupImg.scale && my > py && my < py + this.popup.popupImg.height * this.popup.popupImg.scale) {
        this.popup.isMouseOver = true;
        this.popup.touchdownTime = gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].ticker.time;
      }

      this.explore.selectable = false; // console.log(rect);
      // console.log(this.popup.popupImg.x)
      //this.mouse.needsUpdate = true;//	updateExplorePetals
      // TweenMax.killDelayedCallsTo(this.popup.showpopup_bind);

      this.popup.hidePopup(); //this.updateExplorePetals(0, this.mouse.x, this.mouse.y);
    }
  }, {
    key: "ontouchend",
    value: function ontouchend(e) {
      this.explore.selected = false;

      if (!this.popup.isMouseOver) {
        var intersect = this.hitTestPetals(this.mouse.x, this.mouse.y);
        this.explore.autoselect = true;

        if (intersect && Math.round(this.explore.controls.delta * 40) / 40 === 0) {
          this.explore.autoselect = false;
          this.explore.selected = true;
          this.popup.waitanim = true;
          this.selectedPetal.selected = false;
          this.selectedPetal = intersect.object;
          this.selectedPetal.selected = true; //const petalProjection = this.selectedPetal.position.clone().project(this.threeCamera);

          this.setPopup(0.1); //this.popup.project.x = petalProjection.x;
          //this.popup.project.y = petalProjection.y;
          //this.popup.updateProjectScreen();
        }

        if (!intersect) {
          this.explore.autoselect = false;
          this.explore.selected = false; //this.explore.selectable = true;
        }
      } else {
        this.explore.selected = false;
      }

      this.explore.selectable = true;
      this.mouse.isDown = false;

      if (this.popup.isMouseOver && gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].ticker.time - this.popup.touchdownTime < 0.25 && Math.abs(this.explore.controls.startX - this.explore.controls.endX) / this.width < 0.08) {
        this.showMemorie(this.explore.currentId);
      }
    }
  }, {
    key: "groundPetalsUpdate",
    value: function groundPetalsUpdate(delta) {
      var _this5 = this;

      var _loop2 = function _loop2(i) {
        var petal = _this5.groundPetals[i];

        if (petal.started && !petal.hit) {
          var posForce = _this5.isStartExplore ? 1 : Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["trueAlpha"])(petal.position.y * 0.85 + 0.1);
          petal.angle.x += petal.speedAngX * delta / 16.666 * Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["trueAlpha"])(petal.position.y * 1.4 - 0.2) * posForce;
          petal.angle.z += (1 + petal.value) * 0.02;
          var force = petal.position.y * 0.8 / (_this5.boundingBox.y / 2);
          force = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["trueAlpha"])(force * 10);
          petal.pos.y += (1 - Math.abs(petal.value)) * petal.radius.y * petal.gravity * -0.1 - petal.mass * petal.gravity * delta / 16.666 * posForce;
          var px = petal.value * petal.radius.x + petal.pos.x;
          var py = Math.cos(petal.value * Math.PI / 2) * -petal.radius.y + petal.pos.y; //  + petal.pos.y

          var pz = Math.sin(petal.angle.z) * petal.radius.z + petal.pos.z;
          petal.position.set(px, py, pz); // console.log(px, py, pz)
          // petal.rotation.x = Math.PI/2 + Math.sin(petal.value *  Math.PI) * Math.cos(petal.value * petal.angle.y *  Math.PI);
          //XYZ

          petal.rotation.x = Math.PI / 2 + Math.sin(petal.value * Math.PI) * Math.cos(petal.value * petal.angle.y * Math.PI) * force;
          petal.rotation.y = Math.sin(petal.value * Math.PI) * force + Math.PI; // + Math.cos(petal.angle.y * Math.PI);

          petal.rotation.z = petal.angle.z;
          petal.rotation.z += petal.angle.x;

          if (!_this5.isStartExplore) {
            _this5.falledPetals.forEach(function (point) {
              if (petal.position.y < point.y && petal.position.x > point.x - 0.34 && petal.position.x < point.x + 0.34 && petal.position.z > point.z - 0.34 && petal.position.z < point.z + 0.34) {
                _this5.hitPetal(petal, point.y);
              }
            });

            if (petal.position.y < 0 && !petal.hit) {
              //console.log("cccc")
              _this5.hitPetal(petal, 0);
            }
          }
          /* if(petal.position.y < 0){
           petal.position.y = 0.01;
           TweenMax.to(petal.position, 0.3, {y:0, ease:Power1.easeOut})
           } */
          // $vm0.groundPetals[0].rotation.y = Math.PI;
          // $vm0.groundPetals[0].rotation.x = Math.PI/2
          // petal.rotation.x = Math.PI;
          // petal.rotation.y = Math.PI;
          // / petal.rotation.z = 0;

        }
      };

      for (var i = 0; i < this.groundPetals.length; i += 1) {
        _loop2(i);
      }

      this.ShadowCanvas.drawShadows(this.groundPetals);
    }
  }, {
    key: "hitPetal",
    value: function hitPetal(petal, fy) {
      petal.position.y = fy;
      petal.pos.y = fy;
      petal.hit = true;
      var randAngle = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.4, 0.4);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killTweensOf(petal);
      petal.rotation.reorder('YZX'); // TweenMax.to(petal.rotation, 10.4, { x:  Math.PI*5, ease: Power1.easeOut });

      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal.rotation, 1.6, {
        x: randAngle - Math.PI / 2,
        ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Elastic"].easeOut
      });

      if (petal.name === 'petal_1') {
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal.rotation, 1.6, {
          z: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.16, 0.16),
          ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Elastic"].easeOut
        });
      }

      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal.position, 1.6, {
        y: fy + Math.abs(Math.cos(randAngle + Math.PI / 2)) * petal.sScale * 1.6,
        ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Elastic"].easeOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal.scale, 0.22, {
        z: petal.sScale * 0.5,
        ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Sine"].easeOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal.scale, 1.9, {
        delay: 0.22,
        z: petal.sScale,
        ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Elastic"].easeOut
      });
      this.falledPetals.push({
        x: petal.position.x,
        y: petal.position.y + Math.random() * 0.16 + 0.08,
        z: petal.position.z
      });
    }
  }, {
    key: "startExplore",
    value: function startExplore() {
      var _this6 = this;

      var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      this.groundPetals.sort(this.sortByPosZ);
      this.isStartExplore = true;
      this.falledPetals.splice(0, this.falledPetals.length);
      this.groundPetals.forEach(function (petal, i) {
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(i * 0.02, function () {
          petal.hit = false;
          petal.rotation.reorder('XYZ');
          petal.mass = -0.1;
          gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal, 1.4, {
            mass: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.3, -0.1),
            ease: Back.easeIn
          });
          gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal.pos, Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(1.2, 2.2), {
            delay: 0.14,
            x: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0, 25) * (petal.position.x > 0 ? 1 : -1),
            ease: Power1.easeIn
          });
          gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal.pos, Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(1.2, 2.2), {
            delay: 0.14,
            z: 30,
            ease: Power1.easeIn
          });

          _this6.startTween(petal);
        });
      });
      this.introPetals.forEach(function (petal) {
        if (petal.isMesh) {
          gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(petal, 1.3, {
            delay: 0.14 + Math.random() * 0.12,
            sz: 28,
            sx: "+=10",
            ease: Power1.easeIn
          });
        }
      });
      var delay = 0;

      if (this.playIntro) {
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(this.logoAnim.material, 1, {
          opacity: 0,
          ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Power2"].easeOut
        });
        delay = 0.2;
      }

      if (this.heroEl !== null) {
        this.heroEl.style.display = 'none';
      }

      if (show) {
        this.setExporePetals();
        this.explorePetals.forEach(function (petal, i) {
          gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].from(petal, 1.8 + i * 0.03, {
            delay: delay,
            dPhi: -0.1,
            dTheta: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-1, 1),
            radius: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(6, 30),
            ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Sine"].easeInOut
          });
        });
        this.blurExplorePetals.forEach(function (petal, i) {
          gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].from(petal, 1.8 + i * 0.03, {
            delay: delay,
            dPhi: -0.1,
            dTheta: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-1, 1),
            radius: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(6, 30),
            ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Sine"].easeInOut
          });
        });
      } //this.explore.radius = 1;


      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(this.controls.target, 1.6, {
        delay: delay,
        y: this.threeCamera.position.y,
        onUpdate: function onUpdate() {
          _this6.threeCamera.lookAt(_this6.controls.target);
        },
        ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Sine"].easeInOut
      }); //TweenMax.to(this.explore, 2, {delay, radius: 0, ease:Sine.easeInOut});
      // TweenMax.to(this.explore, 2, {delay:0.2,  phi:0, ease:Power1.easeOut});

      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(2.2, this.enableExploreControl_event);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(3, this.removeIntroPetals_event);

      if (show) {
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(1, this.showCallToAction__event);
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].delayedCall(3.4, this.hideCalltoAction);
      }
    }
  }, {
    key: "enableExporeControl",
    value: function enableExporeControl() {
      this.explore.controls.enabled = true;
      this.mouse.needsUpdate = true;
      this.explore.selectable = true;
    }
  }, {
    key: "removeIntroPetals",
    value: function removeIntroPetals() {
      var _this7 = this;

      this.groundPetals.forEach(function (petal) {
        _this7.scene.remove(petal);
      });
      this.introPetals.forEach(function (petal) {
        _this7.scene.remove(petal);

        _this7.blurScene.remove(petal);
      });
      this.groundPetals = [];
      this.introPetals = [];
    }
  }, {
    key: "showCallToAction",
    value: function showCallToAction() {
      var callToActionEl = document.querySelector(".canvas3d__prompt");

      if (callToActionEl !== null) {
        callToActionEl.innerHTML = this.isTouchDevice ? this.calltoaction_text_mobile : this.calltoaction_text_desktop;
        callToActionEl.classList.add("canvas3d__prompt--visible");
      }
    }
  }, {
    key: "hideCalltoAction",
    value: function hideCalltoAction() {
      var callToActionEl = document.querySelector(".canvas3d__prompt");

      if (callToActionEl !== null) {
        callToActionEl.classList.remove("canvas3d__prompt--visible");
      }
    }
  }, {
    key: "setExporePetals",
    value: function setExporePetals() {
      var _this8 = this;

      this.memIdArray = Object.keys(this.memories);
      this.popup.hidePopup();
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killTweensOf(this.explore);
      var petalsCount = 30;
      var radius = 10; //this.logoAnim.material.opacity = 0;

      this.isExplore = true;
      this.controls.enabled = false; //this.controls.target.y = this.threeCamera.position.y;
      //this.threeCamera.lookAt(this.controls.target);

      this.explore.phi = 0.01;
      this.explore.speed = 0;
      this.explore.theta = Math.PI / 2;
      this.explore.radius = 0;
      this.explore.sy = this.threeCamera.position.y;
      this.explore.sx = -1;
      this.explore.sz = this.threeCamera.position.z - 14;
      this.explore.memCounter = 0;
      this.explore.isOver = false;
      this.explore.currentId = '';
      this.explore.selectable = false;
      this.explore.selected = false;
      this.explore.autoselect = true;
      this.explorePetals.forEach(function (petal) {
        _this8.scene.remove(petal);
      });
      this.blurExplorePetals.forEach(function (petal) {
        _this8.blurScene.remove(petal);
      });
      this.explorePetals = [];
      this.blurExplorePetals = []; //this.explore.currentId

      for (var i = 0; i < petalsCount; i += 1) {
        var petal = this.getRandomPetal();
        petal.dPhi = -Math.PI / petalsCount * i;
        petal.memId = this.memIdArray[this.explore.memCounter];
        petal.blur = false;
        this.updateMemCounter(1);
        this.resetExplorePetal(petal);
        this.scene.add(petal);
        this.explorePetals.push(petal);
      }

      for (var _i = 0; _i < 6; _i += 1) {
        var _petal = this.getRandomPetal();

        _petal.dPhi = -Math.PI / 6 * _i; //petal.memId = this.memIdArray[this.explore.memCounter];

        _petal.blur = true;
        this.updateMemCounter(1);
        this.resetExplorePetal(_petal);
        this.blurScene.add(_petal);
        this.blurExplorePetals.push(_petal);
      }

      if (this.isTouchDevice) {
        this.selectedPetal = this.explorePetals[0];
        this.selectedPetal.selected = true;
      }
    }
  }, {
    key: "updateMemCounter",
    value: function updateMemCounter(add) {
      this.explore.memCounter += add;

      if (this.explore.memCounter < 0) {
        this.explore.memCounter += this.memIdArray.length;
      }

      this.explore.memCounter %= this.memIdArray.length;
    }
  }, {
    key: "getMemId",
    value: function getMemId(num) {
      if (num < 0) {
        return this.memIdArray[num + this.memIdArray.length];
      } else {
        return this.memIdArray[num];
      }
    }
  }, {
    key: "resetExplorePetal",
    value: function resetExplorePetal(petal) {
      petal.radius = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0, 9);
      petal.dTheta = (1 - Math.sin(Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.2, 1.3))) * Math.PI / 2 * Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["randomSign"])();
      petal.ang = Math.random() * Math.PI;
      petal.speed = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.004, 0.004);
      petal.addRotationDelta = {
        x: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.0012, 0.0012),
        y: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.0012, 0.0012),
        z: Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-0.0024, 0.0024)
      };
      petal.addRotation = {
        x: 0,
        y: 0,
        z: 0
      };
      petal.sScale = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.16, 0.18);

      if (petal.blur) {
        petal.radius = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(3, 4);
        petal.dTheta = Math.sin(Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.2, 1.3)) * Math.PI / 2 * Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["randomSign"])();
        petal.sScale = 0.19;
      }

      petal.rs = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.9, 1);
      petal.xRadius = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.1, 0.5);
      petal.yRadius = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.1, 0.5);
      petal.zRadius = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(0.1, 0.5);
      petal.rx = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-1.8, 1.8);
      petal.ry = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-1.8, 1.8);
      petal.rz = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["random"])(-Math.PI, Math.PI); //petal.rotation.set(petal.rx, random(-0.2, 0.2), random(-Math.PI, Math.PI));
    }
  }, {
    key: "setExplorePetlasPosition",
    value: function setExplorePetlasPosition(petal, delta, blur) {
      var phi = this.explore.phi + petal.dPhi;
      var theta = this.explore.theta + petal.dTheta; // (this.explore.theta + petal.dTheta * Math.abs(Math.sin(phi)));

      theta = this.explore.theta + petal.dTheta * (Math.sin(phi) / Math.cos(Math.PI) * 0.7 + 0.3);

      if (Math.sin(phi) > 0) {
        petal.dPhi += Math.PI;

        if (!blur) {
          if (Math.sin(phi + 0.5) < 0) {
            petal.memId = this.getMemId(this.explore.memCounter - this.explorePetals.length % this.memIdArray.length);
            this.updateMemCounter(-1);
          } else {
            petal.memId = this.getMemId(this.explore.memCounter);
            this.updateMemCounter(1);
          }
        }

        this.resetExplorePetal(petal); //console.log(petal.memId );
        //console.log(Math.sin(phi+0.5))
        //console.log(this.explore.memCounter);
        //
      }

      var radiusX = 5 + Math.sin(phi) / Math.cos(Math.PI) * petal.radius + this.explore.radius;
      var radius = petal.radius + 5 + this.explore.radius;

      if (blur) {
        petal.fx = -radius * Math.cos(phi) * 1 + this.explore.sx;
        petal.fy = radius * Math.cos(theta) * 0.7 + this.explore.sy;
        petal.fz = radius * Math.sin(phi) * 1.6 + this.explore.sz;
      } else {
        petal.fx = -radius * Math.cos(phi) * Math.sin(theta) * 1 + this.explore.sx;
        petal.fy = radius * Math.cos(theta) * 0.7 + this.explore.sy;
        petal.fz = radius * Math.sin(phi) * Math.sin(theta) * 1.6 + this.explore.sz;
      }

      var dx = Math.sin(petal.ang) * petal.xRadius;
      var dy = Math.sin(petal.ang * 1.1) * petal.yRadius;
      var dz = Math.sin(petal.ang * 0.7) * petal.zRadius;

      if (!petal.selected) {
        petal.ang += petal.speed * delta / 16.66;
        petal.addRotation.x += petal.addRotationDelta.x * delta / 16.66;
        petal.addRotation.y += petal.addRotationDelta.y * delta / 16.66;
        petal.addRotation.z += petal.addRotationDelta.z * delta / 16.66;
      }

      petal.rotation.set(Math.cos(phi) * petal.rx + petal.addRotation.x, Math.cos(phi) * petal.ry + petal.addRotation.y, petal.rz + petal.addRotation.z); //petal.rotation.x = 0;
      //petal.rotation.y = 0;
      //petal.lookAt(this.threeCamera.position);

      var scale = Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["trueAlpha"])(Math.abs(Math.sin(phi)) * 5) * petal.sScale;
      var appearX = 1 - Object(_utils_js__WEBPACK_IMPORTED_MODULE_13__["normal"])(Math.abs(Math.sin(phi)) * 1.6);

      if (blur) {
        petal.position.set(petal.fx + dx, petal.fy + dy, petal.fz + dz + appearX * 3 + 16);
      } else {
        petal.position.set(petal.fx + dx, petal.fy + dy, petal.fz + dz + appearX * 5.5);
      } //const scale = Math.sin(phi) * Math.sin(phi) * petal.sScale;


      if (scale !== 0) {
        petal.scale.set(scale, scale * petal.rs, scale * petal.rs);
      }
    }
  }, {
    key: "hitTestPetals",
    value: function hitTestPetals(x, y) {
      this.raycaster.setFromCamera({
        x: x,
        y: y
      }, this.threeCamera);
      var intersects = this.raycaster.intersectObjects(this.explorePetals);

      if (intersects.length > 0) {
        return intersects[0];
      } else {
        return undefined;
      }
    }
  }, {
    key: "hideAllPetals",
    value: function hideAllPetals() {
      var _this9 = this;

      return new Promise(function (resolve) {
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(_this9.removeIntroPetals_event);
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(_this9.enableExploreControl_event);
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(_this9.showCallToAction__event);
        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(_this9.hideCalltoAction);
        _this9.explore.controls.enabled = false;

        _this9.popup.hidePopup();

        _this9.hideCalltoAction();

        if (_this9.isExplore === false) {
          _this9.startExplore(false);
        }

        gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(_this9.explore, 1.6, {
          phi: _this9.explore.phi - 3.6,
          sz: 50,
          ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Sine"].easeIn,
          onComplete: function onComplete() {
            resolve();
          }
        });
      });
    }
  }, {
    key: "exploreToIntro",
    value: function exploreToIntro() {
      var _this10 = this;

      this.explore.controls.enabled = false;
      this.popup.hidePopup();
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(this.removeIntroPetals_event);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(this.enableExploreControl_event);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(this.showCallToAction__event);
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killDelayedCallsTo(this.hideCalltoAction);
      this.hideCalltoAction();
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].to(this.explore, 1.4, {
        phi: this.explore.phi - 3.6,
        sz: 50,
        ease: gsap__WEBPACK_IMPORTED_MODULE_1__["Sine"].easeIn,
        onComplete: function onComplete() {
          _this10.restartIntro();
        }
      });
    }
  }, {
    key: "restartIntro",
    value: function restartIntro() {
      gsap__WEBPACK_IMPORTED_MODULE_1__["TweenMax"].killTweensOf(this.explore);
      this.removeIntroPetals();
      this.isExplore = false;
      this.isStartExplore = false;
      this.explore.controls.enabled = false;

      if (this.heroEl !== null) {
        this.heroEl.style.display = 'block';
      }

      this.setGroundPetals();
      this.setIntroPetals();

      if (this.playIntro) {
        this.logoAnim.startAnim();
      } else {
        this.logoAnim = new _LogoAnim_js__WEBPACK_IMPORTED_MODULE_14__["LogoAnim"]({
          memAmount: this.options.memAmount,
          text_memoryadded: this.options.text_memoryadded,
          text_storyto: this.options.text_storyto,
          // heroEl is unusable now. I catch it in LogoAnim
          heroEl: this.heroEl,
          heroElAnimClass: "petals-hero--anim"
        });
        this.logoScene.add(this.logoAnim.sprite);
        this.playIntro = true;
      }

      this.logoAnim.material.opacity = 1;
      this.controls.target.set(0, 7, 0);
      this.threeCamera.lookAt(this.controls.target);
      this.onWindowResize();
    }
  }, {
    key: "updateExplorePetals",
    value: function updateExplorePetals(delta) {
      var _this11 = this;

      this.explore.controls.fps = delta;
      this.explore.controls.update(); ////animation

      this.explorePetals.forEach(function (petal) {
        _this11.setExplorePetlasPosition(petal, delta, false);
      });
      this.blurExplorePetals.forEach(function (petal) {
        _this11.setExplorePetlasPosition(petal, delta, true);
      });

      if (this.isTouchDevice) {
        if (this.explore.controls.enabled && Math.round(this.explore.controls.delta * 150) / 150 === 0 && this.explore.selectable && !this.explore.selected) {
          this.explorePetals.forEach(function (petal) {
            if (Math.abs(petal.position.x) < Math.abs(_this11.selectedPetal.position.x) && Math.abs(petal.dTheta) < 0.45) {
              _this11.selectedPetal = petal;
            }
          });
          this.setPopup(0.5);
          this.explore.selected = true;
        }

        if (!this.explore.autoselect && Math.abs(this.explore.controls.startX - this.explore.controls.endX) / this.width > 0.12) {
          //TweenMax.killDelayedCallsTo(this.popup.showpopup_bind);
          this.popup.hidePopup();
          this.explore.autoselect = true;
          this.explore.currentId = '';
        }
      } else {
        if (this.explore.controls.enabled && Math.round(this.explore.controls.delta * 150) / 150 === 0 && this.mouse.needsUpdate) {
          var intersect = this.hitTestPetals(this.mouse.x, this.mouse.y);

          if (typeof intersect !== 'undefined') {
            this.canvas.style.cursor = 'pointer';

            if (!this.explore.isOver && this.explore.currentId !== intersect.object.memId) {
              this.explore.isOver = true;
              this.explore.selected = true;
              this.selectedPetal = intersect.object;
              this.selectedPetal.selected = true;
              this.setPopup(0.1);
            }

            this.explore.currentId = intersect.object.memId;
            this.explore.isOver = false;
          } else {
            if (this.selectedPetal) {
              this.selectedPetal.selected = false;
            }

            this.explore.selected = false;
            this.explore.currentId = '';
            this.explore.isOver = false;
            this.canvas.style.cursor = 'auto';
            this.popup.hidePopup();
          }
        }

        if (Math.round(this.explore.controls.delta * 150) / 150 !== 0) {
          if (this.selectedPetal) {
            this.selectedPetal.selected = false;
          }

          this.explore.selected = false;
          this.explore.currentId = '';
          this.explore.isOver = false;
          this.canvas.style.cursor = 'auto';
          this.popup.hidePopup();
        }
      }

      if (this.explore.selected && !this.popup.waitanim) {
        this.updateProjectScreen();
      }
    }
  }, {
    key: "updateProjectScreen",
    value: function updateProjectScreen() {
      var petalProjection = this.selectedPetal.position.clone().project(this.threeCamera);
      this.popup.project.x = petalProjection.x;
      this.popup.project.y = petalProjection.y;
      this.popup.updateProjectScreen();
    }
  }, {
    key: "setPopup",
    value: function setPopup(delay) {
      //this.updateProjectScreen();
      this.explore.currentId = this.selectedPetal.memId;
      var memory = this.memories[this.selectedPetal.memId];

      if (memory !== undefined) {
        this.popup.setPopup(delay, memory.name, memory.years);
      }
    }
  }, {
    key: "sortByPosZ",
    value: function sortByPosZ(a, b) {
      if (a.position.z < b.position.z) {
        return -1;
      }

      if (a.position.z > b.position.z) {
        return 1;
      }

      return 0;
    }
  }]);

  return Petals3D;
}();



/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/MixShader.js":
/*!*********************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/MixShader.js ***!
  \*********************************************/
/*! exports provided: MixShader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MixShader", function() { return MixShader; });
/**
 * @author mrdoob / http://www.mrdoob.com
 *
 * Simple test shader
 */
var MixShader = {
  uniforms: {
    tScene: {
      type: "t",
      value: 0,
      texture: null
    },
    // The base scene buffer
    tBlur: {
      type: "t",
      value: 1,
      texture: null // The glow scene buffer

    }
  },
  vertexShader: ["varying vec2 vUv;", "void main() {", "vUv = vec2( uv.x, 1.0 - uv.y );", "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
  fragmentShader: ["uniform sampler2D tScene;", "uniform sampler2D tBlur;", "varying vec2 vUv;", "void main() {", "vec2 uv = vec2(vUv.x, 1.0 - vUv.y);", "vec4 texel = texture2D( tScene, uv );", "vec4 blur = texture2D( tBlur, uv );", //"vec4 diff = vec4( 0.99215, 0.93333, 0.61176, 1.0);",
  //"diff = vec4(mix(diff.rgb, texel.rgb, texel.a), 1.0);",
  "vec4 diff = vec4(mix(texel.rgb, blur.rgb, blur.a), 1.0);", "gl_FragColor = diff;", // Blend the two buffers together (I colorized and intensified the glow at the same time)
  //"gl_FragColor = vec4(texel.a, 0.0, 0.0, 1.0);",
  "}"].join("\n")
};


/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/Popup.js":
/*!*****************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/Popup.js ***!
  \*****************************************/
/*! exports provided: Popup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Popup", function() { return Popup; });
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ "./Yoyo.Elevator.Ui/ts/3d/utils.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var Popup =
/*#__PURE__*/
function () {
  function Popup(isTouchDevice, petals3d) {
    _classCallCheck(this, Popup);

    this.isTouchDevice = isTouchDevice;
    this.petals3d = petals3d;
    this.project = {
      x: 0,
      y: 0
    };
    this.projectScreen = {
      x: 0,
      y: 0
    };
    this.nameScale = 1;
    this.popupImg = {};
    this.popupImg.x = 0;
    this.popupImg.y = 0;
    this.popupImg.scale = 1;
    this.popupImg.alpha = 0;
    this.popupImg.width = 240;
    this.popupImg.height = 20;
    this.line = {};
    this.line.sx = 0;
    this.line.sy = 0;
    this.line.fx = 0;
    this.line.fy = 0;
    this.line.cx = 0;
    this.line.cy = 0;
    this.line.alpha = 0;
    this.line.visible = false;
    this.svgLine = document.getElementById("line-svg");
    this.popup_el = document.getElementById("popup");
    this.name_el = document.getElementById("popup__name");
    this.years_el = document.getElementById("popup__years");

    if (this.isTouchDevice) {
      this.popup_el.classList.add("popup--mobile");
    }

    this.isMouseOver = false;
    this.touchdownTime = 0;
    this.width = 512;
    this.height = 128;
    this.name = "";
    this.years = undefined;
    this.waitanim = false;
    this.cam = {};
    this.cam.scale = 1;
    this.showpopup_bind = this.showPopup.bind(this);
    this.setposition_bind = this.setPosition.bind(this);
  }

  _createClass(Popup, [{
    key: "updateProjectScreen",
    value: function updateProjectScreen() {
      this.projectScreen.x = this.project.x * this.width * 0.5;
      this.projectScreen.y = -this.project.y * this.height * 0.5;
      this.line.sx = Math.round(this.projectScreen.x * 10) / 10;
      this.line.sy = Math.round(this.projectScreen.y * 10) / 10;
      this.svgLine.setAttributeNS(null, "x1", this.line.sx + this.width / 2);
      this.svgLine.setAttributeNS(null, "y1", this.line.sy + this.height / 2);
    }
  }, {
    key: "setPopup",
    value: function setPopup(delay, name, years) {
      this.waitanim = true;
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killDelayedCallsTo(this.setposition_bind);
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].delayedCall(delay, this.setposition_bind, [{
        name: name,
        years: years
      }]);
    }
  }, {
    key: "setPosition",
    value: function setPosition(_ref) {
      var _ref$name = _ref.name,
          name = _ref$name === void 0 ? undefined : _ref$name,
          _ref$years = _ref.years,
          years = _ref$years === void 0 ? undefined : _ref$years;
      window.dispatchEvent(new Event("updateProjectScreen"));
      this.waitanim = false;
      this.updateProjectScreen();
      var sx = this.projectScreen.x;
      var sy = this.projectScreen.y;
      this.name_el.style.fontSize = "45px";
      this.name_el.innerText = name;

      if (years !== undefined && years !== null) {
        this.years_el.style.display = "";
        this.years_el.innerText = years;
      } else {
        this.years_el.style.display = "none";
      }

      if (this.name_el.clientWidth > 472) {
        this.name_el.style.fontSize = 45 * (472 / this.name_el.clientWidth) + "px";
      }

      this.popupImg.width = this.popup_el.clientWidth;
      this.setPopupScale();
      var ang = Math.atan2(sy, sx);
      var posX = sx - Math.cos(ang) * this.width * 0.3 - this.popupImg.width / 2 * this.popupImg.scale;
      var posY = sy - Math.sin(ang) * this.height * 0.3;
      var correct = false;

      if (posX < -this.width / 2 + 10) {
        posX = -this.width / 2 + 10;
        correct = true;
      }

      if (posX + this.popupImg.width * this.popupImg.scale > this.width / 2 - 10) {
        posX = this.width / 2 - 10 - this.popupImg.width * this.popupImg.scale;
        correct = true;
      }

      if (correct || this.isTouchDevice) {
        posY = sy > 0 ? sy * 0.1 - this.height * 0.3 / this.cam.scale : sy * 0.1 + this.height * 0.3 / this.cam.scale;
      }

      var elHeight = this.popup_el.clientHeight;
      this.popupImg.height = this.popup_el.clientHeight;
      var fx = sx;

      if (fx > posX + 40 + this.popupImg.width * this.popupImg.scale) {
        fx = posX + 10 + this.popupImg.width * this.popupImg.scale;
      } else if (fx < posX - 40) {
        fx = posX - 10;
      } else {
        fx = posX + this.popupImg.width * this.popupImg.scale * 0.5;
      }

      var fy = sy;
      var posY_scale = posY + (elHeight / this.popupImg.scale - elHeight) / 2;
      this.popupImg.y = posY_scale;

      if (fy > posY + 50 * this.popupImg.scale) {
        fy = posY_scale + elHeight * this.popupImg.scale;
      } else if (fy < posY - 70 * this.popupImg.scale) {
        fy = posY_scale;
      } else {
        fy = posY_scale + elHeight / 2 * this.popupImg.scale;
      }

      this.showPopup({
        name: name,
        years: years,
        fx: fx,
        fy: fy,
        posX: posX,
        posY: posY
      });
    }
  }, {
    key: "showPopup",
    value: function showPopup(_ref2) {
      var _ref2$name = _ref2.name,
          name = _ref2$name === void 0 ? undefined : _ref2$name,
          _ref2$years = _ref2.years,
          years = _ref2$years === void 0 ? undefined : _ref2$years,
          _ref2$sx = _ref2.sx,
          sx = _ref2$sx === void 0 ? 0 : _ref2$sx,
          _ref2$sy = _ref2.sy,
          sy = _ref2$sy === void 0 ? 0 : _ref2$sy,
          _ref2$fx = _ref2.fx,
          fx = _ref2$fx === void 0 ? 0 : _ref2$fx,
          _ref2$fy = _ref2.fy,
          fy = _ref2$fy === void 0 ? 0 : _ref2$fy,
          _ref2$posX = _ref2.posX,
          posX = _ref2$posX === void 0 ? 0 : _ref2$posX,
          _ref2$posY = _ref2.posY,
          posY = _ref2$posY === void 0 ? 0 : _ref2$posY;
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killDelayedCallsTo(this.setposition_bind);
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(this.line, {
        cx: true,
        cy: true,
        alpha: true
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(this.svgLine);
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(this.popupImg, {
        alpha: true
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(this.popup_el);
      this.popup_el.style.opacity = Object(_utils_js__WEBPACK_IMPORTED_MODULE_1__["trueAlpha"])(this.popupImg.alpha);
      this.popupImg.x = posX; //this.popupImg.y = posY;

      this.popup_el.style.left = posX + this.width / 2 + "px";
      this.popup_el.style.top = posY + this.height / 2 + "px";
      this.name = name;
      this.years = years;
      this.line.fx = fx;
      this.line.fy = fy;
      this.line.cx = this.line.sx;
      this.line.cy = this.line.sy;
      this.popupImg.alpha = 0;
      this.popup_el.style.opacity = 0;
      this.line.alpha = 0;
      this.updateLineSvg();
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].to(this.svgLine, 0.2, {
        attr: {
          "stroke-opacity": 0.7
        },
        ease: Power1.easeOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].to(this.svgLine, 0.5, {
        attr: {
          x2: this.line.fx + this.width / 2,
          y2: this.line.fy + this.height / 2
        },
        ease: Power1.easeInOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].to(this.popupImg, 0.4, {
        delay: 0.43,
        alpha: 1,
        ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Power3"].easeOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].to(this.popup_el, 0.4, {
        delay: 0.43,
        css: {
          opacity: 1
        },
        ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Power3"].easeOut
      });
    }
  }, {
    key: "updateLineSvg",
    value: function updateLineSvg() {
      this.svgLine.setAttributeNS(null, "x1", this.line.sx + this.width / 2);
      this.svgLine.setAttributeNS(null, "y1", this.line.sy + this.height / 2);
      this.svgLine.setAttributeNS(null, "x2", this.line.cx + this.width / 2);
      this.svgLine.setAttributeNS(null, "y2", this.line.cy + this.height / 2);
      this.svgLine.setAttributeNS(null, "stroke-opacity", Object(_utils_js__WEBPACK_IMPORTED_MODULE_1__["trueAlpha"])(this.line.alpha * 0.7));
    }
  }, {
    key: "hidePopup",
    value: function hidePopup() {
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killDelayedCallsTo(this.setposition_bind);
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(this.line.line, {
        cx: true,
        cy: true,
        alpha: true
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(this.popupImg, {
        alpha: true
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(this.popup_el);
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(this.svgLine);
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].to(this.popupImg, 0.3, {
        alpha: 0,
        ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Power3"].easeOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].to(this.popup_el, 0.3, {
        css: {
          opacity: 0
        },
        ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Power3"].easeOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].to(this.line, 0.3, {
        alpha: 0,
        ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Power3"].easeOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].to(this.line, 0.3, {
        alpha: 0,
        ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Power3"].easeOut
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].to(this.svgLine, 0.3, {
        attr: {
          "stroke-opacity": 0
        },
        ease: Power1.easeOut
      });
    }
  }, {
    key: "resize",
    value: function resize(w, h) {
      this.width = w;
      this.height = h;
      this.cam.scale = window.devicePixelRatio;
      this.setPopupScale();
    }
  }, {
    key: "correctPos",
    value: function correctPos(w, h) {
      this.sprite.position.x = Math.round(this.sprite.position.x);
      this.sprite.position.y = Math.round(this.sprite.position.y);
    }
  }, {
    key: "setPopupScale",
    value: function setPopupScale() {
      if (Math.min(this.width * 0.8, this.height * 0.8) < this.popup_el.clientWidth - 30) {
        this.popupImg.scale = Math.min(this.width * 0.8, this.height * 0.8) / (this.popupImg.width - 30);
        this.popup_el.style.webkitTransform = "scale(" + this.popupImg.scale + ")";
      } else {
        this.popupImg.scale = 1;
        this.popup_el.style.webkitTransform = "scale(1)";
      }

      if (this.isTouchDevice) {
        this.popupImg.scale *= 0.7;
        this.popup_el.style.webkitTransform = "scale(" + this.popupImg.scale + ")";
      }
    }
  }]);

  return Popup;
}();

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/ShadowCanvas.js":
/*!************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/ShadowCanvas.js ***!
  \************************************************/
/*! exports provided: ShadowCanvas */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShadowCanvas", function() { return ShadowCanvas; });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ "./Yoyo.Elevator.Ui/ts/3d/utils.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var ShadowCanvas =
/*#__PURE__*/
function () {
  function ShadowCanvas() {
    var _this = this;

    _classCallCheck(this, ShadowCanvas);

    this.canvas = Object(_utils_js__WEBPACK_IMPORTED_MODULE_1__["newCanvas"])(512, 512); //console.log('|-------|')
    // console.log( require('../../static/assets/images/shadow.png'))

    this.texture = new three__WEBPACK_IMPORTED_MODULE_0__["Texture"](this.canvas);
    this.texture.needsUpdate = true;
    this.img = new Image();
    this.img.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA39pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozOTAxOTM5ZS04YzgxLWMzNDUtYTQ5Zi02NjJmZGU5ZTdkNGUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTU2NTlBMTFCNEJFMTFFOUE0QkVGRDE2RUZGMDlBQ0QiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTU2NTlBMTBCNEJFMTFFOUE0QkVGRDE2RUZGMDlBQ0QiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk4MzQ5NTU5LTFjYmUtNGU0OC04NTk3LTFlMmQ1NGVkZWI0YSIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjllZGJhN2RlLWY5YmUtM2E0MC1hYTY0LTI2ZWE2ZWFjYWEzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlyBQOoAABLeSURBVHja7F3tcuM4DgQpKrmr2tr3f8J9gP1xO44l8W624jkGQQMNyU6yM1KVyo7sOI7QaHwSLL13OY9f96jnLTgBcB4nAM7jBMB5nAA4jxMA53EC4DxOAJzHCYDz+DWO9hP/b+UT/mY/AfBrCHrPd+knAH4+gR/53v0EwMcK/FHA6f9kQLSfSOjlDp+zRygleH//yoAoX6gcXA68Nyv88mCN78mfP82x/GwA7BF6uTMY7uHA9R3X+g4h958FAFmBZJ+zwMh8n75T+J14rR9kmPsA4M8///z78ffff/9KQi8HX8+CYS81Wz/vEX4/yDz7ncA//vjjEQDICL4Qgi4HficCxhHBM4Icrxfw3pIwKeUoEN4AoNb6kVqvBYEEiN5XgKCZ382AIaL+SNDR8+JcK6QDuRsIjwoD9wi+JIWsTwmu3YsBLOF7j/q5dxYAjPHvlgAI/TMBsFfwrJDZE31udD0reEvIWtiM8DfjmvU5GiAWEFJs0L6A4NHPdfi5qtcrof0eMLywMuMD9IS2byQAtgAsQjAFzQbtgcLfI/hRuJ7Qo9eEZIa9LOAxASvkLQDAFoDBEnLPgqA9WOsjwVel7dajJewKXivgmvcdMiDoTriX0W4t5C14zWMG7R+kTMKjfABG8AUIWQu3AqFXhzEqYQpE3jfERGYBOXubAYZIqzfjXJ3XiwGCzdF2ig3aAwTveeNI8EjoUxIQrCkoRGhYyLifsftbIPxV/bwAgOiz7mCD/igGiByyGgh+FPoEXru9XgJWYFiAyRMICMMYL99jgBUA4PY4vT5fjfdabKHZgAZBu6PgvdMS1KSeT4bWe9ci9ijAz4jCT88XsJw/j/49BhiFrp+jcxR+UZ9TFRDKYDogCNqdbH0JPPQaaPvkXJscADCmYPxOTLKIYQHGD0CUj7R/MQS+DK8tw3vLAIJR2DcgbAPoNy8aaHcWvuepIyFP4JrFClMAgsg5ZMNCJi1sAYBhgRUwQFOCv11bhv/5BoSiNHxV18bvhUDw98/tgPDFce4mQ9PHx6autUD4E2CLiAFQmNgNJ3FPbcDzAzxvP6L7UeOnQfi3+3F9fT4KflXf04oQ3oGg3dHmewKfnLMNj1U9emwQRQmZvECUIPIqgdkoYAUgWIbHNoBA34MbAyzgOy8GCOrwXXY7gajTxhJGMwTfHMGj97WkKfB8AAGhYeQDlAMAYBlgtPOLYoGrwXwFOLU3FlgVCHTtYLcT6Gn8ZFA8EmgDr7XAJEQ+ABMOSkD/bPNIVAPYHBCshgPYHMEvA+1PDrMJyAtok2AzgNMeVhwQWJTeHIGja82g/wbMCJMTsDS/kinh4hRXSrIW4CV/kAN4A8QVMMD38wXkM1DuQie23juB8zyziZ5I8LMjYOsaYgLPISwAAJl0MOMAsm3fnjPIgGAlGaACVhPCZ9lcH+C3335jtN+K5W9Cm5VQ5+H1ORD+nIgI2BCQLQsznUNMf5/sZIHNCP2m4fEaFMHEKVBZRSzbB9i2LWP7JyVc6xGBArEBAwDW9nt9A9kIgKmto5u+DdrnZQPH9K9n9pDdj0zRav1OxACR9mvBzoOAnwwGmB0GaE7EwGYB94Z9TAiYbRLpycTQNJiAadD8yQG6EAWpPny+9gGE8QEKcPy04J8UCJ6M9yDBz07sz8T9meJPprtYdvoCmeTQpABwe4wYDv1tr2q4qQTSWyfw+fnZMwGI+m/CflJAaOo5o/1R3H+kAihkISgCQCfrBJ1kg7GYczsX8H+/GN+FzTnoOkGYCCpOyGfR/hN49PwB5PUzZeEjTt/eamDWDDAsUIfHUftXI7kV+R8bqDNMqor4I6RlEkFW0mc2hK9Z4MkQ/uwIvpGaH6V75aApYMKpbKWQMQVVMcFi5DP090RRRVPO5Hhu42e0ZMavAdv/rEDwZIAkiv2R1k9JrWdSwyVRAu7AznanRyByCisAwEqkewVQ/qru7ehMruB/DquBjOOnz2eD/i0zcK80b9RJ5KVNWRaIKN1q3vQYADls1ajzWw6opfXzkEHUbApzBu2g14+E/zREATOI/5HmT0R5dwpMB8MWkmACpuK3gjw/AsOm7vGmrnk5fkvrF+BYu61wLWn7m2P7nw3tt1iALfJYdN6IdDGj/ZlUsARC7AAAi+rq0b9ble33fBUt/Kbsva6lIPYMO4JKkvqRA+jZf1TkqSC/Pzk1BQSgchAAXhawgy4gy/tehzz+MsbfRoGpODE+0v5V3cuqaiUl+GzXBFia75mAGTAAa/c9xvFyBtVJl9ZkNlAIFhCn/IsaPeahsjcywgS03wvxGpkurk7iyARACQDQHO2/CV9nAWejEMS0dj0Fwrd8CMbrFyIXwCaAIhBsRnm3vSZzXgwQSFDY2VTdgMmTIHb/8dktcABR0mcG5mA2mKIFyR4dZloAmsgWMbYIJBJPG2HjfuQXbCom1975ZXhvHTp6JsNXiPofK2HirHAVmoAKmjZmkPuP7D+j/TMIIb0UcZQrjxaARAMjrGkeaGUuKsCMWjsCQBQT6GSQB4A93c5mZNN2pn1nFepFJeAWFHa+v/9fCgAtqAoySZ49o2JKQvtRlKALMJPh7N4EfDWAZjEAWmUlyb4A3BJGxP9WWjeq90e0fRO+BoDn4U9izxHILgWPhF2CNivkExQjaaNtc1cNIVr7vUU3jLPaJR5K9c4JHG2/xwLNuTaBRg+kyd8F/+8hjzAPAKhOeLe324fR+gK00qsPoFxBMTJ8t9eXITqIahjVcNLZkrR4UQBawYuaPK02rolI8Fi2/znQfm37MhrPOHlRE2iGHby5ARso5DwNKVwxMoNULE+mrU0wNKIAVImOnWlHSfdJCf/ZyBdYtu5Ih+895gkjc2CFi96gJ31/GIEXB3xeHyDsD2xk84e3Ypdp1LRaySzNnyXugauBh88Kn51f2BNM0MVfQDMywi0fsDhAzmq+V4E0HdcWFIG8JV8o+8RU8yLqn4hOH0lU9QpJ4/IAhhAjXPwu+L/+d/5nqPtLUuDiOHuML1CYRFCmz46twmmvf3bCPaaS52l4CYRRxF42lZ63F2iltv035291TEc2QRXNDwpTwUxfgATe6ngg8DDVPKbDtwLBMvSPOmyqEloWCCXZHIIKQiy7IWcPXYMAyNiXLGVaCxhXeT/SRA7U7DOssOf7s7kA67qXLSzG41GThYRuMcwPAPQd1NZ3AmN9tX1jSGm1TLFhWzT1qx+8oUJ8pmVWhDCXQoDgoXskNaL2zA493IIEiSgW+Evs9qUObkikZRLk7guR4MmMWbUEhpRiNH9Pr4mvPjiE3rTPoyBwP6M5tsqbbMWMNPXWpt0KIZfBCRztvx5sUAOt7SRV9ztofidCQLQ8TGcHH6Xd9PRWhgFQp8uaAAX6fA2AojKU1liTzdA6pNmeE4e0t4D3dRA1MJ64vqfL6/++HPC7MvkJWANpwKP0VpcgAFinLoboG3N9vRENaEQ3Eik16YVbDNEFL/VCSRPP/4hWBFlOWGYG0a4Qj2GFZqAc9Z55A42aujbJ+wUPm9hDFl+UH1CM7zc6TJsTLXTS6Yt8gR5k+6IiDFKmlfTSozBSApDRznkzKE03OaJBRnqejQYBWpEyjjObBjqcgGZMKjoowm16jRo62JSv5dn3pLZaswBf5G1bmAg3djbakoYBwbv72wj7v8n76RX6HFeiIACMND4OP66DKUB98BMIEb30cJf38/SQj9ADm5mZF7wBBr2+Cv3bawT0jXSc0bQRaxFKNpw31wZafW2e8PU4k0neL0gce94sOl4VAKzRKhNgg6ijthhOnOfssc5WJxXnOgD88ir8q9gjZtE+AdH+AujnqB4gzUnybAH1X1Ucv0hcybPOcUnUBdyUJnGPHLPmL/IPesK5RALUJvMm+G+vj6twy8g38rSWp1kDpE3ntgWotkAwCl4zALOmz/NKFwDEcZjCmDOYlJZrMHQjv99B/t1zCjfnPlmUvyjKv8jbBtBIkz2Br8HPUWLOTQQVwe3NS8AA1yQDrOA7XQWvgJmVORjX1VtC1eNUxTERXrIoWhm0qvv0MiS6LvL/li9mL6FV4qmio0IyIXkH4SyVCEIjzJqh+V7vXpSBG4cbL8bfn+V9f32TtyNWNvV3N8FDIaOBEUxFD2n9eK7irx/wEm6bYYItk+wl59ymkObYRusf9By/KbDPUQJEl2tXwwTphtRF7JZzZlw8Awov/t4Mrb8owW9BjSVKsi2J0wLBCvyDH0BoRLWvGyhnVuV6JV0rrJrU83FSxqZCTjRpJLuAgmkh647NXwzhryC+Z7Tei7qu8raLeFxrGAEBskALhG+tc2sGCFivHIFtMkq6eppGF3utnZ4yPsmxFTQFOKLofozdPewq4i2RZ7k6wr86gFid6KALMSwapYSXQTP1BMtokWbUvKCZoIMU7iZvJ2k14dvJ2HkA0Y5fOhHD5Ad6QvhasDfTov0MLfhr4BiGYWAhEhvM+NJM/7oYGT/reVUgqAqUmbEwUXInU2zZs4MYGhVv0f2Liiy0vzGCYfycXQxg1Qb06LIFOHwieLAR0hAr7WuxQTUqg5oV7rExRLaNLNo3mNF8PUhi1PSLEvrFED4yAV5UIJETqKt363Dzr8Jt4xrR6+2cDS0ZtX4yfAJmN/EqfneQl+2LegkYEGhTsTqh9WJQPhK+pf3aHEQhYfcSQcUAQlG5/SVJ/VHnUHOKP3q0WlVAQJtCrIJn7kTrCLvEu3FmZgRHwh/zCFcl5EtwRsK3wkDTB/BSwsUo7mRm77FjVNFMvdHRFLHX1FuNluwawsxijL1OXyT8ayD0b0NqGZmCxQBBKgyM8gF6wyKP8nvwWSgHfvPs9TDlavQFdJX104kfLxN4ZFo42wuQ8fgtR88T/mUn/ZuJoIi69TZkS8JpYsenN/BYjXSvFYF0o2tok+PLyHsC2JHwVxDjI+F/c9jgRZmAlAPI5AHEKBCNhRx2+bIl9Keg8tUMNtiEHxFTABtkIwN2Wli0SZTn9L0YoV4EAIv6vQxgygR0I962hhquCfOR1RJd9ZuAzWc2jagGG4jsGxubiffHOH9zhH814vtRy7+B+P9ixP4ryAKa5eHmNEvopJBVF49oX5y6+ZMh9Fl5y00xwS3luwYp6ExDiiQyhGzIx9p9He+/BJ7+JUj8rEwBiMkERqFQd8Agwq8kmsUfea5n3ltDEqMOofpAAESstpf60fORKZaE8A+vDu5Od0w2ioi2TZvl/Z56uvHUGytvTdGqkts7IHKKhaR+JPzFyOtfgBl4cbz9xcn7R+NhqFSwxwLbDtvPbKJs1f1HzY+GTRaSCSRRKyigfsE4fgvw/C36R/n+ESjLvYTPOIEIBJ1kA4YB5qDzxxsVa20mXRKmgA0FGYB7zR2L6h1YDFv+EqR4XwzBL062LxQ+EwZGTqEA77I7TSVI+E31HMwBANh9hbL7BxcC0JLs7rkGDHANBH812sHWoQdhl/AzPoAGgV6xuymanIyb1AIW0PPvRyBEG0pGfkDGCWSdv6jStwUNHh4Qrk52z4r1dwmfTQWXAARjQWZz6vsaCKvh7M2KBUbHL9pPOLuLaGZiuCRKvYwDiLp5rNIu6gDuwjV+ytEogAXBmKRBy7p0ude6Yajhk2GA7CbSDAAs0xcVfCwArAAES9DWpUO8FYTWSND0uoAjICjKFFhsgHbL0jtnWtrPbjPDbCaZ8f69pJYEFT8v/++xAtPz3+8h/KwPEA1PEMMn6EaDh7X5gbV16hIIntlXEOX/S9AUUgS3h2V360RL60Ytj+z8ClK6h4R/xAmMQKD9gpEhdLPHpvL+Vdn9mtT6Kvs7gaPCj9fpiyIdaxOpNbDvm0H5rLNHC//vf7j3XfMQmQEM3rjz6pyekzcFv8uMlI0e96wGzk5VQQJHy7uYqSMpwR8FgBBZMzSF3NqTAA2oZreNv8cagCONH8yKXkvY3lrA/gjKvzcAjrABGjFbCaYokl/9gwDQZf8IdhYIo7CZpd89ofW7hX8vAGRAwJqH4pR42RCP3SU8q/1svaMHj6hevwk/8PmQ8Pc4gdGNipwoa3yL7tTdHFqvwu+owWwPkwn9RPY3tiKH0aP4hwr+3gyQYYOIESRZxj2yY4gcAEAWGNFgTVbwdxP+PRkgwwbeLhpoEYfI8T2CsgBAIPBMggg38Ekknqb6cOE/CgBezkDEH+KIVu9kBjtI8HwvAFizwDCEZ9s/RPCPNAEZsxBRdXYfoKzGs8OhO/kzYzai1z5E8B/BAIxZ8Byc4vz+PWl+DxNEJiLDHJ8i+I8GAAME78Zl/InPAsCenz9N8B9tAvaYBjbj+CihHwHCHkF+iiCafO7Rd8TkmdfLg4XQHwSoXwYAe8DwZen0H/h9vhQAjoDhq/8PX/Zo/9AbWU4B/zoA+Glv/lc46nkLTgCcxwmA8zgBcB4nAM7jBMB5nAA4jxMA53EC4Dx+jeO/AgwAdRRAG+6o2aAAAAAASUVORK5CYII=';
    this.isLoad = false;

    this.img.onload = function () {
      _this.isLoad = true;
    };
  }

  _createClass(ShadowCanvas, [{
    key: "drawShadows",
    value: function drawShadows(petals) {
      var _this2 = this;

      var ctx = this.canvas.getContext('2d');
      var w = 512;
      var h = 512;
      ctx.clearRect(0, 0, w, h); // ctx.fillRect(0, 0, 1024, 256);

      ctx.save();
      ctx.translate(w / 2, h / 2);
      petals.forEach(function (petal) {
        var x = petal.position.x * 512 / 20;
        var z = petal.position.z * 512 / 20;
        var dScale = petal.position.y * 0.5; //YZX

        var rotation = petal.rotation.order === 'XYZ' ? -petal.rotation.z : -petal.rotation.y;
        var rScale = petal.rotation.order === 'XYZ' ? -petal.rotation.y : -petal.rotation.z;

        if (petal.position.y < 3) {
          ctx.save();
          ctx.translate(x, z);
          ctx.rotate(rotation);
          ctx.scale(0.38 + dScale, 0.38 * Math.sin(rScale + Math.PI / 2) + dScale);
          ctx.globalAlpha = Object(_utils_js__WEBPACK_IMPORTED_MODULE_1__["trueAlpha"])(0.5 - dScale * 1.6);
          ctx.drawImage(_this2.img, -64, -64);
          ctx.restore();
        }
      });
      ctx.restore();
      this.texture.needsUpdate = true;
    }
  }]);

  return ShadowCanvas;
}();

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/Title.js":
/*!*****************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/Title.js ***!
  \*****************************************/
/*! exports provided: Title */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Title", function() { return Title; });
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ "./Yoyo.Elevator.Ui/ts/3d/utils.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var Title =
/*#__PURE__*/
function () {
  function Title(options) {
    var _this = this;

    _classCallCheck(this, Title);

    this.text = options.text;
    this.lettersArray = this.text.split('');
    this.wordsArray = this.text.split(' ');
    this.letters = [];
    this.lettersArray.map(function (currentValue, index, array) {
      _this.letters.push({
        text: currentValue,
        alpha: 0,
        num: index
      });
    });
    this.space = options.space;
    this.x = 0;
    this.y = -117;
    this.size = options.size;
    this.visible = false;
    this.font = "".concat(this.size, "pt ").concat(options.font);
  }

  _createClass(Title, [{
    key: "reset",
    value: function reset() {
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(this);
      this.letters.forEach(function (letter) {
        gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].killTweensOf(letter);
        letter.alpha = 0;
      });
    }
  }, {
    key: "draw",
    value: function draw(ctx) {
      var _this2 = this;

      if (!this.visible) return;
      ctx.save();
      ctx.textBaseline = 'alphabetic';
      ctx.textAlign = 'left';
      ctx.font = this.font;
      ctx.translate(-(ctx.measureText(this.text).width + this.space * this.text.length) / 2, this.y);
      this.letters.forEach(function (letter) {
        var x = ctx.measureText(_this2.text.slice(0, letter.num)).width + _this2.space * letter.num;
        ctx.fillStyle = "rgba(40, 40, 40, ".concat(Object(_utils_js__WEBPACK_IMPORTED_MODULE_1__["trueAlpha"])(letter.alpha), ")");
        ctx.fillText(letter.text, x, _this2.size / 2);
      });
      ctx.restore();
    }
  }, {
    key: "showAnim",
    value: function showAnim() {
      var _this3 = this;

      this.visible = true;
      var startSplit = 0;
      this.wordsArray.forEach(function (word, i) {
        gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].staggerTo(_this3.letters.slice(startSplit, startSplit + word.length + 1), 2.4, {
          delay: i * 0.9,
          alpha: 1,
          ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Power2"].easeOut
        }, 0.03);
        startSplit += word.length;
      });
      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].from(this, 1.2, {
        space: 9,
        ease: Power1.easeOut
      });
    }
  }, {
    key: "hideAnim",
    value: function hideAnim() {
      var _this4 = this;

      gsap__WEBPACK_IMPORTED_MODULE_0__["TweenMax"].staggerTo(this.letters, 1, {
        alpha: 0,
        ease: gsap__WEBPACK_IMPORTED_MODULE_0__["Power2"].easeOut,
        onComplete: function onComplete() {
          _this4.visible = false;
        }
      }, 0);
    }
  }]);

  return Title;
}();

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/VerticalBlurShader.js":
/*!******************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/VerticalBlurShader.js ***!
  \******************************************************/
/*! exports provided: VerticalBlurShader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VerticalBlurShader", function() { return VerticalBlurShader; });
/**
 * @author zz85 / http://www.lab4games.net/zz85/blog
 *
 * Two pass Gaussian blur filter (horizontal and vertical blur shaders)
 * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/
 *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html
 *
 * - 9 samples per pass
 * - standard deviation 2.7
 * - "h" and "v" parameters should be set to "1 / width" and "1 / height"
 */
var VerticalBlurShader = {
  uniforms: {
    "tDiffuse": {
      value: null
    },
    "v": {
      value: 1.0 / 512.0
    }
  },
  vertexShader: ["varying vec2 vUv;", "void main() {", "vUv = uv;", "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );", "}"].join("\n"),
  fragmentShader: ["uniform sampler2D tDiffuse;", "uniform float v;", "varying vec2 vUv;", "void main() {", "vec4 sum = vec4( 0.0 );", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;", "sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;", "gl_FragColor = sum;", "}"].join("\n")
};


/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/ambientAudio.ts":
/*!************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/ambientAudio.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var three_1 = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");

var gsap_1 = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");

var visibilityChangeService_1 = __webpack_require__(/*! ../services/visibilityChangeService */ "./Yoyo.Elevator.Ui/ts/services/visibilityChangeService.ts");

var TOGGLE_EL_CLASS = "audio-toggle";
var PLAYING_CLASS = TOGGLE_EL_CLASS + "--playing";

var AmbientAudio =
/** @class */
function () {
  function AmbientAudio(camera, autoStart) {
    if (camera == undefined) {
      console.error("Unable to add audio due to missing THREE.Camera");
      return;
    }

    this.autoStart = autoStart || false;
    this.isPlaying = false;
    this.volume = 0;
    this.camera = camera;
    this.audioToggleEl = document.querySelector("." + TOGGLE_EL_CLASS);
    this.listener = new three_1.AudioListener();
    this.camera.add(this.listener);
    this.audio = new three_1.Audio(this.listener);
    this.audio.autoplay = true;
    this.audioLoader = new three_1.AudioLoader();
    this.resumeContextAndInit = this.resumeContextAndInit.bind(this);
    this.handleAudioLoaded = this.handleAudioLoaded.bind(this);
    this.toggleAmbientAudio = this.toggleAmbientAudio.bind(this);

    if (this.autoStart === true) {
      if (this.listener.context.state === "running") {
        this.init();
      } else if (this.listener.context.state === "suspended") {
        document.addEventListener("click", this.resumeContextAndInit);
      }
    } else {
      this.init();
    }
  }

  AmbientAudio.prototype.init = function () {
    this.audio.setVolume(0.01);
    this.audioLoader.load('/assets/audio/ambient.mp3', this.handleAudioLoaded, null, function (err) {
      console.error("Unable to load ambient audio", err);
    });
  };

  AmbientAudio.prototype.changeAmbientVolume = function (newVolume) {
    var _this = this;

    return new Promise(function (resolve) {
      gsap_1.TweenLite.to(_this, .5, {
        volume: newVolume,
        onUpdate: function onUpdate() {
          _this.audio.setVolume(_this.volume);
        },
        onComplete: function onComplete() {
          resolve();
        }
      });
    });
  };

  AmbientAudio.prototype.toggleAmbientAudio = function (event) {
    if (event !== undefined) {
      event.stopPropagation();
    }

    if (this.audio.isPlaying === true) {
      this.pauseAudio();
    } else {
      this.playAudio();
    }

    return this.isPlaying;
  };

  AmbientAudio.prototype.playAudio = function () {
    this.audioToggleEl.classList.add(PLAYING_CLASS);
    this.audio.play();
    this.changeAmbientVolume(1);
    this.isPlaying = true;
    return this.isPlaying;
  };

  AmbientAudio.prototype.pauseAudio = function () {
    var _this = this;

    this.audioToggleEl.classList.remove(PLAYING_CLASS);
    this.changeAmbientVolume(0).then(function () {
      _this.audio.pause();

      _this.isPlaying = false;
    });
    return this.isPlaying;
  };

  AmbientAudio.prototype.resumeContextAndInit = function () {
    var _this = this;

    this.listener.context.resume().then(function () {
      _this.init();
    });
    document.removeEventListener("click", this.resumeContextAndInit);
  };

  AmbientAudio.prototype.handleAudioLoaded = function (buffer) {
    var _this = this;

    this.audio.setBuffer(buffer);
    this.audio.setLoop(true);
    this.audio.pause();

    if (this.autoStart === true) {
      this.audio.play();
      this.changeAmbientVolume(1);
      this.isPlaying = true;

      if (this.audioToggleEl !== null) {
        this.audioToggleEl.classList.add(PLAYING_CLASS);
      }
    }

    if (this.audioToggleEl !== null) {
      this.audioToggleEl.addEventListener("click", this.toggleAmbientAudio);
    }

    visibilityChangeService_1.default.add(function () {
      if (_this.isPlaying === true) {
        _this.audio.pause();
      }
    }, function () {
      if (_this.isPlaying === true) {
        _this.audio.play();
      }
    });
  };

  return AmbientAudio;
}();

exports.default = AmbientAudio;

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/shadow-fs.glsl":
/*!***********************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/shadow-fs.glsl ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#include <packing>\r\nvarying vec2 vUv;\nuniform sampler2D tDiffuse;\nuniform sampler2D tDepth;\nuniform float cameraNear;\nuniform float cameraFar;\nfloat readDepth(sampler2D depthSampler, vec2 coord) {\n\tfloat fragCoordZ = texture2D(depthSampler, coord).x;\n\tfloat viewZ = perspectiveDepthToViewZ(fragCoordZ, cameraNear, cameraFar);\n\treturn viewZToOrthographicDepth(viewZ, cameraNear, cameraFar);\n}\nvec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tfloat depth = 0.0;\n\tfloat gain = texture2D(image, uv).r;\n\tvec2 off1 = vec2(1.0 - gain) * direction;\n\tdepth += (texture2D(image, uv).r * 0.35294117647058826);\n\tdepth += (texture2D(image, vec2(uv.x, uv.y + (gain * 0.01))).r * 0.35294117647058826);\n\tdepth += (texture2D(image, vec2(uv.x, uv.y + (gain * 0.023))).r * 0.29411764705882354);\n\tvec4 color = vec4(0, 0, 0, 1.0 - depth);\n\treturn color;\n}\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n\tvec4 color = vec4(0.0);\n\tvec2 off1 = vec2(1.3846153846) * direction;\n\tvec2 off2 = vec2(3.2307692308) * direction;\n\tcolor += (texture2D(image, uv) * 0.2270270270);\n\tcolor += (texture2D(image, uv + (off1 / resolution)) * 0.3162162162);\n\tcolor += (texture2D(image, uv - (off1 / resolution)) * 0.3162162162);\n\tcolor += (texture2D(image, uv + (off2 / resolution)) * 0.0702702703);\n\tcolor += (texture2D(image, uv - (off2 / resolution)) * 0.0702702703);\n\treturn color;\n}\nvec4 blurX(sampler2D texture, vec2 uv) {\n\tvec4 sum = vec4(0.0);\n\tfloat s = 1.0 - texture2D(texture, uv).r;\n\tsum += (texture2D(texture, vec2(uv.x - (4.0 * s), uv.y)) * 0.051);\n\tsum += (texture2D(texture, vec2(uv.x - (3.0 * s), uv.y)) * 0.0918);\n\tsum += (texture2D(texture, vec2(uv.x - (2.0 * s), uv.y)) * 0.12245);\n\tsum += (texture2D(texture, vec2(uv.x - (1.0 * s), uv.y)) * 0.1531);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y)) * 0.1633);\n\tsum += (texture2D(texture, vec2(uv.x + (1.0 * s), uv.y)) * 0.1531);\n\tsum += (texture2D(texture, vec2(uv.x + (2.0 * s), uv.y)) * 0.12245);\n\tsum += (texture2D(texture, vec2(uv.x + (3.0 * s), uv.y)) * 0.0918);\n\tsum += (texture2D(texture, vec2(uv.x + (4.0 * s), uv.y)) * 0.051);\n\treturn sum * .667;\n}\nvec4 blurY(sampler2D texture, vec2 uv, float s) {\n\tvec4 sum = vec4(0.0);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y - (4.0 * s))) * 0.051);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y - (3.0 * s))) * 0.0918);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y - (2.0 * s))) * 0.12245);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y - (1.0 * s))) * 0.1531);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y)) * 0.1633);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y + (1.0 * s))) * 0.1531);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y + (2.0 * s))) * 0.12245);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y + (3.0 * s))) * 0.0918);\n\tsum += (texture2D(texture, vec2(uv.x, uv.y + (4.0 * s))) * 0.051);\n\treturn sum * .667;\n}\nvoid main() {\n\tvec4 diffuse = texture2D(tDiffuse, vUv);\n\tfloat depth = texture2D(tDepth, vUv).r;\n\tgl_FragColor = vec4(0, 0, 0, 1.0 - depth);\n\tgl_FragColor.a *= 0.3;\n}\n"

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/shadow-vs.glsl":
/*!***********************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/shadow-vs.glsl ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "varying vec2 vUv;\nvoid main() {\n\tvUv = uv;\n\tgl_Position = (projectionMatrix * modelViewMatrix) * vec4(position, 1.0);\n}\n"

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/stats.min.js":
/*!*********************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/stats.min.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

// stats.js - http://github.com/mrdoob/stats.js
(function (f, e) {
  "object" === ( false ? undefined : _typeof(exports)) && "undefined" !== typeof module ? module.exports = e() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (e),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;
})(this, function () {
  var f = function f() {
    function e(a) {
      c.appendChild(a.dom);
      return a;
    }

    function u(a) {
      for (var d = 0; d < c.children.length; d++) {
        c.children[d].style.display = d === a ? "block" : "none";
      }

      l = a;
    }

    var l = 0,
        c = document.createElement("div");
    c.style.cssText = "position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";
    c.addEventListener("click", function (a) {
      a.preventDefault();
      u(++l % c.children.length);
    }, !1);
    var k = (performance || Date).now(),
        g = k,
        a = 0,
        r = e(new f.Panel("FPS", "#0ff", "#002")),
        h = e(new f.Panel("MS", "#0f0", "#020"));
    if (self.performance && self.performance.memory) var t = e(new f.Panel("MB", "#f08", "#201"));
    u(0);
    return {
      REVISION: 16,
      dom: c,
      addPanel: e,
      showPanel: u,
      begin: function begin() {
        k = (performance || Date).now();
      },
      end: function end() {
        a++;
        var c = (performance || Date).now();
        h.update(c - k, 200);

        if (c >= g + 1E3 && (r.update(1E3 * a / (c - g), 100), g = c, a = 0, t)) {
          var d = performance.memory;
          t.update(d.usedJSHeapSize / 1048576, d.jsHeapSizeLimit / 1048576);
        }

        return c;
      },
      update: function update() {
        k = this.end();
      },
      domElement: c,
      setMode: u
    };
  };

  f.Panel = function (e, f, l) {
    var c = Infinity,
        k = 0,
        g = Math.round,
        a = g(window.devicePixelRatio || 1),
        r = 80 * a,
        h = 48 * a,
        t = 3 * a,
        v = 2 * a,
        d = 3 * a,
        m = 15 * a,
        n = 74 * a,
        p = 30 * a,
        q = document.createElement("canvas");
    q.width = r;
    q.height = h;
    q.style.cssText = "width:80px;height:48px";
    var b = q.getContext("2d");
    b.font = "bold " + 9 * a + "px Helvetica,Arial,sans-serif";
    b.textBaseline = "top";
    b.fillStyle = l;
    b.fillRect(0, 0, r, h);
    b.fillStyle = f;
    b.fillText(e, t, v);
    b.fillRect(d, m, n, p);
    b.fillStyle = l;
    b.globalAlpha = .9;
    b.fillRect(d, m, n, p);
    return {
      dom: q,
      update: function update(h, w) {
        c = Math.min(c, h);
        k = Math.max(k, h);
        b.fillStyle = l;
        b.globalAlpha = 1;
        b.fillRect(0, 0, r, m);
        b.fillStyle = f;
        b.fillText(g(h) + " " + e + " (" + g(c) + "-" + g(k) + ")", t, v);
        b.drawImage(q, d + a, m, n - a, p, d, m, n - a, p);
        b.fillRect(d + n - a, m, a, p);
        b.fillStyle = l;
        b.globalAlpha = .9;
        b.fillRect(d + n - a, m, a, g((1 - h / w) * p));
      }
    };
  };

  return f;
});

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/3d/utils.js":
/*!*****************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/3d/utils.js ***!
  \*****************************************/
/*! exports provided: random, calculateDistance, preload, PromiseAll, trueAlpha, normal, newCanvas, MaskedCanvas, radian, radialGradientTexture, randomSign, isTouchDevice */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "random", function() { return random; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateDistance", function() { return calculateDistance; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "preload", function() { return preload; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PromiseAll", function() { return PromiseAll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "trueAlpha", function() { return trueAlpha; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normal", function() { return normal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "newCanvas", function() { return newCanvas; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MaskedCanvas", function() { return MaskedCanvas; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "radian", function() { return radian; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "radialGradientTexture", function() { return radialGradientTexture; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomSign", function() { return randomSign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTouchDevice", function() { return isTouchDevice; });
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/*
 * File Created: Monday, 3rd September 2018 11:42:26 am
 * Author: Artihovich Kirill (k_artikhovich@wargaming.net)
 * -----
 * Last Modified: Tuesday, 29th January 2019 12:48:20 pm
 * Modified By: Sergienya Alexey (a_sergienya2@wargaming.net)
 * -----
 * Copyright 2018 ALL RIGHTS RESERVED, Wargaming
 */

/**
 * Creates random number from min to max
 * @param  {Number} min
 * @param  {Number} max
 */
var random = function random(min, max) {
  return Math.random() * (max - min) + min;
};
var calculateDistance = function calculateDistance(p1x, p1y, p2x, p2y) {
  var xDistance = p1x - p2x;
  var yDistance = p1y - p2y;
  return Math.sqrt(xDistance * xDistance + yDistance * yDistance);
};
/* eslint no-restricted-syntax: ["error", "FunctionExpression", "WithStatement", "BinaryExpression[operator='in']"] */

/**
 * Gets all values from object
 * @param  {Object} object with key-value, and nested key-value objects
 * @example
 * // returns ['key1', 'key2', 'key3'];
 * callGetAllValues({
 *  shot: 'key1',
 *   shot1: {
 *     shot2: 'key2',
 *     shot3: {
 *      shot4: 'key3',
 *    },
 *   },
 * });
 * @returns {Array}
 * Returns array of string values;
 */

var callGetAllValues = function callGetAllValues(object1) {
  var result = [];

  var getAllValues = function getAllValues(object) {
    for (var key in object) {
      if (Object.prototype.hasOwnProperty.call(object, key)) {
        if (typeof object[key] === 'string') {
          result.push(object[key]);
        } else if (_typeof(object[key]) === 'object') {
          getAllValues(object[key]);
        }
      }
    }
  };

  getAllValues(object1);
  return result;
};
/**
 * @typedef {Object} PreloadResult
 * @property {Image} image itself
 * @property {String} url of image
 */

/**
 * Preloads image and resolves a Promise with results
 * @param  {String} url
 * @returns {Promise<PreloadResult>} Promise object image itself and it's url
 */


var preloadImage = function preloadImage(url, key) {
  return new Promise(function (resolve, reject) {
    var image = new Image();
    image.src = url;

    image.onload = function () {
      return resolve({
        image: image,
        url: url,
        key: key
      });
    };

    image.onerror = function () {
      return reject();
    };
  });
};
/**
 * Preloads image and resolves a Promise with results
 * @param  {[String]} images array url
 * @returns {Promise<[PreloadResult]>} Array of objects - image itself and it's url
 */


var loadImages = function loadImages(images) {
  return Promise.all(images.map(function (image) {
    return preloadImage(image.image, image.key);
  }));
};
/**
 * Preloads all images from current banner set and resolves a Promise with results
 * @returns {Promise<[PreloadResult]>} Array of objects - image itself and it's url
 */


var preload = function preload(shapes) {
  var allShapes = Object.keys(shapes).map(function (itm) {
    return shapes[itm];
  }).map(function (shape, index) {
    return {
      image: shape,
      key: Object.keys(shapes)[index]
    };
  });
  return loadImages(allShapes);
};
/**
 * runs all promises, and return results even someting throw an error
 * @param {[Promise]} arrray of promises
 * @returns {[Result]} array of reults, don't forget to check if result is instance of Error
 */

var PromiseAll = function PromiseAll(promises) {
  return new Promise(function (resolve) {
    var results = [];
    var count = 0;
    promises.forEach(function (promise, idx) {
      promise.catch(function (err) {
        return err;
      }).then(function (valueOrError) {
        results[idx] = valueOrError;
        count += 1;
        if (count === promises.length) resolve(results);
      });
    });
  });
};
/**
 * merges two objects in one, usefull for options in functions
 * @param {Object} current
 * @param {Object} update
 * @returns {Object} changed original current
 */

function callMerge(current, update) {
  Object.keys(update).forEach(function (key) {
    // if update[key] exist, and it's not a string or array,
    // we go in one level deeper
    if (Object.prototype.hasOwnProperty.call(current, key) && _typeof(current[key]) === 'object' && !(current[key] instanceof Array)) {
      callMerge(current[key], update[key]); // if update[key] doesn't exist in current, or it's a string
      // or array, then assign/overwrite current[key] to update[key]
    } else {
      current[key] = update[key];
    }
  });
  return current;
}
/**
 * merges two objects in one, usefull for options in functions
 * @param {Object} current
 * @param {Object} update
 * @returns {Object} new Object
 */
// Commented out due to breaking JS in IE 11 & Edge
// export function merge(current, update) {
// 	console.log("HI", current, update)
//   const first = { ...current };
//   const second = { ...update };
//   return callMerge(first, second);
// }


function trueAlpha(alpha) {
  if (alpha > 1) {
    return 1;
  }

  if (alpha < 0) {
    return 0;
  }

  return Math.round(alpha * 100) / 100;
}
function normal(x) {
  if (x > 1) {
    return 1;
  }

  if (x < 0) {
    return 0;
  }

  return x;
}
function newCanvas(width, height) {
  var canvas = document.createElement('CANVAS');
  canvas.width = width;
  canvas.height = height;
  return canvas;
}
function MaskedCanvas(img, mask) {
  var canvas = newCanvas(img.width, img.height);
  var ctx = canvas.getContext('2d');
  ctx.drawImage(mask, 0, 0);
  ctx.globalCompositeOperation = 'source-in';
  ctx.drawImage(img, 0, 0);
  return canvas;
}
function radian(a) {
  return a * Math.PI / 180;
}
function radialGradientTexture(_ref) {
  var _ref$size = _ref.size,
      size = _ref$size === void 0 ? 256 : _ref$size,
      _ref$r = _ref.r1,
      r1 = _ref$r === void 0 ? 0 : _ref$r,
      _ref$r2 = _ref.r2,
      r2 = _ref$r2 === void 0 ? 1 : _ref$r2,
      fillColors = _ref.fillColors,
      fillRatios = _ref.fillRatios;
  var canvas = document.createElement('canvas');
  canvas.width = size;
  canvas.height = size;
  var context = canvas.getContext('2d'); // draw gradient

  context.rect(0, 0, size, size);
  var gradient = context.createRadialGradient(size / 2, size / 2, size / 2 * r1, size / 2, size / 2, size / 2 * r2);

  for (var i = 0; i < fillRatios.length; i++) {
    gradient.addColorStop(fillRatios[i], fillColors[i]);
  } // ..gradient.addColorStop(fillRatios, ...fillColor); // light blue
  // gradient.addColorStop(1, '#e2e4e5'); // dark blue


  context.fillStyle = gradient;
  context.fill();
  return canvas;
}
function randomSign() {
  if (Math.random() < 0.5) {
    return -1;
  }

  return 1;
}
function isTouchDevice() {
  var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');

  var mq = function mq(query) {
    return window.matchMedia(query).matches;
  };

  if ('ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch) {
    return true;
  } // include the 'heartz' as a way to have a non matching MQ to help terminate the join
  // https://git.io/vznFH


  var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');
  return mq(query);
}
/*
export function loadImages(imagesToBeLoaded, drawCallback) {
  var imagesLoaded = {};
  var loadedImages = 0;
  var numberOfImagesToLoad = 0;
  var images = {};
  //
  for (var name in imagesToBeLoaded) {
    numberOfImagesToLoad++;
  }

  for (var name in imagesToBeLoaded) {
    images[name] = new window.Image();
    // this.images[name].crossOrigin='Anonymous';
    images[name].src = imagesToBeLoaded[name];
    images[name].onload = () => {
      if (++loadedImages >= numberOfImagesToLoad) {
        drawCallback(images);
      }
    };
  }
} */

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/classes/exploreMemory.ts":
/*!******************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/classes/exploreMemory.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var ExploreMemory =
/** @class */
function () {
  function ExploreMemory(exploreLink) {
    if (exploreLink == null) {
      return;
    }

    this.element = exploreLink;
    this.href = exploreLink.href;
    var nameEl = exploreLink.querySelector(".js-name");
    this.name = nameEl && nameEl.innerText;
    var descriptionEl = exploreLink.querySelector(".js-description");
    this.years = descriptionEl && descriptionEl.innerText;
  }

  return ExploreMemory;
}();

exports.default = ExploreMemory;

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/constants/mediaQueries.ts":
/*!*******************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/constants/mediaQueries.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.MEDIA_QUERIES = {
  mobile: "(max-width: 767px)",
  aboveMobile: "(min-width: 768px)",
  desktop: "(min-width: 1025px)",
  tablet: "(max-width: 1023px) and (min-width: 768px)",
  preferesReducedMotion: "(prefers-reduced-motion: reduce)"
};

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/constants/pageTypes.ts":
/*!****************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/constants/pageTypes.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PAGE_TYPES = {
  home: "home",
  explore: "explore",
  tribute: "tribute",
  default: "default"
};

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/petals.ts":
/*!***************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/petals.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var pjaxService_1 = __webpack_require__(/*! ./services/pjaxService */ "./Yoyo.Elevator.Ui/ts/services/pjaxService.ts");

var pageTypes_1 = __webpack_require__(/*! ./constants/pageTypes */ "./Yoyo.Elevator.Ui/ts/constants/pageTypes.ts");

var exploreMemory_1 = __webpack_require__(/*! ./classes/exploreMemory */ "./Yoyo.Elevator.Ui/ts/classes/exploreMemory.ts");

var getCurrentPage_1 = __webpack_require__(/*! ./utils/getCurrentPage */ "./Yoyo.Elevator.Ui/ts/utils/getCurrentPage.ts");

var querySelectorAll_1 = __webpack_require__(/*! ./utils/querySelectorAll */ "./Yoyo.Elevator.Ui/ts/utils/querySelectorAll.ts");

var Main_js_1 = __webpack_require__(/*! ./3d/Main.js */ "./Yoyo.Elevator.Ui/ts/3d/Main.js");

var gsap_1 = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");

(function () {
  var petals3d = null;
  var petalsConfig = {
    memAmount: 0,
    text_memoryadded: "Memories added",
    text_storyto: "Stories to",
    playIntro: true,
    calltoaction_text_mobile: "Scroll and choose a petal to explore",
    calltoaction_text_desktop: "Scroll and choose a petal to explore",
    // memories: { id1: { name: "TEST", years: "1926-2019" }, id2: { name: "TEST2", years: "1926-2019" }, id3: { name: "TEST3", years: "1926-2019" } }
    memories: {},
    disableAudio: false
  };
  var currentPage = getCurrentPage_1.default();
  var diasableStopRender = false;

  switch (currentPage) {
    case pageTypes_1.PAGE_TYPES.home:
      petalsConfig.memAmount = getMemAmount();
      break;

    case pageTypes_1.PAGE_TYPES.explore:
      petalsConfig.memories = getExploreList();
      petalsConfig.playIntro = false;
      petalsConfig.autoPlayAudio = true;
      break;

    default:
      break;
  }

  var petalsEl = createPetalsElement();
  addPetalsElement(petalsEl).then(function () {
    petals3d = new Main_js_1.default(petalsConfig);
    pjaxService_1.default.addToContentReplacedEvents(handleContentReplacedEvent);
    window.addEventListener("show-memory", function (event) {
      if (event.detail !== undefined && event.detail.id !== undefined) {
        var exploreMemory_2 = petals3d.memories[event.detail.id];
        petals3d.hideAllPetals().then(function () {
          exploreMemory_2.element.click();
        });
      }
    }, false);
  });

  function createPetalsElement() {
    var petals = document.createElement("div");
    petals.classList.add("canvas3d");
    petals.innerHTML = "\n\t\t\t<canvas class=\"canvas3d__canvas\" width=\"300\" height=\"300\" id=\"canvas3d\"></canvas>\n\n\t\t\t<svg class=\"canvas3d__line-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" class=\"features__img\">\n\t\t\t\t<line id=\"line-svg\" x1=\"0\" y1=\"80\" x2=\"100\" y2=\"20\" stroke=\"#8E8777\" stroke-opacity=\"0\" stroke-width=\"1.4\" />\n\t\t\t</svg>\n\n\t\t\t<div class=\"popup\" id=\"popup\">\n\t\t\t\t<h3 class=\"popup__name\" popup__name=\"Eileen Lawrence\" id=\"popup__name\">Name 166</h3>\n\t\t\t\t<p class=\"popup__years\" popup__years=\"18th Dec 1934 - 10th Apr 2018\" id=\"popup__years\">18th Dec 1934 - 10th Apr 2018</p>\n\t\t\t\t<p popup__calltoaction=\"Tap to view more\" class=\"popup__calltoaction\" id=\"popup__calltoaction\">Tap to view more</p>\n\t\t\t</div>\n\n\t\t\t<div class=\"canvas3d__prompt\" id=\"calltoaction\">Swipe & tap a petal to explore</div>\n\t\t";
    return petals;
  }

  function addPetalsElement(element) {
    return new Promise(function (resolve) {
      var mutationConfig = {
        attributes: false,
        childList: true,
        subtree: false
      };

      var mutationCallback = function mutationCallback(mutationsList, observer) {
        for (var _i = 0, mutationsList_1 = mutationsList; _i < mutationsList_1.length; _i++) {
          var mutation = mutationsList_1[_i];

          if (mutation.type === "childList") {
            for (var i = 0; i < mutation.addedNodes.length; i++) {
              var node = mutation.addedNodes[i];

              if (node === element) {
                observer.disconnect();
                resolve();
              }
            }
          }
        }
      }; // Create an observer instance linked to the callback function


      var observer = new MutationObserver(mutationCallback); // Start observing the target node for configured mutations

      observer.observe(document.body, mutationConfig);
      document.body.appendChild(element);
    });
  }

  function getExploreList() {
    var exploreList = {};
    var exploreLinks = querySelectorAll_1.default(".js-link");
    exploreLinks.forEach(function (link, index) {
      exploreList["id" + index] = new exploreMemory_1.default(link);
    });
    return exploreList;
  }

  function getMemAmount() {
    var attr = "data-petals-mem-amount";
    var el = document.querySelector("[" + attr + "]");
    var count = Number(el && el.getAttribute(attr));
    return count || 0;
  }

  function handleContentReplacedEvent() {
    currentPage = getCurrentPage_1.default();

    switch (currentPage) {
      case pageTypes_1.PAGE_TYPES.home:
        diasableStopRender = true;
        gsap_1.TweenMax.ticker.removeEventListener("tick", stopRender);
        var petalsHero = document.querySelector(".petals-hero");
        petals3d.heroEl = petalsHero;
        petals3d.options.memAmount = getMemAmount();
        petals3d.startRender();
        petals3d.exploreToIntro();
        break;

      case pageTypes_1.PAGE_TYPES.explore:
        diasableStopRender = true;
        gsap_1.TweenMax.ticker.removeEventListener("tick", stopRender);
        petals3d.startRender();
        petals3d.memories = getExploreList();
        petals3d.startExplore();
        break;

      case pageTypes_1.PAGE_TYPES.default:
      case pageTypes_1.PAGE_TYPES.tribute:
      default:
        petals3d.hideAllPetals().then(function () {
          gsap_1.TweenMax.ticker.addEventListener("tick", stopRender);
        });
        break;
    }
  }

  function stopRender() {
    if (diasableStopRender === true) {
      gsap_1.TweenMax.ticker.removeEventListener("tick", stopRender);
    }

    var allTweens = gsap_1.TweenMax.getAllTweens();
    var isTweening = false;
    allTweens.forEach(function (tween) {
      if (tween.isActive() === false) {
        isTweening = true;
      }
    });

    if (isTweening === false) {
      gsap_1.TweenMax.ticker.removeEventListener("tick", stopRender);
      petals3d.stopRender();
    }
  }
})();

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/services/pjaxService.ts":
/*!*****************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/services/pjaxService.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var removeFromArray_1 = __webpack_require__(/*! ../utils/removeFromArray */ "./Yoyo.Elevator.Ui/ts/utils/removeFromArray.ts");

var callbackUtils_1 = __webpack_require__(/*! ../utils/callbackUtils */ "./Yoyo.Elevator.Ui/ts/utils/callbackUtils.ts");

var PjaxService =
/** @class */
function () {
  function PjaxService() {
    var animationOutDoneCallbacks = [];
    var animationOutStartCallbacks = [];
    var clickLinkCallbacks = [];
    var pageViewCallbacks = [];
    var contentReplacedCallbacks = [];
    var swupAnimationSkipped = false;
    var pjaxEnabled = false;
    document.addEventListener("swup:clickLink", handleClickLinkEvent);
    document.addEventListener("swup:animationSkipped", handleAnimationSkippedEvent);
    document.addEventListener("swup:pageView", handlePageViewEvent);
    document.addEventListener("swup:contentReplaced", handleContentReplacedEvent);
    document.addEventListener("swup:animationOutStart", handleAnimationOutStartEvent);
    document.addEventListener("swup:animationOutDone", handleAnimationOutDoneEvent);

    this.skipAnimation = function () {
      return pjaxEnabled === true && swupAnimationSkipped === false; // Only skip animation if swup animation was present;
    };
    /**
     *  Add / Remove Animation Out Done Events
     */


    this.addToAnimationOutDoneEvents = function (callback) {
      addCallback(callback, animationOutDoneCallbacks);
    };

    this.removeFromAnimationOutDoneEvents = function (callback) {
      animationOutDoneCallbacks = removeFromArray_1.default(animationOutDoneCallbacks, callback);
    };
    /**
     *  Add / Remove Animation Out Start Events
     */


    this.addToAnimationOutStartEvents = function (callback) {
      addCallback(callback, animationOutStartCallbacks);
    };

    this.removeFromAnimationOutStartEvents = function (callback) {
      animationOutStartCallbacks = removeFromArray_1.default(animationOutStartCallbacks, callback);
    };
    /**
     *  Add / Remove Click Link Events
     */


    this.addToClickLinkEvents = function (callback) {
      addCallback(callback, clickLinkCallbacks);
    };

    this.removeFromClickLinkEvents = function (callback) {
      clickLinkCallbacks = removeFromArray_1.default(clickLinkCallbacks, callback);
    };
    /**
     *  Add / Remove Page View Events
     */


    this.addToPageViewEvents = function (callback) {
      addCallback(callback, pageViewCallbacks);
    };

    this.removeFromPageViewEvents = function (callback) {
      pageViewCallbacks = removeFromArray_1.default(pageViewCallbacks, callback);
    };
    /**
     *  Add / Remove Content Replaces Events
     */


    this.addToContentReplacedEvents = function (callback) {
      addCallback(callback, contentReplacedCallbacks);
    };

    this.removeFromContentReplacedEvents = function (callback) {
      contentReplacedCallbacks = removeFromArray_1.default(contentReplacedCallbacks, callback);
    };
    /**
     *  Methods for handling different swup events
     */


    function handleClickLinkEvent(event) {
      callbackUtils_1.runCallbacks(clickLinkCallbacks, event);
    }

    function handleAnimationOutStartEvent(event) {
      pjaxEnabled = true;
      callbackUtils_1.runCallbacks(animationOutStartCallbacks, event);
    }

    function handleAnimationOutDoneEvent(event) {
      callbackUtils_1.runCallbacks(animationOutDoneCallbacks, event);
    }

    function handleAnimationSkippedEvent() {
      swupAnimationSkipped = true;
    }

    ;

    function handlePageViewEvent(event) {
      callbackUtils_1.runCallbacks(pageViewCallbacks, event);
    }

    function handleContentReplacedEvent(event) {
      callbackUtils_1.runCallbacks(contentReplacedCallbacks, event);

      if (swupAnimationSkipped === true) {
        swupAnimationSkipped = false;
      }
    }

    ;

    function addCallback(callback, callbackArray) {
      if (callback && callbackArray.indexOf(callback) === -1) {
        return callbackArray.push(callback);
      }
    }

    ;
  }

  return PjaxService;
}();

var pjaxService = new PjaxService();
exports.default = pjaxService;

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/services/resizeService.ts":
/*!*******************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/services/resizeService.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
}); // https://developer.mozilla.org/en-US/docs/Web/Events/resize

var mediaQueries_1 = __webpack_require__(/*! ../constants/mediaQueries */ "./Yoyo.Elevator.Ui/ts/constants/mediaQueries.ts");

var removeFromArray_1 = __webpack_require__(/*! ../utils/removeFromArray */ "./Yoyo.Elevator.Ui/ts/utils/removeFromArray.ts");

var ResizeService =
/** @class */
function () {
  function ResizeService() {
    var callbacks = [];
    var width = window.innerWidth;
    var height = window.innerHeight;
    var resizeComplete;

    this.add = function (callback) {
      if (!callbacks.length) {
        window.addEventListener('orientationchange', resize);
        window.addEventListener('resize', resize);
      }

      addCallback(callback);
    };

    this.remove = function (callback) {
      callbacks = removeFromArray_1.default(callbacks, callback);

      if (!callbacks.length) {
        window.removeEventListener('orientationchange', resize);
        window.removeEventListener('resize', resize);
      }
    };

    this.isMobile = function () {
      return matchMedia(mediaQueries_1.MEDIA_QUERIES.mobile).matches === true;
    };

    this.isAboveMobile = function () {
      return matchMedia(mediaQueries_1.MEDIA_QUERIES.aboveMobile).matches === true;
    };

    this.isDesktop = function () {
      return matchMedia(mediaQueries_1.MEDIA_QUERIES.desktop).matches === true;
    };

    this.isTablet = function () {
      return matchMedia(mediaQueries_1.MEDIA_QUERIES.tablet).matches === true;
    }; // fired on resize event


    function resize() {
      clearTimeout(resizeComplete);
      resizeComplete = setTimeout(function () {
        if (window.requestAnimationFrame) {
          window.requestAnimationFrame(runCallbacks);
        } else {
          setTimeout(runCallbacks, 66);
        }
      }, 250);
    } // run the actual callbacks


    function runCallbacks() {
      // Only run on width changes or if height change is greater than 150px
      if (window.innerWidth != width || window.innerHeight != height) {
        width = window.innerWidth;
        height = window.innerHeight;
        callbacks.forEach(function (callback) {
          callback();
        });
      }
    } // adds callback to loop


    function addCallback(callback) {
      if (callback && callbacks.indexOf(callback) === -1) {
        callbacks.push(callback);
      }
    }
  }

  return ResizeService;
}();

var resizeService = new ResizeService();
exports.default = resizeService;

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/services/visibilityChangeService.ts":
/*!*****************************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/services/visibilityChangeService.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var VisibilityChangeService =
/** @class */
function () {
  function VisibilityChangeService() {
    var _isHidden;

    var visibilityChange;
    var visibleCallbacks = [];
    var hiddenCallbacks = [];
    setHidden();

    if (typeof document.hidden !== "undefined") {
      // Opera 12.10 and Firefox 18 and later support
      visibilityChange = "visibilitychange";
    } else if (typeof document.msHidden !== "undefined") {
      visibilityChange = "msvisibilitychange";
    } else if (typeof document.webkitHidden !== "undefined") {
      visibilityChange = "webkitvisibilitychange";
    }

    this.add = function (hiddenCallback, visibleCallback) {
      if (!hiddenCallbacks.length || !visibleCallbacks.length) {
        window.addEventListener(visibilityChange, visibilityChangeEvent, false);
      }

      addCallback(hiddenCallback, visibleCallback);
    };

    this.isHidden = function () {
      return _isHidden();
    };

    function visibilityChangeEvent(e) {
      runCallbacks(e);
    } // run the actual callbacks


    function runCallbacks(e) {
      if (_isHidden()) {
        hiddenCallbacks.forEach(function (callback) {
          callback(e);
        });
      } else {
        visibleCallbacks.forEach(function (callback) {
          callback(e);
        });
      }
    } // adds callback to loop


    function addCallback(hiddenCallback, visibleCallback) {
      if (hiddenCallback) {
        hiddenCallbacks.push(hiddenCallback);
      }

      if (visibleCallback) {
        visibleCallbacks.push(visibleCallback);
      }
    } // Set isHidden function depending on browser support


    function setHidden() {
      if (typeof document.hidden !== "undefined") {
        // Opera 12.10 and Firefox 18 and later support
        _isHidden = function _isHidden() {
          return document.hidden;
        };
      } else if (typeof document.msHidden !== "undefined") {
        _isHidden = function _isHidden() {
          return document.msHidden;
        };
      } else if (typeof document.webkitHidden !== "undefined") {
        _isHidden = function _isHidden() {
          return document.webkitHidden;
        };
      } else {
        _isHidden = function _isHidden() {
          return false;
        };
      }
    }
  }

  return VisibilityChangeService;
}();

;
var visibilityChangeService = new VisibilityChangeService();
exports.default = visibilityChangeService;

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/utils/callbackUtils.ts":
/*!****************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/utils/callbackUtils.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

function runCallbacks(callbackArray, event) {
  var callbacks = callbackArray.slice();
  callbacks.forEach(function (callback) {
    callback(event);
  });
}

exports.runCallbacks = runCallbacks;

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/utils/getCurrentPage.ts":
/*!*****************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/utils/getCurrentPage.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var pageTypes_1 = __webpack_require__(/*! ../constants/pageTypes */ "./Yoyo.Elevator.Ui/ts/constants/pageTypes.ts");
/**
 * Returns either "home", "explore" or "default" depending on the current page. (uses the body class)
 *
 * @export
 * @returns {string}
 */


function getCurrentPage() {
  var bodyClasses = document.body.classList;

  if (bodyClasses.contains("home-page")) {
    return pageTypes_1.PAGE_TYPES.home;
  } else if (bodyClasses.contains("explore-page")) {
    return pageTypes_1.PAGE_TYPES.explore;
  } else {
    return pageTypes_1.PAGE_TYPES.default;
  }
}

exports.default = getCurrentPage;

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/utils/querySelectorAll.ts":
/*!*******************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/utils/querySelectorAll.ts ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/**
 * Returns result of querySelectorAll as an array.
 *
 * @param {string} selectors
 * @param {Document|Element} el [document]
 * @return {Element[]}
 */

function querySelectorAll(selectors, el) {
  if (el === void 0) {
    el = window.document;
  }

  var result = el.querySelectorAll(selectors);
  return Array.prototype.slice.call(result);
}

exports.default = querySelectorAll;

/***/ }),

/***/ "./Yoyo.Elevator.Ui/ts/utils/removeFromArray.ts":
/*!******************************************************!*\
  !*** ./Yoyo.Elevator.Ui/ts/utils/removeFromArray.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
/**
 * Removes item from array if it exists
 *
 * @export
 * @param {any[]} array
 * @param {*} item
 * @returns {any[]}
 */

function removeFromArray(array, item) {
  // copy array before modifying to ensure it doesn't change
  var origArray = array.slice(0);
  var index = origArray.indexOf(item);

  if (index > -1) {
    origArray.splice(index, 1);
  }

  return origArray;
}

exports.default = removeFromArray;

/***/ })

/******/ });
//# sourceMappingURL=petals.js.map