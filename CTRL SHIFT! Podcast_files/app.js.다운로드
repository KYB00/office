(()=>{var J=Object.create;var B=Object.defineProperty;var ee=Object.getOwnPropertyDescriptor;var te=Object.getOwnPropertyNames;var re=Object.getPrototypeOf,ne=Object.prototype.hasOwnProperty;var ie=(_,t,o)=>t in _?B(_,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):_[t]=o;var U=(_,t)=>()=>(t||_((t={exports:{}}).exports,t),t.exports);var se=(_,t,o,l)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of te(t))!ne.call(_,i)&&i!==o&&B(_,i,{get:()=>t[i],enumerable:!(l=ee(t,i))||l.enumerable});return _};var X=(_,t,o)=>(o=_!=null?J(re(_)):{},se(t||!_||!_.__esModule?B(o,"default",{value:_,enumerable:!0}):o,_));var y=(_,t,o)=>(ie(_,typeof t!="symbol"?t+"":t,o),o);var W=U((D,V)=>{(function(_,t,o){"use strict";var l=function(n,s,d){d=i.extend({},i.options,d);var h=i.runValidations(n,s,d),m,e;if(h.some(function(r){return i.isPromise(r.error)}))throw new Error("Use validate.async if you want support for promises");return l.processValidationResults(h,d)},i=l;i.extend=function(n){return[].slice.call(arguments,1).forEach(function(s){for(var d in s)n[d]=s[d]}),n},i.extend(l,{version:{major:0,minor:13,patch:1,metadata:null,toString:function(){var n=i.format("%{major}.%{minor}.%{patch}",i.version);return i.isEmpty(i.version.metadata)||(n+="+"+i.version.metadata),n}},Promise:typeof Promise<"u"?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(n,s,d){var h=[],m,e,r,a,u,c,p;(i.isDomElement(n)||i.isJqueryElement(n))&&(n=i.collectFormValues(n));for(m in s){r=i.getDeepObjectValue(n,m),a=i.result(s[m],r,n,m,d,s);for(e in a){if(u=i.validators[e],!u)throw p=i.format("Unknown validator %{name}",{name:e}),new Error(p);c=a[e],c=i.result(c,r,n,m,d,s),c&&h.push({attribute:m,value:r,validator:e,globalOptions:d,attributes:n,options:c,error:u.call(u,r,c,m,n,d)})}}return h},processValidationResults:function(n,s){n=i.pruneEmptyErrors(n,s),n=i.expandMultipleErrors(n,s),n=i.convertErrorMessages(n,s);var d=s.format||"grouped";if(typeof i.formatters[d]=="function")n=i.formatters[d](n);else throw new Error(i.format("Unknown format %{format}",s));return i.isEmpty(n)?void 0:n},async:function(n,s,d){d=i.extend({},i.async.options,d);var h=d.wrapErrors||function(e){return e};d.cleanAttributes!==!1&&(n=i.cleanAttributes(n,s));var m=i.runValidations(n,s,d);return new i.Promise(function(e,r){i.waitForResults(m).then(function(){var a=i.processValidationResults(m,d);a?r(new h(a,d,n,s)):e(n)},function(a){r(a)})})},single:function(n,s,d){return d=i.extend({},i.single.options,d,{format:"flat",fullMessages:!1}),i({single:n},{single:s},d)},waitForResults:function(n){return n.reduce(function(s,d){return i.isPromise(d.error)?s.then(function(){return d.error.then(function(h){d.error=h||null})}):s},new i.Promise(function(s){s()}))},result:function(n){var s=[].slice.call(arguments,1);return typeof n=="function"&&(n=n.apply(null,s)),n},isNumber:function(n){return typeof n=="number"&&!isNaN(n)},isFunction:function(n){return typeof n=="function"},isInteger:function(n){return i.isNumber(n)&&n%1===0},isBoolean:function(n){return typeof n=="boolean"},isObject:function(n){return n===Object(n)},isDate:function(n){return n instanceof Date},isDefined:function(n){return n!=null},isPromise:function(n){return!!n&&i.isFunction(n.then)},isJqueryElement:function(n){return n&&i.isString(n.jquery)},isDomElement:function(n){return!n||!n.querySelectorAll||!n.querySelector?!1:i.isObject(document)&&n===document?!0:typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"},isEmpty:function(n){var s;if(!i.isDefined(n))return!0;if(i.isFunction(n))return!1;if(i.isString(n))return i.EMPTY_STRING_REGEXP.test(n);if(i.isArray(n))return n.length===0;if(i.isDate(n))return!1;if(i.isObject(n)){for(s in n)return!1;return!0}return!1},format:i.extend(function(n,s){return i.isString(n)?n.replace(i.format.FORMAT_REGEXP,function(d,h,m){return h==="%"?"%{"+m+"}":String(s[m])}):n},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(n){return i.isNumber(n)?n*100%1===0?""+n:parseFloat(Math.round(n*100)/100).toFixed(2):i.isArray(n)?n.map(function(s){return i.prettify(s)}).join(", "):i.isObject(n)?i.isDefined(n.toString)?n.toString():JSON.stringify(n):(n=""+n,n.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(s,d,h){return""+d+" "+h.toLowerCase()}).toLowerCase())},stringifyValue:function(n,s){var d=s&&s.prettify||i.prettify;return d(n)},isString:function(n){return typeof n=="string"},isArray:function(n){return{}.toString.call(n)==="[object Array]"},isHash:function(n){return i.isObject(n)&&!i.isArray(n)&&!i.isFunction(n)},contains:function(n,s){return i.isDefined(n)?i.isArray(n)?n.indexOf(s)!==-1:s in n:!1},unique:function(n){return i.isArray(n)?n.filter(function(s,d,h){return h.indexOf(s)==d}):n},forEachKeyInKeypath:function(n,s,d){if(!!i.isString(s)){var h="",m,e=!1;for(m=0;m<s.length;++m)switch(s[m]){case".":e?(e=!1,h+="."):(n=d(n,h,!1),h="");break;case"\\":e?(e=!1,h+="\\"):e=!0;break;default:e=!1,h+=s[m];break}return d(n,h,!0)}},getDeepObjectValue:function(n,s){if(!!i.isObject(n))return i.forEachKeyInKeypath(n,s,function(d,h){if(i.isObject(d))return d[h]})},collectFormValues:function(n,s){var d={},h,m,e,r,a,u;if(i.isJqueryElement(n)&&(n=n[0]),!n)return d;for(s=s||{},r=n.querySelectorAll("input[name], textarea[name]"),h=0;h<r.length;++h)if(e=r.item(h),!i.isDefined(e.getAttribute("data-ignored"))){var c=e.name.replace(/\./g,"\\\\.");u=i.sanitizeFormValue(e.value,s),e.type==="number"?u=u?+u:null:e.type==="checkbox"?e.attributes.value?e.checked||(u=d[c]||null):u=e.checked:e.type==="radio"&&(e.checked||(u=d[c]||null)),d[c]=u}for(r=n.querySelectorAll("select[name]"),h=0;h<r.length;++h)if(e=r.item(h),!i.isDefined(e.getAttribute("data-ignored"))){if(e.multiple){u=[];for(m in e.options)a=e.options[m],a&&a.selected&&u.push(i.sanitizeFormValue(a.value,s))}else{var p=typeof e.options[e.selectedIndex]<"u"?e.options[e.selectedIndex].value:"";u=i.sanitizeFormValue(p,s)}d[e.name]=u}return d},sanitizeFormValue:function(n,s){return s.trim&&i.isString(n)&&(n=n.trim()),s.nullify!==!1&&n===""?null:n},capitalize:function(n){return i.isString(n)?n[0].toUpperCase()+n.slice(1):n},pruneEmptyErrors:function(n){return n.filter(function(s){return!i.isEmpty(s.error)})},expandMultipleErrors:function(n){var s=[];return n.forEach(function(d){i.isArray(d.error)?d.error.forEach(function(h){s.push(i.extend({},d,{error:h}))}):s.push(d)}),s},convertErrorMessages:function(n,s){s=s||{};var d=[],h=s.prettify||i.prettify;return n.forEach(function(m){var e=i.result(m.error,m.value,m.attribute,m.options,m.attributes,m.globalOptions);if(!i.isString(e)){d.push(m);return}e[0]==="^"?e=e.slice(1):s.fullMessages!==!1&&(e=i.capitalize(h(m.attribute))+" "+e),e=e.replace(/\\\^/g,"^"),e=i.format(e,{value:i.stringifyValue(m.value,s)}),d.push(i.extend({},m,{error:e}))}),d},groupErrorsByAttribute:function(n){var s={};return n.forEach(function(d){var h=s[d.attribute];h?h.push(d):s[d.attribute]=[d]}),s},flattenErrorsToArray:function(n){return n.map(function(s){return s.error}).filter(function(s,d,h){return h.indexOf(s)===d})},cleanAttributes:function(n,s){function d(e,r,a){return i.isObject(e[r])?e[r]:e[r]=a?!0:{}}function h(e){var r={},a,u;for(u in e)!e[u]||i.forEachKeyInKeypath(r,u,d);return r}function m(e,r){if(!i.isObject(e))return e;var a=i.extend({},e),u,c;for(c in e)u=r[c],i.isObject(u)?a[c]=m(a[c],u):u||delete a[c];return a}return!i.isObject(s)||!i.isObject(n)?{}:(s=h(s),m(n,s))},exposeModule:function(n,s,d,h,m){d?(h&&h.exports&&(d=h.exports=n),d.validate=n):(s.validate=n,n.isFunction(m)&&m.amd&&m([],function(){return n}))},warn:function(n){typeof console<"u"&&console.warn&&console.warn("[validate.js] "+n)},error:function(n){typeof console<"u"&&console.error&&console.error("[validate.js] "+n)}}),l.validators={presence:function(n,s){if(s=i.extend({},this.options,s),s.allowEmpty!==!1?!i.isDefined(n):i.isEmpty(n))return s.message||this.message||"can't be blank"},length:function(n,s,d){if(!!i.isDefined(n)){s=i.extend({},this.options,s);var h=s.is,m=s.maximum,e=s.minimum,r=s.tokenizer||function(p){return p},a,u=[];n=r(n);var c=n.length;if(!i.isNumber(c))return s.message||this.notValid||"has an incorrect length";if(i.isNumber(h)&&c!==h&&(a=s.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",u.push(i.format(a,{count:h}))),i.isNumber(e)&&c<e&&(a=s.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",u.push(i.format(a,{count:e}))),i.isNumber(m)&&c>m&&(a=s.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",u.push(i.format(a,{count:m}))),u.length>0)return s.message||u}},numericality:function(n,s,d,h,m){if(!!i.isDefined(n)){s=i.extend({},this.options,s);var e=[],r,a,u={greaterThan:function(v,w){return v>w},greaterThanOrEqualTo:function(v,w){return v>=w},equalTo:function(v,w){return v===w},lessThan:function(v,w){return v<w},lessThanOrEqualTo:function(v,w){return v<=w},divisibleBy:function(v,w){return v%w===0}},c=s.prettify||m&&m.prettify||i.prettify;if(i.isString(n)&&s.strict){var p="^-?(0|[1-9]\\d*)";if(s.onlyInteger||(p+="(\\.\\d+)?"),p+="$",!new RegExp(p).test(n))return s.message||s.notValid||this.notValid||this.message||"must be a valid number"}if(s.noStrings!==!0&&i.isString(n)&&!i.isEmpty(n)&&(n=+n),!i.isNumber(n))return s.message||s.notValid||this.notValid||this.message||"is not a number";if(s.onlyInteger&&!i.isInteger(n))return s.message||s.notInteger||this.notInteger||this.message||"must be an integer";for(r in u)if(a=s[r],i.isNumber(a)&&!u[r](n,a)){var f="not"+i.capitalize(r),g=s[f]||this[f]||this.message||"must be %{type} %{count}";e.push(i.format(g,{count:a,type:c(r)}))}if(s.odd&&n%2!==1&&e.push(s.notOdd||this.notOdd||this.message||"must be odd"),s.even&&n%2!==0&&e.push(s.notEven||this.notEven||this.message||"must be even"),e.length)return s.message||e}},datetime:i.extend(function(n,s){if(!i.isFunction(this.parse)||!i.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(!!i.isDefined(n)){s=i.extend({},this.options,s);var d,h=[],m=s.earliest?this.parse(s.earliest,s):NaN,e=s.latest?this.parse(s.latest,s):NaN;if(n=this.parse(n,s),isNaN(n)||s.dateOnly&&n%864e5!==0)return d=s.notValid||s.message||this.notValid||"must be a valid date",i.format(d,{value:arguments[0]});if(!isNaN(m)&&n<m&&(d=s.tooEarly||s.message||this.tooEarly||"must be no earlier than %{date}",d=i.format(d,{value:this.format(n,s),date:this.format(m,s)}),h.push(d)),!isNaN(e)&&n>e&&(d=s.tooLate||s.message||this.tooLate||"must be no later than %{date}",d=i.format(d,{date:this.format(e,s),value:this.format(n,s)}),h.push(d)),h.length)return i.unique(h)}},{parse:null,format:null}),date:function(n,s){return s=i.extend({},s,{dateOnly:!0}),i.validators.datetime.call(i.validators.datetime,n,s)},format:function(n,s){(i.isString(s)||s instanceof RegExp)&&(s={pattern:s}),s=i.extend({},this.options,s);var d=s.message||this.message||"is invalid",h=s.pattern,m;if(!!i.isDefined(n)&&(!i.isString(n)||(i.isString(h)&&(h=new RegExp(s.pattern,s.flags)),m=h.exec(n),!m||m[0].length!=n.length)))return d},inclusion:function(n,s){if(!!i.isDefined(n)&&(i.isArray(s)&&(s={within:s}),s=i.extend({},this.options,s),!i.contains(s.within,n))){var d=s.message||this.message||"^%{value} is not included in the list";return i.format(d,{value:n})}},exclusion:function(n,s){if(!!i.isDefined(n)&&(i.isArray(s)&&(s={within:s}),s=i.extend({},this.options,s),!!i.contains(s.within,n))){var d=s.message||this.message||"^%{value} is restricted";return i.isString(s.within[n])&&(n=s.within[n]),i.format(d,{value:n})}},email:i.extend(function(n,s){s=i.extend({},this.options,s);var d=s.message||this.message||"is not a valid email";if(!!i.isDefined(n)&&(!i.isString(n)||!this.PATTERN.exec(n)))return d},{PATTERN:/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i}),equality:function(n,s,d,h,m){if(!!i.isDefined(n)){i.isString(s)&&(s={attribute:s}),s=i.extend({},this.options,s);var e=s.message||this.message||"is not equal to %{attribute}";if(i.isEmpty(s.attribute)||!i.isString(s.attribute))throw new Error("The attribute must be a non empty string");var r=i.getDeepObjectValue(h,s.attribute),a=s.comparator||function(c,p){return c===p},u=s.prettify||m&&m.prettify||i.prettify;if(!a(n,r,s,d,h))return i.format(e,{attribute:u(s.attribute)})}},url:function(n,s){if(!!i.isDefined(n)){s=i.extend({},this.options,s);var d=s.message||this.message||"is not a valid url",h=s.schemes||this.schemes||["http","https"],m=s.allowLocal||this.allowLocal||!1,e=s.allowDataUrl||this.allowDataUrl||!1;if(!i.isString(n))return d;var r="^(?:(?:"+h.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",a="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";if(m?a+="?":r+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",r+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+a+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",e){var u="\\w+\\/[-+.\\w]+(?:;[\\w=]+)*",c="[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*",p="data:(?:"+u+")?(?:;base64)?,"+c;r="(?:"+r+")|(?:^"+p+"$)"}var f=new RegExp(r,"i");if(!f.exec(n))return d}},type:i.extend(function(n,s,d,h,m){if(i.isString(s)&&(s={type:s}),!!i.isDefined(n)){var e=i.extend({},this.options,s),r=e.type;if(!i.isDefined(r))throw new Error("No type was specified");var a;if(i.isFunction(r)?a=r:a=this.types[r],!i.isFunction(a))throw new Error("validate.validators.type.types."+r+" must be a function.");if(!a(n,e,d,h,m)){var u=s.message||this.messages[r]||this.message||e.message||(i.isFunction(r)?"must be of the correct type":"must be of type %{type}");return i.isFunction(u)&&(u=u(n,s,d,h,m)),i.format(u,{attribute:i.prettify(d),type:r})}}},{types:{object:function(n){return i.isObject(n)&&!i.isArray(n)},array:i.isArray,integer:i.isInteger,number:i.isNumber,string:i.isString,date:i.isDate,boolean:i.isBoolean},messages:{}})},l.formatters={detailed:function(n){return n},flat:i.flattenErrorsToArray,grouped:function(n){var s;n=i.groupErrorsByAttribute(n);for(s in n)n[s]=i.flattenErrorsToArray(n[s]);return n},constraint:function(n){var s;n=i.groupErrorsByAttribute(n);for(s in n)n[s]=n[s].map(function(d){return d.validator}).sort();return n}},l.exposeModule(l,this,_,t,o)}).call(D,typeof D<"u"?D:null,typeof V<"u"?V:null,typeof define<"u"?define:null)});var z=U(I=>{(function(){"use strict";var _=function(){this.init()};_.prototype={init:function(){var e=this||t;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var r=this||t;if(e=parseFloat(e),r.ctx||m(),typeof e<"u"&&e>=0&&e<=1){if(r._volume=e,r._muted)return r;r.usingWebAudio&&r.masterGain.gain.setValueAtTime(e,t.ctx.currentTime);for(var a=0;a<r._howls.length;a++)if(!r._howls[a]._webAudio)for(var u=r._howls[a]._getSoundIds(),c=0;c<u.length;c++){var p=r._howls[a]._soundById(u[c]);p&&p._node&&(p._node.volume=p._volume*e)}return r}return r._volume},mute:function(e){var r=this||t;r.ctx||m(),r._muted=e,r.usingWebAudio&&r.masterGain.gain.setValueAtTime(e?0:r._volume,t.ctx.currentTime);for(var a=0;a<r._howls.length;a++)if(!r._howls[a]._webAudio)for(var u=r._howls[a]._getSoundIds(),c=0;c<u.length;c++){var p=r._howls[a]._soundById(u[c]);p&&p._node&&(p._node.muted=e?!0:p._muted)}return r},stop:function(){for(var e=this||t,r=0;r<e._howls.length;r++)e._howls[r].stop();return e},unload:function(){for(var e=this||t,r=e._howls.length-1;r>=0;r--)e._howls[r].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,m()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var r=new Audio;typeof r.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var r=new Audio;r.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,r=null;try{r=typeof Audio<"u"?new Audio:null}catch{return e}if(!r||typeof r.canPlayType!="function")return e;var a=r.canPlayType("audio/mpeg;").replace(/^no$/,""),u=e._navigator?e._navigator.userAgent:"",c=u.match(/OPR\/([0-6].)/g),p=c&&parseInt(c[0].split("/")[1],10)<33,f=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,g=u.match(/Version\/(.*?) /),v=f&&g&&parseInt(g[1],10)<15;return e._codecs={mp3:!!(!p&&(a||r.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!a,opus:!!r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(r.canPlayType('audio/wav; codecs="1"')||r.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!r.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!r.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/m4a;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(r.canPlayType("audio/x-m4b;")||r.canPlayType("audio/m4b;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(r.canPlayType("audio/x-mp4;")||r.canPlayType("audio/mp4;")||r.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!v&&r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!v&&r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!r.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(r.canPlayType("audio/x-flac;")||r.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||t;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var r=function(a){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,e._releaseHtml5Audio(u)}catch{e.noAudio=!0;break}for(var c=0;c<e._howls.length;c++)if(!e._howls[c]._webAudio)for(var p=e._howls[c]._getSoundIds(),f=0;f<p.length;f++){var g=e._howls[c]._soundById(p[f]);g&&g._node&&!g._node._unlocked&&(g._node._unlocked=!0,g._node.load())}e._autoResume();var v=e.ctx.createBufferSource();v.buffer=e._scratchBuffer,v.connect(e.ctx.destination),typeof v.start>"u"?v.noteOn(0):v.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),v.onended=function(){v.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",r,!0),document.removeEventListener("touchend",r,!0),document.removeEventListener("click",r,!0),document.removeEventListener("keydown",r,!0);for(var w=0;w<e._howls.length;w++)e._howls[w]._emit("unlock")}};return document.addEventListener("touchstart",r,!0),document.addEventListener("touchend",r,!0),document.addEventListener("click",r,!0),document.addEventListener("keydown",r,!0),e}},_obtainHtml5Audio:function(){var e=this||t;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var r=new Audio().play();return r&&typeof Promise<"u"&&(r instanceof Promise||typeof r.then=="function")&&r.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var r=this||t;return e._unlocked&&r._html5AudioPool.push(e),r},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!t.usingWebAudio)){for(var r=0;r<e._howls.length;r++)if(e._howls[r]._webAudio){for(var a=0;a<e._howls[r]._sounds.length;a++)if(!e._howls[r]._sounds[a]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(!!e.autoSuspend){e._suspendTimer=null,e.state="suspending";var u=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(u,u)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!t.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var r=0;r<e._howls.length;r++)e._howls[r]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var t=new _,o=function(e){var r=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}r.init(e)};o.prototype={init:function(e){var r=this;return t.ctx||m(),r._autoplay=e.autoplay||!1,r._format=typeof e.format!="string"?e.format:[e.format],r._html5=e.html5||!1,r._muted=e.mute||!1,r._loop=e.loop||!1,r._pool=e.pool||5,r._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,r._rate=e.rate||1,r._sprite=e.sprite||{},r._src=typeof e.src!="string"?e.src:[e.src],r._volume=e.volume!==void 0?e.volume:1,r._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},r._duration=0,r._state="unloaded",r._sounds=[],r._endTimers={},r._queue=[],r._playLock=!1,r._onend=e.onend?[{fn:e.onend}]:[],r._onfade=e.onfade?[{fn:e.onfade}]:[],r._onload=e.onload?[{fn:e.onload}]:[],r._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],r._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],r._onpause=e.onpause?[{fn:e.onpause}]:[],r._onplay=e.onplay?[{fn:e.onplay}]:[],r._onstop=e.onstop?[{fn:e.onstop}]:[],r._onmute=e.onmute?[{fn:e.onmute}]:[],r._onvolume=e.onvolume?[{fn:e.onvolume}]:[],r._onrate=e.onrate?[{fn:e.onrate}]:[],r._onseek=e.onseek?[{fn:e.onseek}]:[],r._onunlock=e.onunlock?[{fn:e.onunlock}]:[],r._onresume=[],r._webAudio=t.usingWebAudio&&!r._html5,typeof t.ctx<"u"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(r),r._autoplay&&r._queue.push({event:"play",action:function(){r.play()}}),r._preload&&r._preload!=="none"&&r.load(),r},load:function(){var e=this,r=null;if(t.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var a=0;a<e._src.length;a++){var u,c;if(e._format&&e._format[a])u=e._format[a];else{if(c=e._src[a],typeof c!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(c),u||(u=/\.([^.]+)$/.exec(c.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&t.codecs(u)){r=e._src[a];break}}if(!r){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=r,e._state="loading",window.location.protocol==="https:"&&r.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new l(e),e._webAudio&&n(e),e},play:function(e,r){var a=this,u=null;if(typeof e=="number")u=e,e=null;else{if(typeof e=="string"&&a._state==="loaded"&&!a._sprite[e])return null;if(typeof e>"u"&&(e="__default",!a._playLock)){for(var c=0,p=0;p<a._sounds.length;p++)a._sounds[p]._paused&&!a._sounds[p]._ended&&(c++,u=a._sounds[p]._id);c===1?e=null:u=null}}var f=u?a._soundById(u):a._inactiveSound();if(!f)return null;if(u&&!e&&(e=f._sprite||"__default"),a._state!=="loaded"){f._sprite=e,f._ended=!1;var g=f._id;return a._queue.push({event:"play",action:function(){a.play(g)}}),g}if(u&&!f._paused)return r||a._loadQueue("play"),f._id;a._webAudio&&t._autoResume();var v=Math.max(0,f._seek>0?f._seek:a._sprite[e][0]/1e3),w=Math.max(0,(a._sprite[e][0]+a._sprite[e][1])/1e3-v),b=w*1e3/Math.abs(f._rate),x=a._sprite[e][0]/1e3,M=(a._sprite[e][0]+a._sprite[e][1])/1e3;f._sprite=e,f._ended=!1;var F=function(){f._paused=!1,f._seek=v,f._start=x,f._stop=M,f._loop=!!(f._loop||a._sprite[e][2])};if(v>=M){a._ended(f);return}var A=f._node;if(a._webAudio){var R=function(){a._playLock=!1,F(),a._refreshBuffer(f);var T=f._muted||a._muted?0:f._volume;A.gain.setValueAtTime(T,t.ctx.currentTime),f._playStart=t.ctx.currentTime,typeof A.bufferSource.start>"u"?f._loop?A.bufferSource.noteGrainOn(0,v,86400):A.bufferSource.noteGrainOn(0,v,w):f._loop?A.bufferSource.start(0,v,86400):A.bufferSource.start(0,v,w),b!==1/0&&(a._endTimers[f._id]=setTimeout(a._ended.bind(a,f),b)),r||setTimeout(function(){a._emit("play",f._id),a._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?R():(a._playLock=!0,a.once("resume",R),a._clearTimer(f._id))}else{var G=function(){A.currentTime=v,A.muted=f._muted||a._muted||t._muted||A.muted,A.volume=f._volume*t.volume(),A.playbackRate=f._rate;try{var T=A.play();if(T&&typeof Promise<"u"&&(T instanceof Promise||typeof T.then=="function")?(a._playLock=!0,F(),T.then(function(){a._playLock=!1,A._unlocked=!0,r?a._loadQueue():a._emit("play",f._id)}).catch(function(){a._playLock=!1,a._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),f._ended=!0,f._paused=!0})):r||(a._playLock=!1,F(),a._emit("play",f._id)),A.playbackRate=f._rate,A.paused){a._emit("playerror",f._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||f._loop?a._endTimers[f._id]=setTimeout(a._ended.bind(a,f),b):(a._endTimers[f._id]=function(){a._ended(f),A.removeEventListener("ended",a._endTimers[f._id],!1)},A.addEventListener("ended",a._endTimers[f._id],!1))}catch(K){a._emit("playerror",f._id,K)}};A.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(A.src=a._src,A.load());var Z=window&&window.ejecta||!A.readyState&&t._navigator.isCocoonJS;if(A.readyState>=3||Z)G();else{a._playLock=!0,a._state="loading";var $=function(){a._state="loaded",G(),A.removeEventListener(t._canPlayEvent,$,!1)};A.addEventListener(t._canPlayEvent,$,!1),a._clearTimer(f._id)}}return f._id},pause:function(e){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"pause",action:function(){r.pause(e)}}),r;for(var a=r._getSoundIds(e),u=0;u<a.length;u++){r._clearTimer(a[u]);var c=r._soundById(a[u]);if(c&&!c._paused&&(c._seek=r.seek(a[u]),c._rateSeek=0,c._paused=!0,r._stopFade(a[u]),c._node))if(r._webAudio){if(!c._node.bufferSource)continue;typeof c._node.bufferSource.stop>"u"?c._node.bufferSource.noteOff(0):c._node.bufferSource.stop(0),r._cleanBuffer(c._node)}else(!isNaN(c._node.duration)||c._node.duration===1/0)&&c._node.pause();arguments[1]||r._emit("pause",c?c._id:null)}return r},stop:function(e,r){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"stop",action:function(){a.stop(e)}}),a;for(var u=a._getSoundIds(e),c=0;c<u.length;c++){a._clearTimer(u[c]);var p=a._soundById(u[c]);p&&(p._seek=p._start||0,p._rateSeek=0,p._paused=!0,p._ended=!0,a._stopFade(u[c]),p._node&&(a._webAudio?p._node.bufferSource&&(typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),a._cleanBuffer(p._node)):(!isNaN(p._node.duration)||p._node.duration===1/0)&&(p._node.currentTime=p._start||0,p._node.pause(),p._node.duration===1/0&&a._clearSound(p._node))),r||a._emit("stop",p._id))}return a},mute:function(e,r){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"mute",action:function(){a.mute(e,r)}}),a;if(typeof r>"u")if(typeof e=="boolean")a._muted=e;else return a._muted;for(var u=a._getSoundIds(r),c=0;c<u.length;c++){var p=a._soundById(u[c]);p&&(p._muted=e,p._interval&&a._stopFade(p._id),a._webAudio&&p._node?p._node.gain.setValueAtTime(e?0:p._volume,t.ctx.currentTime):p._node&&(p._node.muted=t._muted?!0:e),a._emit("mute",p._id))}return a},volume:function(){var e=this,r=arguments,a,u;if(r.length===0)return e._volume;if(r.length===1||r.length===2&&typeof r[1]>"u"){var c=e._getSoundIds(),p=c.indexOf(r[0]);p>=0?u=parseInt(r[0],10):a=parseFloat(r[0])}else r.length>=2&&(a=parseFloat(r[0]),u=parseInt(r[1],10));var f;if(typeof a<"u"&&a>=0&&a<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,r)}}),e;typeof u>"u"&&(e._volume=a),u=e._getSoundIds(u);for(var g=0;g<u.length;g++)f=e._soundById(u[g]),f&&(f._volume=a,r[2]||e._stopFade(u[g]),e._webAudio&&f._node&&!f._muted?f._node.gain.setValueAtTime(a,t.ctx.currentTime):f._node&&!f._muted&&(f._node.volume=a*t.volume()),e._emit("volume",f._id))}else return f=u?e._soundById(u):e._sounds[0],f?f._volume:0;return e},fade:function(e,r,a,u){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"fade",action:function(){c.fade(e,r,a,u)}}),c;e=Math.min(Math.max(0,parseFloat(e)),1),r=Math.min(Math.max(0,parseFloat(r)),1),a=parseFloat(a),c.volume(e,u);for(var p=c._getSoundIds(u),f=0;f<p.length;f++){var g=c._soundById(p[f]);if(g){if(u||c._stopFade(p[f]),c._webAudio&&!g._muted){var v=t.ctx.currentTime,w=v+a/1e3;g._volume=e,g._node.gain.setValueAtTime(e,v),g._node.gain.linearRampToValueAtTime(r,w)}c._startFadeInterval(g,e,r,a,p[f],typeof u>"u")}}return c},_startFadeInterval:function(e,r,a,u,c,p){var f=this,g=r,v=a-r,w=Math.abs(v/.01),b=Math.max(4,w>0?u/w:u),x=Date.now();e._fadeTo=a,e._interval=setInterval(function(){var M=(Date.now()-x)/u;x=Date.now(),g+=v*M,g=Math.round(g*100)/100,v<0?g=Math.max(a,g):g=Math.min(a,g),f._webAudio?e._volume=g:f.volume(g,e._id,!0),p&&(f._volume=g),(a<r&&g<=a||a>r&&g>=a)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,f.volume(a,e._id),f._emit("fade",e._id))},b)},_stopFade:function(e){var r=this,a=r._soundById(e);return a&&a._interval&&(r._webAudio&&a._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(a._interval),a._interval=null,r.volume(a._fadeTo,e),a._fadeTo=null,r._emit("fade",e)),r},loop:function(){var e=this,r=arguments,a,u,c;if(r.length===0)return e._loop;if(r.length===1)if(typeof r[0]=="boolean")a=r[0],e._loop=a;else return c=e._soundById(parseInt(r[0],10)),c?c._loop:!1;else r.length===2&&(a=r[0],u=parseInt(r[1],10));for(var p=e._getSoundIds(u),f=0;f<p.length;f++)c=e._soundById(p[f]),c&&(c._loop=a,e._webAudio&&c._node&&c._node.bufferSource&&(c._node.bufferSource.loop=a,a&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop,e.playing(p[f])&&(e.pause(p[f],!0),e.play(p[f],!0)))));return e},rate:function(){var e=this,r=arguments,a,u;if(r.length===0)u=e._sounds[0]._id;else if(r.length===1){var c=e._getSoundIds(),p=c.indexOf(r[0]);p>=0?u=parseInt(r[0],10):a=parseFloat(r[0])}else r.length===2&&(a=parseFloat(r[0]),u=parseInt(r[1],10));var f;if(typeof a=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,r)}}),e;typeof u>"u"&&(e._rate=a),u=e._getSoundIds(u);for(var g=0;g<u.length;g++)if(f=e._soundById(u[g]),f){e.playing(u[g])&&(f._rateSeek=e.seek(u[g]),f._playStart=e._webAudio?t.ctx.currentTime:f._playStart),f._rate=a,e._webAudio&&f._node&&f._node.bufferSource?f._node.bufferSource.playbackRate.setValueAtTime(a,t.ctx.currentTime):f._node&&(f._node.playbackRate=a);var v=e.seek(u[g]),w=(e._sprite[f._sprite][0]+e._sprite[f._sprite][1])/1e3-v,b=w*1e3/Math.abs(f._rate);(e._endTimers[u[g]]||!f._paused)&&(e._clearTimer(u[g]),e._endTimers[u[g]]=setTimeout(e._ended.bind(e,f),b)),e._emit("rate",f._id)}}else return f=e._soundById(u),f?f._rate:e._rate;return e},seek:function(){var e=this,r=arguments,a,u;if(r.length===0)e._sounds.length&&(u=e._sounds[0]._id);else if(r.length===1){var c=e._getSoundIds(),p=c.indexOf(r[0]);p>=0?u=parseInt(r[0],10):e._sounds.length&&(u=e._sounds[0]._id,a=parseFloat(r[0]))}else r.length===2&&(a=parseFloat(r[0]),u=parseInt(r[1],10));if(typeof u>"u")return 0;if(typeof a=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,r)}}),e;var f=e._soundById(u);if(f)if(typeof a=="number"&&a>=0){var g=e.playing(u);g&&e.pause(u,!0),f._seek=a,f._ended=!1,e._clearTimer(u),!e._webAudio&&f._node&&!isNaN(f._node.duration)&&(f._node.currentTime=a);var v=function(){g&&e.play(u,!0),e._emit("seek",u)};if(g&&!e._webAudio){var w=function(){e._playLock?setTimeout(w,0):v()};setTimeout(w,0)}else v()}else if(e._webAudio){var b=e.playing(u)?t.ctx.currentTime-f._playStart:0,x=f._rateSeek?f._rateSeek-f._seek:0;return f._seek+(x+b*Math.abs(f._rate))}else return f._node.currentTime;return e},playing:function(e){var r=this;if(typeof e=="number"){var a=r._soundById(e);return a?!a._paused:!1}for(var u=0;u<r._sounds.length;u++)if(!r._sounds[u]._paused)return!0;return!1},duration:function(e){var r=this,a=r._duration,u=r._soundById(e);return u&&(a=r._sprite[u._sprite][1]/1e3),a},state:function(){return this._state},unload:function(){for(var e=this,r=e._sounds,a=0;a<r.length;a++)r[a]._paused||e.stop(r[a]._id),e._webAudio||(e._clearSound(r[a]._node),r[a]._node.removeEventListener("error",r[a]._errorFn,!1),r[a]._node.removeEventListener(t._canPlayEvent,r[a]._loadFn,!1),r[a]._node.removeEventListener("ended",r[a]._endFn,!1),t._releaseHtml5Audio(r[a]._node)),delete r[a]._node,e._clearTimer(r[a]._id);var u=t._howls.indexOf(e);u>=0&&t._howls.splice(u,1);var c=!0;for(a=0;a<t._howls.length;a++)if(t._howls[a]._src===e._src||e._src.indexOf(t._howls[a]._src)>=0){c=!1;break}return i&&c&&delete i[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,r,a,u){var c=this,p=c["_on"+e];return typeof r=="function"&&p.push(u?{id:a,fn:r,once:u}:{id:a,fn:r}),c},off:function(e,r,a){var u=this,c=u["_on"+e],p=0;if(typeof r=="number"&&(a=r,r=null),r||a)for(p=0;p<c.length;p++){var f=a===c[p].id;if(r===c[p].fn&&f||!r&&f){c.splice(p,1);break}}else if(e)u["_on"+e]=[];else{var g=Object.keys(u);for(p=0;p<g.length;p++)g[p].indexOf("_on")===0&&Array.isArray(u[g[p]])&&(u[g[p]]=[])}return u},once:function(e,r,a){var u=this;return u.on(e,r,a,1),u},_emit:function(e,r,a){for(var u=this,c=u["_on"+e],p=c.length-1;p>=0;p--)(!c[p].id||c[p].id===r||e==="load")&&(setTimeout(function(f){f.call(this,r,a)}.bind(u,c[p].fn),0),c[p].once&&u.off(e,c[p].fn,c[p].id));return u._loadQueue(e),u},_loadQueue:function(e){var r=this;if(r._queue.length>0){var a=r._queue[0];a.event===e&&(r._queue.shift(),r._loadQueue()),e||a.action()}return r},_ended:function(e){var r=this,a=e._sprite;if(!r._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(r._ended.bind(r,e),100),r;var u=!!(e._loop||r._sprite[a][2]);if(r._emit("end",e._id),!r._webAudio&&u&&r.stop(e._id,!0).play(e._id),r._webAudio&&u){r._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var c=(e._stop-e._start)*1e3/Math.abs(e._rate);r._endTimers[e._id]=setTimeout(r._ended.bind(r,e),c)}return r._webAudio&&!u&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,r._clearTimer(e._id),r._cleanBuffer(e._node),t._autoSuspend()),!r._webAudio&&!u&&r.stop(e._id,!0),r},_clearTimer:function(e){var r=this;if(r._endTimers[e]){if(typeof r._endTimers[e]!="function")clearTimeout(r._endTimers[e]);else{var a=r._soundById(e);a&&a._node&&a._node.removeEventListener("ended",r._endTimers[e],!1)}delete r._endTimers[e]}return r},_soundById:function(e){for(var r=this,a=0;a<r._sounds.length;a++)if(e===r._sounds[a]._id)return r._sounds[a];return null},_inactiveSound:function(){var e=this;e._drain();for(var r=0;r<e._sounds.length;r++)if(e._sounds[r]._ended)return e._sounds[r].reset();return new l(e)},_drain:function(){var e=this,r=e._pool,a=0,u=0;if(!(e._sounds.length<r)){for(u=0;u<e._sounds.length;u++)e._sounds[u]._ended&&a++;for(u=e._sounds.length-1;u>=0;u--){if(a<=r)return;e._sounds[u]._ended&&(e._webAudio&&e._sounds[u]._node&&e._sounds[u]._node.disconnect(0),e._sounds.splice(u,1),a--)}}},_getSoundIds:function(e){var r=this;if(typeof e>"u"){for(var a=[],u=0;u<r._sounds.length;u++)a.push(r._sounds[u]._id);return a}else return[e]},_refreshBuffer:function(e){var r=this;return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=i[r._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,t.ctx.currentTime),r},_cleanBuffer:function(e){var r=this,a=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),a))try{e.bufferSource.buffer=t._scratchBuffer}catch{}return e.bufferSource=null,r},_clearSound:function(e){var r=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);r||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var l=function(e){this._parent=e,this.init()};l.prototype={init:function(){var e=this,r=e._parent;return e._muted=r._muted,e._loop=r._loop,e._volume=r._volume,e._rate=r._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,r._sounds.push(e),e.create(),e},create:function(){var e=this,r=e._parent,a=t._muted||e._muted||e._parent._muted?0:e._volume;return r._webAudio?(e._node=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(a,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):t.noAudio||(e._node=t._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=r._src,e._node.preload=r._preload===!0?"auto":r._preload,e._node.volume=a*t.volume(),e._node.load()),e},reset:function(){var e=this,r=e._parent;return e._muted=r._muted,e._loop=r._loop,e._volume=r._volume,e._rate=r._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,r=e._parent;r._duration=Math.ceil(e._node.duration*10)/10,Object.keys(r._sprite).length===0&&(r._sprite={__default:[0,r._duration*1e3]}),r._state!=="loaded"&&(r._state="loaded",r._emit("load"),r._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,r=e._parent;r._duration===1/0&&(r._duration=Math.ceil(e._node.duration*10)/10,r._sprite.__default[1]===1/0&&(r._sprite.__default[1]=r._duration*1e3),r._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var i={},n=function(e){var r=e._src;if(i[r]){e._duration=i[r].duration,h(e);return}if(/^data:[^;]+;base64,/.test(r)){for(var a=atob(r.split(",")[1]),u=new Uint8Array(a.length),c=0;c<a.length;++c)u[c]=a.charCodeAt(c);d(u.buffer,e)}else{var p=new XMLHttpRequest;p.open(e._xhr.method,r,!0),p.withCredentials=e._xhr.withCredentials,p.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(f){p.setRequestHeader(f,e._xhr.headers[f])}),p.onload=function(){var f=(p.status+"")[0];if(f!=="0"&&f!=="2"&&f!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+p.status+".");return}d(p.response,e)},p.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete i[r],e.load())},s(p)}},s=function(e){try{e.send()}catch{e.onerror()}},d=function(e,r){var a=function(){r._emit("loaderror",null,"Decoding audio data failed.")},u=function(c){c&&r._sounds.length>0?(i[r._src]=c,h(r,c)):a()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(e).then(u).catch(a):t.ctx.decodeAudioData(e,u,a)},h=function(e,r){r&&!e._duration&&(e._duration=r.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},m=function(){if(!!t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),r=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),a=r?parseInt(r[1],10):null;if(e&&a&&a<9){var u=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!u&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain>"u"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:t,Howl:o}}),typeof I<"u"&&(I.Howler=t,I.Howl=o),typeof global<"u"?(global.HowlerGlobal=_,global.Howler=t,global.Howl=o,global.Sound=l):typeof window<"u"&&(window.HowlerGlobal=_,window.Howler=t,window.Howl=o,window.Sound=l)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var o=this;if(!o.ctx||!o.ctx.listener)return o;for(var l=o._howls.length-1;l>=0;l--)o._howls[l].stereo(t);return o},HowlerGlobal.prototype.pos=function(t,o,l){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(o=typeof o!="number"?i._pos[1]:o,l=typeof l!="number"?i._pos[2]:l,typeof t=="number")i._pos=[t,o,l],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(t,o,l,i,n,s){var d=this;if(!d.ctx||!d.ctx.listener)return d;var h=d._orientation;if(o=typeof o!="number"?h[1]:o,l=typeof l!="number"?h[2]:l,i=typeof i!="number"?h[3]:i,n=typeof n!="number"?h[4]:n,s=typeof s!="number"?h[5]:s,typeof t=="number")d._orientation=[t,o,l,i,n,s],typeof d.ctx.listener.forwardX<"u"?(d.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(o,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(l,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(n,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(t,o,l,i,n,s);else return h;return d},Howl.prototype.init=function(t){return function(o){var l=this;return l._orientation=o.orientation||[1,0,0],l._stereo=o.stereo||null,l._pos=o.pos||null,l._pannerAttr={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:360,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:360,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:0,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:"inverse",maxDistance:typeof o.maxDistance<"u"?o.maxDistance:1e4,panningModel:typeof o.panningModel<"u"?o.panningModel:"HRTF",refDistance:typeof o.refDistance<"u"?o.refDistance:1,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:1},l._onstereo=o.onstereo?[{fn:o.onstereo}]:[],l._onpos=o.onpos?[{fn:o.onpos}]:[],l._onorientation=o.onorientation?[{fn:o.onorientation}]:[],t.call(this,o)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,o){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"stereo",action:function(){l.stereo(t,o)}}),l;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof o>"u")if(typeof t=="number")l._stereo=t,l._pos=[t,0,0];else return l._stereo;for(var n=l._getSoundIds(o),s=0;s<n.length;s++){var d=l._soundById(n[s]);if(d)if(typeof t=="number")d._stereo=t,d._pos=[t,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&_(d,i),i==="spatial"?typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(t,0,0):d._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),l._emit("stereo",d._id);else return d._stereo}return l},Howl.prototype.pos=function(t,o,l,i){var n=this;if(!n._webAudio)return n;if(n._state!=="loaded")return n._queue.push({event:"pos",action:function(){n.pos(t,o,l,i)}}),n;if(o=typeof o!="number"?0:o,l=typeof l!="number"?-.5:l,typeof i>"u")if(typeof t=="number")n._pos=[t,o,l];else return n._pos;for(var s=n._getSoundIds(i),d=0;d<s.length;d++){var h=n._soundById(s[d]);if(h)if(typeof t=="number")h._pos=[t,o,l],h._node&&((!h._panner||h._panner.pan)&&_(h,"spatial"),typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(o,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(l,Howler.ctx.currentTime)):h._panner.setPosition(t,o,l)),n._emit("pos",h._id);else return h._pos}return n},Howl.prototype.orientation=function(t,o,l,i){var n=this;if(!n._webAudio)return n;if(n._state!=="loaded")return n._queue.push({event:"orientation",action:function(){n.orientation(t,o,l,i)}}),n;if(o=typeof o!="number"?n._orientation[1]:o,l=typeof l!="number"?n._orientation[2]:l,typeof i>"u")if(typeof t=="number")n._orientation=[t,o,l];else return n._orientation;for(var s=n._getSoundIds(i),d=0;d<s.length;d++){var h=n._soundById(s[d]);if(h)if(typeof t=="number")h._orientation=[t,o,l],h._node&&(h._panner||(h._pos||(h._pos=n._pos||[0,0,-.5]),_(h,"spatial")),typeof h._panner.orientationX<"u"?(h._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(o,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(l,Howler.ctx.currentTime)):h._panner.setOrientation(t,o,l)),n._emit("orientation",h._id);else return h._orientation}return n},Howl.prototype.pannerAttr=function(){var t=this,o=arguments,l,i,n;if(!t._webAudio)return t;if(o.length===0)return t._pannerAttr;if(o.length===1)if(typeof o[0]=="object")l=o[0],typeof i>"u"&&(l.pannerAttr||(l.pannerAttr={coneInnerAngle:l.coneInnerAngle,coneOuterAngle:l.coneOuterAngle,coneOuterGain:l.coneOuterGain,distanceModel:l.distanceModel,maxDistance:l.maxDistance,refDistance:l.refDistance,rolloffFactor:l.rolloffFactor,panningModel:l.panningModel}),t._pannerAttr={coneInnerAngle:typeof l.pannerAttr.coneInnerAngle<"u"?l.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof l.pannerAttr.coneOuterAngle<"u"?l.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof l.pannerAttr.coneOuterGain<"u"?l.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof l.pannerAttr.distanceModel<"u"?l.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof l.pannerAttr.maxDistance<"u"?l.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof l.pannerAttr.refDistance<"u"?l.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof l.pannerAttr.rolloffFactor<"u"?l.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof l.pannerAttr.panningModel<"u"?l.pannerAttr.panningModel:t._panningModel});else return n=t._soundById(parseInt(o[0],10)),n?n._pannerAttr:t._pannerAttr;else o.length===2&&(l=o[0],i=parseInt(o[1],10));for(var s=t._getSoundIds(i),d=0;d<s.length;d++)if(n=t._soundById(s[d]),n){var h=n._pannerAttr;h={coneInnerAngle:typeof l.coneInnerAngle<"u"?l.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:typeof l.coneOuterAngle<"u"?l.coneOuterAngle:h.coneOuterAngle,coneOuterGain:typeof l.coneOuterGain<"u"?l.coneOuterGain:h.coneOuterGain,distanceModel:typeof l.distanceModel<"u"?l.distanceModel:h.distanceModel,maxDistance:typeof l.maxDistance<"u"?l.maxDistance:h.maxDistance,refDistance:typeof l.refDistance<"u"?l.refDistance:h.refDistance,rolloffFactor:typeof l.rolloffFactor<"u"?l.rolloffFactor:h.rolloffFactor,panningModel:typeof l.panningModel<"u"?l.panningModel:h.panningModel};var m=n._panner;m?(m.coneInnerAngle=h.coneInnerAngle,m.coneOuterAngle=h.coneOuterAngle,m.coneOuterGain=h.coneOuterGain,m.distanceModel=h.distanceModel,m.maxDistance=h.maxDistance,m.refDistance=h.refDistance,m.rolloffFactor=h.rolloffFactor,m.panningModel=h.panningModel):(n._pos||(n._pos=t._pos||[0,0,-.5]),_(n,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var o=this,l=o._parent;o._orientation=l._orientation,o._stereo=l._stereo,o._pos=l._pos,o._pannerAttr=l._pannerAttr,t.call(this),o._stereo?l.stereo(o._stereo):o._pos&&l.pos(o._pos[0],o._pos[1],o._pos[2],o._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var o=this,l=o._parent;return o._orientation=l._orientation,o._stereo=l._stereo,o._pos=l._pos,o._pannerAttr=l._pannerAttr,o._stereo?l.stereo(o._stereo):o._pos?l.pos(o._pos[0],o._pos[1],o._pos[2],o._id):o._panner&&(o._panner.disconnect(0),o._panner=void 0,l._refreshBuffer(o)),t.call(this)}}(Sound.prototype.reset);var _=function(t,o){o=o||"spatial",o==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX<"u"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX<"u"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()});function q(){let _={};return[...document.querySelectorAll("[data-elements]")].forEach((t,o)=>{t.dataset.elements.split(" ").forEach(function(i,n,s){_[i]?_[i].push(t):_[i]=[t]})}),[...document.querySelectorAll("[data-element]")].forEach((t,o)=>{t.dataset.element.split(" ").forEach(function(i,n,s){_[i]=t})}),_}function ae(_,t,o){return Math.min(Math.max(_,t),o)}var S=class{constructor(t={}){y(this,"add",(t,o,l,i,n)=>{this.tweens[t]&&console.error("Tween",t,"already exists"),this.tweens[t]={instant:0,smooth:0,speed:i||.05,bump:n||l/1e3,min:o,max:l}});y(this,"updateProgress",(t,o,l=!1)=>{let i=this.tweens[t],n=ae(o,i.min,i.max);this.tweens[t].instant=n,l&&(this.tweens[t].smooth=n)});y(this,"updateDelta",t=>{Object.keys(this.tweens).map(o=>{let l=this.tweens[o],i=0,n=l.instant-l.smooth;l.smooth!=l.instant&&(i=n*l.speed*t,l.smooth+=i),Math.abs(n)<l.bump&&(l.smooth=l.instant)})});y(this,"getProgress",t=>this.tweens[t]?this.tweens[t].smooth:0);this.options=t,this.tweens={}}};function H(){let _=window.location.search.slice(1);return _?_.split("&").map(function(o){return o.split("=")}).reduce(function(o,l){return o[l[0]]=l[1],o},{}):{}}var N=X(W(),1);function O(_){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)_[l]=o[l]}return _}var oe={read:function(_){return _[0]==='"'&&(_=_.slice(1,-1)),_.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(_){return encodeURIComponent(_).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function j(_,t){function o(i,n,s){if(!(typeof document>"u")){s=O({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var h in s)!s[h]||(d+="; "+h,s[h]!==!0&&(d+="="+s[h].split(";")[0]));return document.cookie=i+"="+_.write(n,i)+d}}function l(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var n=document.cookie?document.cookie.split("; "):[],s={},d=0;d<n.length;d++){var h=n[d].split("="),m=h.slice(1).join("=");try{var e=decodeURIComponent(h[0]);if(s[e]=_.read(m,e),i===e)break}catch{}}return i?s[i]:s}}return Object.create({set:o,get:l,remove:function(i,n){o(i,"",O({},n,{expires:-1}))},withAttributes:function(i){return j(this.converter,O({},this.attributes,i))},withConverter:function(i){return j(O({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(_)}})}var le=j(oe,{path:"/"}),E=le;var P=class{constructor(t,o){switch(this.popup=o,this.form=t,this.formField=this.form.querySelectorAll(".js-form-group"),this.formInput=this.form.querySelectorAll(".js-form-input"),this.formRadioBlock=this.form.querySelectorAll(".js-radio"),this.formId=this.form.getAttribute("id"),this.formSuccess=this.form.querySelector(".js-form-success"),this.formError=this.form.querySelector(".js-form-error"),this.url="/subscribe",this.readSecretButton=document.querySelector(".js-read-secret-url"),this.changeEvent=new Event("change",{bubbles:!0}),this.form.querySelectorAll(".js-form-select")&&(this.formSelect=this.form.querySelectorAll(".js-form-select")),this.key=window.captchaSiteKey,this.formChoices=[],this.formId){case"form-podcast-popup":this.gtag={action:"podcast-subscribe",category:"podcast"},this.constraints={email:{presence:{message:"Enter your email"},email:{message:"Wrong email"}}};break}this.init()}init(){this.setListeners()}getCaptchaToken(t){let o=this.key;window.grecaptcha.ready(function(){window.grecaptcha.execute(o,{action:"homepage"}).then(function(l){t(l)})})}checkCaptcha(){let t;return window.grecaptcha.ready(function(){window.grecaptcha.execute(this.key,{action:"homepage"}).then(async function(o){t=await fetch("http://localhost:3011/submit",{method:"POST",body:JSON.stringify({token:o}),headers:{"Content-Type":"application/json"}}),t=await t.json()})}),t}setListeners(){this.formInput.forEach(t=>{t.addEventListener("change",o=>{let l=(0,N.default)(this.form,this.constraints,{fullMessages:!1})||{},i=t.closest(".js-form-group");this.showErrorsForInput(t,l[t.name]),i.classList.toggle("is-filled",t.value)})}),this.formRadioBlock.forEach(t=>{t.addEventListener("focus",o=>{t.querySelector("input").focus()})}),document.addEventListener("keyup",t=>{t.keyCode=="13"&&t.target.type=="radio"&&(t.preventDefault(),document.activeElement.checked=!0)}),this.form.addEventListener("submit",t=>{t.preventDefault(),document.activeElement.type!="radio"&&this.handleFormSubmit(this.form)})}handleFormSubmit(t,o){let l=(0,N.default)(this.form,this.constraints,{fullMessages:!1});this.showErrors(this.form,l||{}),l?t.id=="form-request"&&l.agreementPrivacy&&this.showErrorMessage("Please confirm that you read and agree to our privacy policy.",!1):t.id=="form-subscribe"||t.id=="form-header-subscribe"?this.sendSubscribeForm(this.form):this.formSend(this.form)}showErrors(t,o){this.formInput.forEach(l=>{this.showErrorsForInput(l,o&&o[l.name])})}showErrorsForInput(t,o){let l=t.closest(".js-form-group"),i=l.querySelector(".js-form-message");this.resetFormGroup(l),o?(l.classList.add("is-error"),o.forEach(n=>{this.addError(i,n)})):(l.classList.add("is-success"),this.form.id=="form-request"&&t.getAttribute("name")=="agreementPrivacy"&&this.formError.classList.remove("is-active"))}resetFormGroup(t){t.classList.remove("is-error"),t.classList.remove("is-success"),t.querySelectorAll(".help-block.error").forEach(o=>{o.parentNode.removeChild(o)})}addError(t,o){let l=document.createElement("p");l.classList.add("help-block"),l.classList.add("error"),l.innerText=o,t.appendChild(l)}parseFormData(t){let o={},l=t.querySelectorAll("input, select, textarea");for(let i=0;i<l.length;++i){let n=l[i],s=n.name,d=n.value;n.type=="checkbox"&&(d=n.checked),s&&(o[s]=d)}return o}formSend(t){t.classList.add("is-loading");let o=this.parseFormData(t);o.origin="Podcast",fetch(this.url,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(o)}).then(l=>l.json()).then(l=>{t.classList.remove("is-loading"),typeof l=="string"&&(l=JSON.parse(l)),l.code==200?(this.showSuccess(),t.id==="form-request"?this.sendGtagEvent("conversion",{send_to:"AW-779554654/jZD-CM-QjoMYEN6e3PMC"}):this.sendGtagEvent(this.gtag.action,this.gtag.category)):(this.showErrorMessage(l.error),console.error(l.error))}).catch(l=>{t.classList.remove("is-loading"),this.showErrorMessage(l)})}sendSubscribeForm(t,o){let l=t.dataset.form,i=this.parseFormData(t);fetch("/subscribe",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(this.parseFormData(t))}).then(n=>n.json()).then(n=>{let s;typeof n=="string"?s=JSON.parse(n):s=n,s?.error?s.name=="ValidationError"?!o&&this.showErrorMessage("Email address is not valid. Please try again.",!0):l&&s.code==214?this.unlockArticles():!o&&this.showErrorMessage(s.error,!0):(l?this.unlockArticles():this.formId=="form-header-subscribe"?this.showSuccess(!0):this.showSuccess(),this.sendGtagEvent(this.gtag.action,this.gtag.category))})}unlockArticles(){}sendGtagEvent(t,o){typeof gtag>"u"||(typeof o=="object"?gtag("event",t,o):gtag("event",t,{event_category:o}))}formReset(){this.form.reset(),this.formField.forEach(t=>{t.classList.remove("is-filled"),t.classList.remove("is-success"),t.classList.remove("is-error")})}showSuccess(t){console.log("Validation success!",this.parseFormData(this.form)),this.formError&&this.formError.classList.remove("is-active"),this.formSuccess&&this.formSuccess.classList.add("is-active"),this.form.classList.add("is-success"),this.formReset(),t||setTimeout(o=>{this.form.classList.remove("is-success"),this.formSuccess.classList.remove("is-active")},5e3)}showErrorMessage(t,o){this.formError.innerHTML=t,this.formError.classList.add("is-active"),o&&(this.formReset(),setTimeout(l=>{this.formError.classList.remove("is-active")},5e3))}};var k=class{constructor(t,o,l){this.container=t,this.toggleClass=o,this.closeBtn=l,this.state=E.get("cookieAccepted"),this.state||this.init()}init(){this.showCookie(),this.closeBtn.addEventListener("click",t=>{this.acceptCookie(),this.container.classList.toggle(this.toggleClass,!1),t.preventDefault()})}showCookie(){this.container.classList.toggle(this.toggleClass,!0)}acceptCookie(){E.set("cookieAccepted","1",{expires:365})}};var Q=X(z(),1);function L(_,t,o){return Math.min(Math.max(_,t),o)}function ue(_,t){return Math.floor(Math.random()*(t-_+1))+_}var ce=function(_){document.getElementById(_.id).style.position="fixed",document.getElementById(_.id).style.top=0,document.getElementById(_.id).style.left=0,document.getElementById(_.id).style.right=0,document.getElementById(_.id).style.bottom=0,document.getElementById(_.id).style.zIndex=1e3,document.getElementById(_.id).style.pointerEvents="none",this.images=_.images,this.count=_.count||250,this.canvas=document.createElement("canvas"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,document.getElementById(_.id).appendChild(this.canvas);let t="default";(_.theme=="colors"||_.theme=="blues"||_.theme=="watermelon"||_.theme=="berry"||_.theme=="pastel")&&(t=_.theme);let o=2,l=7;isNaN(_.min_size)||(o=_.min_size),isNaN(_.max_size)||(l=_.max_size),this.snowflakes=[];for(let n=0;n<this.count;n++)this.snowflakes[n]=new de(this.canvas,t,o,l,this.images[ue(0,9)]),this.snowflakes[n].show();function i(n,s){return Math.random()*(s-n)+n}this.go=!1,this.snowfall=function(){if(requestAnimationFrame(()=>this.snowfall()),this.go){this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height);for(let s=0;s<this.count;s++)this.snowflakes[s].update(),this.snowflakes[s].show(),this.snowflakes[s].y>this.canvas.height&&(this.snowflakes[s].y=i(-20,-200))}},this.snowfall(),this.start=function(){this.go=!0},this.stop=function(){this.go=!1},this.toggle=function(){console.log(this.go),this.go=!this.go}},de=function(_,t,o,l,i){this.radius=n(o,l),this.x=n(0,_.width),this.y=n(-20,-800),this.r=0,this.Vy=n(1,2),this.Vr=Math.random()/100,this.color="#FFF",t=="colors"?this.color="rgb("+Math.floor(Math.random()*256)+","+Math.floor(Math.random()*256)+","+Math.floor(Math.random()*256)+")":t=="blues"?this.color="rgb("+0+","+0+","+Math.floor(Math.random()*256)+")":t=="watermelon"?Math.random()<.5?this.color="rgb("+n(242,255)+","+n(0,50)+","+n(70,120)+")":this.color="rgb("+0+","+Math.floor(Math.random()*256)+","+0+")":t=="berry"?this.color="rgb("+n(40,150)+","+n(0,50)+","+n(80,180)+")":t=="pastel"&&(this.color="hsla("+n(0,360)+","+n(40,80)+"%,"+n(60,80)+"%)"),this.canvas=_,this.show=function(){let s=this.canvas.getContext("2d");i?s.drawImage(i,this.x,this.y,i.naturalWidth/2,i.naturalHeight/2):(s.beginPath(),s.arc(this.x,this.y,this.radius,0,2*Math.PI),s.closePath(),s.fillStyle=this.color,s.fill())},this.update=function(){this.y+=this.Vy};function n(s,d){return Math.random()*(d-s)+s}},Y=ce;var C=class{constructor(){y(this,"snowflakes",()=>{let t=["/images/podcast/snowflakes/0.png","/images/podcast/snowflakes/1.png","/images/podcast/snowflakes/2.png","/images/podcast/snowflakes/3.png","/images/podcast/snowflakes/4.png","/images/podcast/snowflakes/5.png","/images/podcast/snowflakes/6.png","/images/podcast/snowflakes/7.png","/images/podcast/snowflakes/8.png","/images/podcast/snowflakes/9.png"],o=[],l=0;t.map(i=>{let n=new Image;n.addEventListener("load",()=>{o.push(n),o.length===t.length&&(this.snow=new Y({id:"snow",images:o}),this.snow.start())},!1),n.src=i})});y(this,"toggleSnow",t=>{!this.snow||(t>2?this.snow.stop():this.snow.start())});y(this,"switchToPodcastByUrl",()=>{let t=document.querySelectorAll(".podcast-item");if(window.location.href.includes("thanks-for-listening")){this.setCurrentPodcastByID(this.podcastCount);return}for(let o in t)if(t[o].dataset&&t[o].dataset.url&&t[o].dataset.url.length>0&&window.location.href.includes(t[o].dataset.url)){this.setCurrentPodcastByID(t[o].dataset.id);return}});y(this,"readURL",()=>{let t=location.pathname.split("/").at(-2);return t&&this.urlsList.includes(t)?(this.switchDisabled=!0,t):null});y(this,"goToPodcastByUrl",t=>{this.url=t;let o=this.urlsList.indexOf(t);this.setCurrentPodcastByID(o),setTimeout(()=>{this.switchDisabled=!1},500)});y(this,"setURL",t=>{if(this.switchDisabled||this.urlsList[t]==this.url)return;let o;t===!1?(this.url=void 0,o=this.createUrl(this.url)):(this.url=this.urlsList[t],o=this.createUrl(this.url)),history.replaceState(null,null,o)});y(this,"createUrl",t=>{let o=location.pathname.split("/");return o[o.length-1]=t||"",o=o.join("/"),o});y(this,"loadAudio",()=>{Array.from(document.querySelectorAll("[data-timer]")).map(t=>{let o=t.dataset.timer;this.timers[o]={audioLength:0,time:-1,elt:t,mobileElt:t.closest('[data-elements="playContainer"]').querySelector("[data-progress]")}})});y(this,"addEvents",()=>{document.addEventListener("visibilitychange",()=>{document.visibilityState}),document.querySelectorAll(".readmore").forEach(c=>{c.addEventListener("click",function(){let p=document.querySelector(".podcast-transcription");p.classList.remove("fade-out-bottom"),p.classList.add("fade-in-bottom"),p.querySelector(".podcast-transcription__subhead").innerHTML="SEASON "+this.dataset.season+"<span></span>  EPISODE "+this.dataset.episode,p.querySelector(".podcast-transcription__title").innerHTML=this.dataset.title,fetch("/assets/transcriptions/podcasts.json").then(f=>f.json()).then(f=>{p.querySelector(".podcast-transcription__text").innerHTML=f[this.dataset.episode-1].replace(/\n/g,"<br />")}).catch(f=>{})})}),document.querySelector(".podcast-transcription").addEventListener("wheel",t,{passive:!1});function t(c){return c.stopPropagation(),!1}document.querySelector(".podcast-transcription__close").addEventListener("click",function(){document.querySelector(".podcast-transcription").classList.remove("fade-in-bottom"),document.querySelector(".podcast-transcription").classList.add("fade-out-bottom")}),window.addEventListener("wheel",this.handleWheelEvent),window.addEventListener("touchstart",this.handleTouchstartEvent),window.addEventListener("touchmove",this.handleTouchmoveEvent),window.addEventListener("resize",()=>{this.handleResizeEvent()}),this.DOM.nextPodcast.addEventListener("click",c=>{this.setNextPodcast(this.currentPodcast)}),this.DOM.prevPodcast.addEventListener("click",c=>{this.setPrevPodcast(this.currentPodcast)}),this.DOM.togglePlay.forEach(c=>{c.addEventListener("click",p=>{let f=c.dataset.audio;this.stopAllAudio(f);let g=this.audio[f]||{howl:new Q.Howl({name:f,src:`/assets/sounds/${f}.mp3`,autoplay:!1,loop:!1,volume:.5,html5:!0,onload:w=>{},onend:()=>{this.timers[f].elt.closest('[data-elements="playContainer"]').classList.remove("is-play")}})},v=()=>{p.target.closest('[data-elements="playContainer"]').classList.toggle("is-play"),g.howl[g.howl.playing()?"pause":"play"](),this.timers[f].audioLength=g.howl.duration(),g.howl.playing()&&gtag("event","Preview episode",{event_category:"Podcast",event_label:"Preview episode",value:1})};if(!this.audio[f]){this.audio[f]=g,g.howl.once("load",v);return}v()})}),this.popupLink.forEach(c=>{c.addEventListener("click",p=>{let f=p.currentTarget;p.preventDefault(),this.openPopup(f.dataset.popup,f)})}),this.popupClose.forEach(c=>{c.addEventListener("click",p=>{p.preventDefault(),this.closePopup()})}),this.DOM.applePodcast.forEach(c=>{c.addEventListener("click",p=>{gtag("event","Go to podcast page Apple Music",{event_category:"Podcast",event_label:"Podcast page Apple Music",value:1})})}),this.DOM.spotifyPodcast.forEach(c=>{c.addEventListener("click",p=>{gtag("event","Go to podcast page Spotify",{event_category:"Podcast",event_label:"Podcast page Spotify",value:1})})}),this.DOM.podcastPopupToggle?.forEach(c=>{c.addEventListener("click",p=>{this.DOM.podcastPopupToggle?.forEach(f=>{f==c?f.classList.contains("is-active")?this.closePodcastPopup(f):this.openPodcastPopup(f):this.closePodcastPopup(f)})})}),document.addEventListener("click",c=>{c.target.closest('[data-elements="podcastPopupToggle"], .new-podcast-popup')||this.DOM.podcastPopupToggle?.forEach(p=>{this.closePodcastPopup(p)})});let o=document.querySelectorAll(".js-transcription-show-btn"),l=document.querySelectorAll(".js-transcription-close-btn"),i=document.querySelector(".js-podcast-item-popup"),n=document.querySelector(".js-transcription-season"),s=document.querySelector(".js-transcription-episode"),d=document.querySelector(".js-transcription-title"),h=document.querySelector(".js-transcription-info"),m=()=>{i.classList.add("is-active"),window.removeEventListener("wheel",this.handleWheelEvent)},e=()=>{i.classList.remove("is-active"),window.addEventListener("wheel",this.handleWheelEvent)};i.addEventListener("click",c=>{i.isEqualNode(c.target)&&e()}),o.forEach(c=>{c.addEventListener("click",p=>{m(),n.textContent=c.dataset.season,s.textContent=c.dataset.episode,d.textContent=c.dataset.title,h.textContent=c.dataset.transcription})}),l.forEach(c=>{c.addEventListener("click",p=>{e()})});let r=document.querySelectorAll(".js-soon-podcast-email"),a=document.querySelectorAll(".js-soon-podcast-email-input");document.querySelectorAll(".js-soon-podcast-email-button").forEach(c=>{let p=Array.from(r).find(g=>g.dataset.id===c.dataset.id),f=Array.from(a).find(g=>g.dataset.id===c.dataset.id);c.addEventListener("click",g=>{let v=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,w=f.value;v.test(w)?(p.classList.remove("is-error"),f.value="",fetch("/subscribe-podcast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:w})}).then(b=>b.json()).then(b=>{b.code==200&&(console.log("success",b),p.classList.add("is-success"))})):p.classList.add("is-error")})})});y(this,"stopAllAudio",t=>{Object.keys(this.audio).map((o,l)=>{if(o==t)return;this.audio[o].howl.pause()}),Object.keys(this.timers).map((o,l)=>{if(o==t)return;this.timers[o].elt.closest('[data-elements="playContainer"]').classList.remove("is-play")})});y(this,"handleTouchstartEvent",t=>{this.switchDisabled||(this.touches.start=t.changedTouches[0].clientY,this.touches.startTimeline=this.timeline)});y(this,"handleTouchmoveEvent",t=>{if(this.switchDisabled)return;let o=this.touches.start-t.changedTouches[0].clientY,l=this.touches.startTimeline+o/10*this.timelineParams.touchSpeed;this.updateTimeline(l,!0),this.setCurrentPodcastByTime(this.timeline),this.textAnimation()});y(this,"handleTouchendEvent",t=>{this.snapItem(t.deltaY)});y(this,"handleWheelEvent",t=>{if(!this.switchDisabled){if(this.timeline<=2.58){let o=t.deltaY/100;this.setTimeline(o)}else this.snapItem(t.deltaY);this.textAnimation()}});y(this,"snapItem",t=>{(this.smartProgress.getProgress("anim")===this.podcastKeyframes[this.currentPodcast]||this.currentPodcast===-2&&this.smartProgress.getProgress("anim")===9.42)&&(console.log("disable snap scroll"),this.scrollSnapActive=!1),this.timeline>2.58&&!this.scrollSnapActive&&(this.scrollSnapActive=!0,t>0?this.setNextPodcast(this.currentPodcast):this.currentPodcast===0?(this.updateTimeline(2.57,!0),this.scrollSnapActive=!1):this.setPrevPodcast(this.currentPodcast))});y(this,"setLowSpeed",(t,o)=>{this.smartProgress.tweens.anim.speed=t,this.smartProgress.tweens.anim.bump=o});y(this,"resetSpeed",()=>{this.smartProgress.tweens.anim.speed=.005,this.smartProgress.tweens.anim.bump=5e-4});y(this,"getClosestFrame",t=>{let o=this.podcastKeyframes.filter((l,i,n)=>l>t-this.podcastParams.gap&&l<t+this.podcastParams.gap)});y(this,"setTimeline",t=>{this.updateTimeline(t*this.timelineParams.speed),this.setCurrentPodcastByTime(this.timeline)});y(this,"handleResizeEvent",t=>{this.width=window.innerWidth,this.height=window.innerHeight,this.setTrackHeight(),this.trackHeightTimeout&&clearTimeout(this.trackHeightTimeout),this.trackHeightTimeout=setTimeout(()=>{this.setTrackHeight(),this.setTimeline(.01)},100)});y(this,"setTrackHeight",()=>{this.trackHeight=this.DOM.track.getBoundingClientRect().height;let t=this.DOM.keyboard.getBoundingClientRect().height,o=this.DOM.track.getBoundingClientRect().width,l=Math.PI/180*7;this.keyboardOffset=Math.sin(l)*o,this.DOM.trackStart.style.setProperty("width",`${Math.floor(t*2.28)}px`),this.DOM.trackEnd.style.setProperty("width",`${Math.floor(t*2.28)}px`),this.DOM.keyboardPodcast.forEach((i,n,s)=>{i.style.setProperty("width",`${Math.floor(t*1.34)}px`)})});y(this,"setNextPodcast",t=>{t!==void 0&&this.setCurrentPodcastByID(t+1)});y(this,"setPrevPodcast",t=>{t!==void 0&&(t==-2&&(t=this.podcastCount),this.setCurrentPodcastByID(t-1))});y(this,"setCurrentPodcastByID",t=>{let o=this.podcastKeyframes[t];if(t===this.podcastCount){this.updateTimeline(this.kfTime*this.podcastCount+this.kfTime/2+this.kfStartValue,!0),this.setPodcastID(-2);return}o!==void 0&&(this.updateTimeline(o,!0),this.setPodcastID(t))});y(this,"setCurrentPodcastByTime",t=>{let o;this.podcastKeyframes.forEach((l,i)=>{let n=t-this.podcastParams.gap,s=t+this.podcastParams.gap;l>=n&&l<s&&o===void 0&&(o=i)}),this.setPodcastID(o)});y(this,"setPodcastID",t=>{t===void 0?(this.currentPodcast>0&&(this.currentPodcast=-2),this.currentPodcast==0&&(this.currentPodcast=-1)):(this.currentPodcast!=t,this.currentPodcast=t),this.DOM.podcastList.dataset.state=this.currentPodcast,this.DOM.nextPodcast.classList.toggle("is-disabled",this.currentPodcast==-2||this.currentPodcast==this.podcastCount),this.DOM.paginationTrack.classList.toggle("is-active",this.currentPodcast==-2||this.currentPodcast>=this.firstUnpublished),this.DOM.podcastItem.forEach((o,l,i)=>{o.classList.toggle("is-active",this.currentPodcast==l)})});y(this,"updateTimeline",(t,o)=>{let l=o?t:this.timeline+t;l<this.timelineParams.min&&(l=this.timelineParams.min),l>this.timelineParams.max&&(l=this.timelineParams.max),this.timeline!==l&&(this.timeline=l,this.smartProgress.updateProgress("anim",this.timeline))});y(this,"updateAudioTimes",()=>{Object.keys(this.audio).map((t,o)=>{let i=this.audio[t].howl.seek(),n=Math.floor(i);if(this.timers[t].time!=n&&(this.timers[t].elt.innerText=this.formatTime(n),this.timers[t].time=n),this.timers[t].time!=i&&this.width<1024){let s=i/this.timers[t].audioLength;this.timers[t].mobileElt.style.setProperty("stroke-dasharray",`${s*98}, 98`),this.timers[t].time=i}})});y(this,"formatTime",t=>{let o=Math.floor(t/60),l=t%60;return`${o}:${l>9?l:"0"+l}`});y(this,"loop",t=>{let o=t-this.lastTime;this.smartProgress.updateDelta(o);let l=this.smartProgress.getProgress("anim");this.updateDOMAnimations(l),this.updateAudioTimes(),this.toggleSnow(this.timeline),this.lastTime=t,requestAnimationFrame(this.loop)});y(this,"updateDOMAnimations",t=>{let o=L(t,0,1);this.DOMUpdateCache.hand!==o&&(this.DOM.hand.style.setProperty("transform",`translate(-50%, ${-100+o*100}%)`),this.DOM.finger.style.setProperty("transform",`translate(-50%, ${-100+o*100}%)`),this.DOM.handbg.style.setProperty("transform",`translate(0%, ${o*15}%)`));let l=L(t-1,0,1);this.DOMUpdateCache.intro!==l&&this.DOM.intro.style.setProperty("transform",`translate(0%, ${l*-100}%)`);let i=L(t-2,0,.5);this.DOMUpdateCache.start!==i&&this.DOM.start.style.setProperty("opacity",1-i*2);let n=L(t-2,0,this.podcastCount);if(this.DOMUpdateCache.keyboardTrack!==n){let m=n/this.podcastCount,r=window.innerWidth>768?.3:0;this.DOM.track.style.setProperty("transform",`translate(calc(-${m*(100+r*100)}% + 50vw), -${this.keyboardOffset*m}px) rotate(7deg) scale(${1+r})`)}let s=this.currentPodcast/this.podcastCount*100,d=(this.podcastCount-1)/this.podcastCount*100,h=this.currentPodcast>-1?s:this.currentPodcast==-2?d:0;this.DOMUpdateCache.paginationTranslate!=h&&this.DOM.paginationTrack.style.setProperty("transform",`translateX(${-h}%)`),this.DOMUpdateCache.hand=o,this.DOMUpdateCache.intro=l,this.DOMUpdateCache.start=i,this.DOMUpdateCache.keyboardTrack=n,this.DOMUpdateCache.paginationTranslateValue=h});y(this,"openPodcastPopup",t=>{t.classList.add("is-active")});y(this,"closePodcastPopup",t=>{t.classList.remove("is-active")});let t=document.querySelector(".js-loader-left"),o=document.querySelector(".js-loader-right"),l=parseInt(window.getComputedStyle(document.documentElement).getPropertyValue("--initialLoaderTranslateX")),i=0,n=null,s=(e,r,a=.5)=>{let u=r?100:i+a;i=u<100?u:100;let c=l*i/100,p=-l+c,f=l-c;if(t.style.transform=`translateX(${p}%)`,o.style.transform=`translateX(${f}%)`,r)document.body.classList.add("is-podcast-loaded"),window.cancelAnimationFrame(n);else{let g=a;i>=90?g=0:i>=70?g=.01:i>=50&&(g=.1),n=window.requestAnimationFrame(()=>{s(e,!1,g)})}};n=window.requestAnimationFrame(s),this.DOM=q();let d=navigator.userAgent,h=/safari/i.test(d)&&!/chromium|edg|ucbrowser|chrome|crios|opr|opera|fxios|firefox/i.test(d),m=h?"gif":"webm";this.DOM.keyboardPodcast.forEach(e=>{if(e.dataset.type!=="video")return;let r=document.createElement(h?"img":"video");r.classList.add("new-podcast-keyboard__picture"),r.src=`/images/podcast/${e.dataset.url}.${m}`,h||(r.type=`video/${m}`,r.loop=!0,r.autoplay=!0,r.muted=!0,r.playsinline=!0),e.appendChild(r)}),this.query=H(),this.urlsList=["s1e1","s1e2","s2e1"],this.DOMUpdateCache={hand:null,intro:null,start:null,keyboardTrack:null},this.popup=document.querySelectorAll(".js-popup"),this.popupClose=document.querySelectorAll(".js-popup-close"),this.popupLink=document.querySelectorAll(".js-popup-link"),document.querySelectorAll(".js-form").forEach(e=>{new P(e,this.popup)}),this.touches={},this.currentURL="",this.podcastCount=this.DOM.keyboardPodcast.length,this.trackHeight=0,document.documentElement.style.setProperty("--sectionsCount",this.podcastCount),this.timers={},this.audio={},this.loadAudio(),this.kfTime=.74,this.trackMult=1.487,this.podcastKeyframes=[],this.scrollSnapActive=!1,this.kfStartValue=3.58,this.firstUnpublished=this.DOM.podcastItem.filter(e=>e.dataset.published).length;for(let e=0;e<this.podcastCount;e++){let r=this.kfStartValue+this.kfTime*e;this.podcastKeyframes.push(r)}this.podcastParams={gap:this.kfTime/2},this.timeline=0,this.timelineParams={speed:.07,touchSpeed:.025,min:0,max:this.podcastCount+2},this.currentPodcast=-1,this.handleResizeEvent(),this.currentItemID=null,this.smartProgress=new S,this.smartProgress.add("anim",this.timelineParams.min,this.timelineParams.max,.005,5e-4),this.loop(0),this.lastTime=0,this.query.debug=="1"&&(this.updateTimeline(this.kfStartValue,!0),this.setCurrentPodcastByTime(this.timeline)),window.addEventListener("load",e=>{s(null,!0),setTimeout(()=>{this.addEvents(),this.handleResizeEvent(),document.body.classList.remove("is-podcast-loading"),document.body.classList.remove("is-podcast-loaded"),this.switchToPodcastByUrl()},1e3)}),new k(this.DOM.cookieContainer,"is-open",this.DOM.cookieClose)}textAnimation(){document.querySelectorAll(".anim-activator").forEach((t,o)=>{parseFloat(t.dataset.activateTimeLine)<this.smartProgress.getProgress("anim")?t.classList.contains(t.dataset.animation)||(t.style.visibility="visible",t.classList.add(t.dataset.animation)):t.style.visibility!=="hidden"&&(t.style.visibility="hidden",t.classList.remove(t.dataset.animation))})}openPopup(t,o){this.popup.forEach(n=>{n.classList.remove("is-open")}),document.querySelector('.js-popup[data-popup="'+t+'"]').classList.add("is-open");let i=document.querySelectorAll(".podcast-popup .anim-activator");for(let n=0;n<i.length;++n)console.log(i[n]),i[n].style.visibility="hidden",i[n].classList.remove(i[n].dataset.animation);setTimeout(()=>{this.textAnimation()},200)}closePopup(){this.popup.forEach(t=>{t.classList.remove("is-open")})}};window.addEventListener("DOMContentLoaded",()=>{new C});})();
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
/*!
 * validate.js 0.13.1
 *
 * (c) 2013-2019 Nicklas Ansman, 2013 Wrapp
 * Validate.js may be freely distributed under the MIT license.
 * For all details and documentation:
 * http://validatejs.org/
 */
/*! js-cookie v3.0.1 | MIT */
